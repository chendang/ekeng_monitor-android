(function(r,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports.echarts=n():r.echarts=n()})(this,function(){return function(r){function n(m){if(a[m])return a[m].exports;var q=a[m]={exports:{},id:m,loaded:!1};r[m].call(q.exports,q,q.exports,n);q.loaded=!0;return q.exports}var a={};n.m=r;n.c=a;n.p="";return n(0)}([function(r,n,a){r.exports=a(1);a(113);a(139);a(146);a(155);a(159);a(169);a(193);a(205);a(226);a(230);a(234);a(251);a(257);a(264);a(270);a(274);a(283);a(287);a(290);a(313);a(319);a(320);a(321);a(327);a(298);a(331);a(344);a(235);a(291);a(347);a(358);a(362);a(363);a(376);a(391);a(397);a(400);a(403);a(412);a(424)},function(r,n,a){function m(b){return function(c,d,g){c=c&&c.toLowerCase();Q.prototype[b].call(this,c,d,g)}}function q(){Q.call(this)}function k(b,c,d){function g(b,c){return b.prio-c.prio}d=d||{};"string"===typeof c&&(c=ja[c]);this._dom=b;b=this._zr=I.init(b,{renderer:d.renderer||"canvas",devicePixelRatio:d.devicePixelRatio,width:d.width,height:d.height});this._throttledZrFlush=K.throttle(G.bind(b.flush,b),17);this._theme=G.clone(c);this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new B;this._api=x(this);Q.call(this);this._messageCenter=new q;this._initEvents();this.resize=G.bind(this.resize,this);this._pendingActions=[];T(W,g);T(V,g);b.animation.on("frame",this._onframe,this);G.setAsPrimitive(this)}function l(b,c,d){var g=this._model,h=this._coordSysMgr.getCoordinateSystems(),p;c=H.parseFinder(g,c);for(var e=0;e<h.length;e++){var t=h[e];if(t[b]&&null!=(p=t[b](g,c,d)))return p}console.warn("No coordinate system that supports "+b+" found by the given finder.")}function f(b,c,d,g,h){function p(g){g&&g.__alive&&g[c]&&g[c](g.__model,e,b._api,d)}var e=b._model;if(g){var t={};t[g+"Id"]=d[g+"Id"];t[g+"Index"]=d[g+"Index"];t[g+"Name"]=d[g+"Name"];t={mainType:g,query:t};h&&(t.subType=h);e&&e.eachComponent(t,function(c,d){p(b["series"===g?"_chartsMap":"_componentsMap"][c.__viewId])},b)}else P(b._componentsViews.concat(b._chartsViews),p)}function e(b,c){var d=b.type,g=b.escapeConnect,h=X[d],p=h.actionInfo,e=(p.update||"update").split(":"),t=e.pop(),e=null!=e[0]&&U(e[0]);this.__flagInMainProcess=!0;var u=[b],v=!1;b.batch&&(v=!0,u=G.map(b.batch,function(c){c=G.defaults(G.extend({},c),b);c.batch=null;return c}));var a=[],w,x="highlight"===d||"downplay"===d;P(u,function(b){w=(w=h.action(b,this._model,this._api))||G.extend({},b);w.type=p.event||w.type;a.push(w);x?f(this,t,b,"series"):e&&f(this,t,b,e.main,e.sub)},this);"none"===t||x||e||(this.__optionUpdated?(S.prepareAndUpdate.call(this,b),this.__optionUpdated=!1):S[t].call(this,b));w=v?{type:p.event||d,escapeConnect:g,batch:a}:a[0];this.__flagInMainProcess=!1;!c&&this._messageCenter.trigger(w.type,w)}function c(b){for(var c=this._pendingActions;c.length;){var d=c.shift();e.call(this,d,b)}}function d(b,c,d){var g=this._api;P(this._componentsViews,function(h){var p=h.__model;h[b](p,c,g,d);u(p,h)},this);c.eachSeries(function(h,p){var e=this._chartsMap[h.__viewId];e[b](h,c,g,d);u(h,e);v(h,e)},this);z(this._zr,c);P(fa,function(b){b(c,g)})}function b(b,c){for(var d="component"===b,g=d?this._componentsViews:this._chartsViews,h=d?this._componentsMap:this._chartsMap,p=this._zr,e=0;e<g.length;e++)g[e].__alive=!1;c[d?"eachComponent":"eachSeries"](function(b,e){if(d){if("series"===b)return}else e=b;var t="_ec_"+e.id+"_"+e.type,f=h[t];if(!f)if(f=U(e.type),f=d?N.getClass(f.main,f.sub):F.getClass(f.sub))f=new f,f.init(c,this._api),h[t]=f,g.push(f),p.add(f.group);else return;e.__viewId=f.__id=t;f.__alive=!0;f.__model=e;f.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex}},this);for(e=0;e<g.length;){var t=g[e];t.__alive?e++:(p.remove(t.group),t.dispose(c,this._api),g.splice(e,1),delete h[t.__id],t.__id=t.group.__ecComponentInfo=null)}}function g(b,c){P(V,function(d){d.func(b,c)})}function p(b){var c={};b.eachSeries(function(b){var d=b.get("stack");b=b.getData();if(d&&"list"===b.type){var g=c[d];c.hasOwnProperty(d)&&g&&(b.stackedOn=g);c[d]=b}})}function h(b,c){var d=this._api;P(W,function(g){g.isLayout&&g.func(b,d,c)})}function t(b,c,d){var g=this._api;b.clearColorPalette();b.eachSeries(function(b){b.clearColorPalette()});P(W,function(h){d&&h.isLayout||h.func(b,g,c)})}function w(b,c){var d=this._api;P(this._componentsViews,function(g){var h=g.__model;g.render(h,b,d,c);u(h,g)},this);P(this._chartsViews,function(b){b.__alive=!1},this);b.eachSeries(function(g,h){var p=this._chartsMap[g.__viewId];p.__alive=!0;p.render(g,b,d,c);p.group.silent=!!g.get("silent");u(g,p);v(g,p)},this);z(this._zr,b);P(this._chartsViews,function(c){c.__alive||c.remove(b,d)},this)}function z(b,c){var d=b.storage,g=0;d.traverse(function(b){b.isGroup||g++});g>c.get("hoverLayerThreshold")&&!D.node&&d.traverse(function(b){b.isGroup||(b.useHoverLayer=!0)})}function v(b,c){var d=0;c.group.traverse(function(b){"group"===b.type||b.ignore||d++});var g=+b.get("progressive"),h=d>b.get("progressiveThreshold")&&g&&!D.node;h&&c.group.traverse(function(b){b.isGroup||(b.progressive=h?Math.floor(d++/g):-1,h&&b.stopAnimation(!0))});var p=b.get("blendMode")||null;!D.canvasSupported&&p&&"source-over"!==p&&console.warn("Only canvas support blendMode");c.group.traverse(function(b){b.isGroup||b.setStyle("blend",p)})}function u(b,c){var d=b.get("z"),g=b.get("zlevel");c.group.traverse(function(b){"group"!==b.type&&(null!=d&&(b.z=d),null!=g&&(b.zlevel=g))})}function x(b){var c=b._coordSysMgr;return G.extend(new C(b),{getCoordinateSystems:G.bind(c.getCoordinateSystems,c),getComponentByElement:function(c){for(;c;){var d=c.__ecComponentInfo;if(null!=d)return b._model.getComponent(d.mainType,d.index);c=c.parent}}})}function y(b){function c(b,c){for(var d=0;d<b.length;d++)b[d].__connectUpdateStatus=c}G.each(Y,function(d,g){b._messageCenter.on(g,function(d){if(la[b.group]&&0!==b.__connectUpdateStatus&&(!d||!d.escapeConnect)){var g=b.makeActionFromEvent(d),h=[];G.each(ca,function(c){c!==b&&c.group===b.group&&h.push(c)});c(h,0);P(h,function(b){1!==b.__connectUpdateStatus&&b.dispatchAction(g)});c(h,2)}})})}var D=a(2),A=a(3),C=a(75),B=a(76),L=a(77),E=a(69),M=a(78),N=a(79),F=a(80),J=a(18),H=a(5),K=a(81),I=a(82),G=a(4),O=a(31),Q=a(25),T=a(86),P=G.each,U=E.parseClassType,aa=/^[a-zA-Z0-9_]+$/;q.prototype.on=m("on");q.prototype.off=m("off");q.prototype.one=m("one");G.mixin(q,Q);n=k.prototype;n._onframe=function(){if(this.__optionUpdated){var b=this.__optionUpdated.silent;this.__flagInMainProcess=!0;S.prepareAndUpdate.call(this);this.__optionUpdated=this.__flagInMainProcess=!1;c.call(this,b);!b&&this.trigger("updated")}};n.getDom=function(){return this._dom};n.getZr=function(){return this._zr};n.setOption=function(b,d,g){G.assert(!this.__flagInMainProcess,"`setOption` should not be called during main process.");var h;G.isObject(d)&&(g=d.lazyUpdate,h=d.silent,d=d.notMerge);this.__flagInMainProcess=!0;if(!this._model||d){d=new L(this._api);var p=this._theme;(this._model=new A(null,null,p,d)).init(null,null,p,d)}this._model.setOption(b,Z);g?(this.__optionUpdated={silent:h},this.__flagInMainProcess=!1):(S.prepareAndUpdate.call(this),this._zr.flush(),this.__flagInMainProcess=this.__optionUpdated=!1,c.call(this,h),!h&&this.trigger("updated"))};n.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};n.getModel=function(){return this._model};n.getOption=function(){return this._model&&this._model.getOption()};n.getWidth=function(){return this._zr.getWidth()};n.getHeight=function(){return this._zr.getHeight()};n.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};n.getRenderedCanvas=function(b){if(D.canvasSupported){b=b||{};b.pixelRatio=b.pixelRatio||1;b.backgroundColor=b.backgroundColor||this._model.get("backgroundColor");var c=this._zr,d=c.storage.getDisplayList();G.each(d,function(b){b.stopAnimation(!0)});return c.painter.getRenderedCanvas(b)}};n.getDataURL=function(b){b=b||{};var c=this._model,d=[],g=this;P(b.excludeComponents,function(b){c.eachComponent({mainType:b},function(b){b=g._componentsMap[b.__viewId];b.group.ignore||(d.push(b),b.group.ignore=!0)})});b=this.getRenderedCanvas(b).toDataURL("image/"+(b&&b.type||"png"));P(d,function(b){b.group.ignore=!1});return b};n.getConnectedDataURL=function(b){if(D.canvasSupported){var c=this.group,d=Math.min,g=Math.max;if(la[c]){var h=Infinity,p=Infinity,e=-Infinity,t=-Infinity,f=[],u=b&&b.pixelRatio||1;G.each(ca,function(u,v){if(u.group===c){var a=u.getRenderedCanvas(G.clone(b)),w=u.getDom().getBoundingClientRect();h=d(w.left,h);p=d(w.top,p);e=g(w.right,e);t=g(w.bottom,t);f.push({dom:a,left:w.left,top:w.top})}});var h=h*u,p=p*u,e=e*u,t=t*u,v=e-h,a=t-p,w=G.createCanvas();w.width=v;w.height=a;var x=I.init(w);P(f,function(b){b=new J.Image({style:{x:b.left*u-h,y:b.top*u-p,image:b.dom}});x.add(b)});x.refreshImmediately();return w.toDataURL("image/"+(b&&b.type||"png"))}return this.getDataURL(b)}};n.convertToPixel=G.curry(l,"convertToPixel");n.convertFromPixel=G.curry(l,"convertFromPixel");n.containPixel=function(b,c){var d;b=H.parseFinder(this._model,b);G.each(b,function(b,g){0<=g.indexOf("Models")&&G.each(b,function(b){var h=b.coordinateSystem;h&&h.containPoint?d|=!!h.containPoint(c):"seriesModels"===g?(h=this._chartsMap[b.__viewId])&&h.containPoint?d|=h.containPoint(c,b):console.warn(g+": "+(h?"The found component do not support containPoint.":"No view mapping to the found component.")):console.warn(g+": containPoint is not supported")},this)},this);return!!d};n.getVisual=function(b,c){b=H.parseFinder(this._model,b,{defaultMainType:"series"});var d=b.seriesModel;d||console.warn("There is no specified seires model");var d=d.getData(),g=b.hasOwnProperty("dataIndexInside")?b.dataIndexInside:b.hasOwnProperty("dataIndex")?d.indexOfRawIndex(b.dataIndex):null;return null!=g?d.getItemVisual(g,c):d.getVisual(c)};n.getViewOfComponentModel=function(b){return this._componentsMap[b.__viewId]};n.getViewOfSeriesModel=function(b){return this._chartsMap[b.__viewId]};var S={update:function(b){var c=this._model,d=this._api,h=this._coordSysMgr,e=this._zr;c&&(c.restoreData(),h.create(this._model,this._api),g.call(this,c,d),p.call(this,c),h.update(c,d),t.call(this,c,b),w.call(this,c,b),b=c.get("backgroundColor")||"transparent",h=e.painter,h.isSingleCanvas&&h.isSingleCanvas()?e.configLayer(0,{clearColor:b}):(D.canvasSupported||(h=O.parse(b),b=O.stringify(h,"rgb"),0===h[3]&&(b="transparent")),b.colorStops||b.image?(e.configLayer(0,{clearColor:b}),this.__hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this.__hasGradientOrPatternBg&&e.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=b)),P(fa,function(b){b(c,d)}))},updateView:function(b){var c=this._model;c&&(c.eachSeries(function(b){b.getData().clearAllVisual()}),t.call(this,c,b),d.call(this,"updateView",c,b))},updateVisual:function(b){var c=this._model;c&&(c.eachSeries(function(b){b.getData().clearAllVisual()}),t.call(this,c,b,!0),d.call(this,"updateVisual",c,b))},updateLayout:function(b){var c=this._model;c&&(h.call(this,c,b),d.call(this,"updateLayout",c,b))},prepareAndUpdate:function(c){var d=this._model;b.call(this,"component",d);b.call(this,"chart",d);S.update.call(this,c)}};n.resize=function(b){G.assert(!this.__flagInMainProcess,"`resize` should not be called during main process.");this.__flagInMainProcess=!0;this._zr.resize(b);var d=this._model&&this._model.resetOption("media");S[d?"prepareAndUpdate":"update"].call(this);this._loadingFX&&this._loadingFX.resize();this.__flagInMainProcess=!1;b=b&&b.silent;c.call(this,b);!b&&this.trigger("updated")};n.showLoading=function(b,c){G.isObject(b)&&(c=b,b="");b=b||"default";this.hideLoading();if(na[b]){var d=na[b](this._api,c),g=this._zr;this._loadingFX=d;g.add(d)}else console.warn("Loading effects "+b+" not exists.")};n.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};n.makeActionFromEvent=function(b){var c=G.extend({},b);c.type=Y[b.type];return c};n.dispatchAction=function(b,d){G.isObject(d)||(d={silent:!!d});X[b.type]&&(this.__flagInMainProcess?this._pendingActions.push(b):(e.call(this,b,d.silent),d.flush?this._zr.flush(!0):!1!==d.flush&&D.browser.weChat&&this._throttledZrFlush(),c.call(this,d.silent),!d.silent&&this.trigger("updated")))};n.on=m("on");n.off=m("off");n.one=m("one");var ba="click dblclick mouseover mouseout mousemove mousedown mouseup globalout contextmenu".split(" ");n._initEvents=function(){P(ba,function(b){this._zr.on(b,function(c){var d=this.getModel(),g=c.target,h;"globalout"===b?h={}:g&&null!=g.dataIndex?h=(d=g.dataModel||d.getSeriesByIndex(g.seriesIndex))&&d.getDataParams(g.dataIndex,g.dataType)||{}:g&&g.eventData&&(h=G.extend({},g.eventData));h&&(h.event=c,h.type=b,this.trigger(b,h))},this)},this);P(Y,function(b,c){this._messageCenter.on(c,function(b){this.trigger(c,b)},this)},this)};n.isDisposed=function(){return this._disposed};n.clear=function(){this.setOption({series:[]},!0)};n.dispose=function(){if(this._disposed)console.warn("Instance "+this.id+" has been disposed");else{this._disposed=!0;var b=this._api,c=this._model;P(this._componentsViews,function(d){d.dispose(c,b)});P(this._chartsViews,function(d){d.dispose(c,b)});this._zr.dispose();delete ca[this.id]}};G.mixin(k,Q);var X={},Y={},V=[],Z=[],fa=[],W=[],ja={},na={},ca={},la={},pa=new Date-0,qa=new Date-0,R={version:"3.6.2",dependencies:{zrender:"3.5.2"},init:function(b,c,d){if(I.version.replace(".","")-0<R.dependencies.zrender.replace(".","")-0)throw Error("ZRender "+I.version+" is too old for ECharts "+R.version+". Current version need ZRender "+R.dependencies.zrender+"+");if(!b)throw Error("Initialize failed: invalid dom.");var g=R.getInstanceByDom(b);if(g)return console.warn("There is a chart instance already initialized on the dom."),g;!G.isDom(b)||"CANVAS"===b.nodeName.toUpperCase()||(b.clientWidth||d&&null!=d.width)&&(b.clientHeight||d&&null!=d.height)||console.warn("Can't get dom width or height");c=new k(b,c,d);c.id="ec_"+pa++;ca[c.id]=c;b.setAttribute?b.setAttribute("_echarts_instance_",c.id):b._echarts_instance_=c.id;y(c);return c},connect:function(b){if(G.isArray(b)){var c=b;b=null;G.each(c,function(c){null!=c.group&&(b=c.group)});b=b||"g_"+qa++;G.each(c,function(c){c.group=b})}la[b]=!0;return b},disConnect:function(b){la[b]=!1}};R.disconnect=R.disConnect;R.dispose=function(b){"string"===typeof b?b=ca[b]:b instanceof k||(b=R.getInstanceByDom(b));b instanceof k&&!b.isDisposed()&&b.dispose()};R.getInstanceByDom=function(b){b=b.getAttribute?b.getAttribute("_echarts_instance_"):b._echarts_instance_;return ca[b]};R.getInstanceById=function(b){return ca[b]};R.registerTheme=function(b,c){ja[b]=c};R.registerPreprocessor=function(b){Z.push(b)};R.registerProcessor=function(b,c){"function"===typeof b&&(c=b,b=1E3);if(isNaN(b))throw Error("Unkown processor priority");V.push({prio:b,func:c})};R.registerPostUpdate=function(b){fa.push(b)};R.registerAction=function(b,c,d){"function"===typeof c&&(d=c,c="");var g=G.isObject(b)?b.type:[b,b={event:c}][0];b.event=(b.event||g).toLowerCase();c=b.event;G.assert(aa.test(g)&&aa.test(c));X[g]||(X[g]={action:d,actionInfo:b});Y[c]=g};R.registerCoordinateSystem=function(b,c){B.register(b,c)};R.getCoordinateSystemDimensions=function(b){if(b=B.get(b))return b.getDimensionsInfo?b.getDimensionsInfo():b.dimensions.slice()};R.registerLayout=function(b,c){"function"===typeof b&&(c=b,b=1E3);if(isNaN(b))throw Error("Unkown layout priority");W.push({prio:b,func:c,isLayout:!0})};R.registerVisual=function(b,c){"function"===typeof b&&(c=b,b=3E3);if(isNaN(b))throw Error("Unkown visual priority");W.push({prio:b,func:c})};R.registerLoading=function(b,c){na[b]=c};R.extendComponentModel=function(b){return E.extend(b)};R.extendComponentView=function(b){return N.extend(b)};R.extendSeriesModel=function(b){return M.extend(b)};R.extendChartView=function(b){return F.extend(b)};R.setCanvasCreator=function(b){G.createCanvas=b};R.registerVisual(2E3,a(94));R.registerPreprocessor(a(95));R.registerLoading("default",a(97));R.registerAction({type:"highlight",event:"highlight",update:"highlight"},G.noop);R.registerAction({type:"downplay",event:"downplay",update:"downplay"},G.noop);R.zrender=I;R.List=a(98);R.Model=a(12);R.Axis=a(100);R.graphic=a(18);R.number=a(7);R.format=a(6);R.throttle=K.throttle;R.matrix=a(11);R.vector=a(10);R.color=a(31);R.util={};P("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults clone merge".split(" "),function(b){R.util[b]=G[b]});R.helper=a(108);R.PRIORITY={PROCESSOR:{FILTER:1E3,STATISTIC:5E3},VISUAL:{LAYOUT:1E3,GLOBAL:2E3,CHART:3E3,COMPONENT:4E3,BRUSH:5E3}};r.exports=R},function(r,n){var a;if("undefined"===typeof navigator)a={browser:{},os:{},node:!0,canvasSupported:!0};else{var m=navigator.userAgent;a={};var q=m.match(/Firefox\/([\d.]+)/),k=m.match(/MSIE\s([\d.]+)/)||m.match(/Trident\/.+?rv:(([\d.]+))/),l=m.match(/Edge\/([\d.]+)/),m=/micromessenger/i.test(m);q&&(a.firefox=!0,a.version=q[1]);k&&(a.ie=!0,a.version=k[1]);l&&(a.edge=!0,a.version=l[1]);m&&(a.weChat=!0);a={browser:a,os:{},node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!a.ie&&!a.edge,pointerEventsSupported:"onpointerdown"in window&&(a.edge||a.ie&&11<=a.version)}}r.exports=a},function(r,n,a){function m(b,d){c.each(d,function(d,g){v.hasClass(g)||("object"===typeof d?b[g]=b[g]?c.merge(b[g],d,!1):c.clone(d):null==b[g]&&(b[g]=d))})}function q(b){this.option={};this.option["\x00_ec_inner"]=1;this._componentsMap=c.createHashMap({series:[]});this._seriesIndices=null;m(b,this._theme.option);c.merge(b,u,!1);this.mergeOption(b)}function k(b,d){c.isArray(d)||(d=d?[d]:[]);var h={};g(d,function(c){h[c]=(b.get(c)||[]).slice()});return h}function l(b){return h(b,function(b){return b.componentIndex})||[]}function f(b,c){return c.hasOwnProperty("subType")?p(b,function(b){return b.subType===c.subType}):b}function e(b){if(!b._seriesIndices)throw Error("Option should contains series.");}var c=a(4),d=a(5),b=a(12),g=c.each,p=c.filter,h=c.map,t=c.isArray,w=c.indexOf,z=c.isObject,v=a(69),u=a(73),x=b.extend({constructor:x,init:function(c,d,g,h){g=g||{};this.option=null;this._theme=new b(g);this._optionManager=h},setOption:function(b,d){c.assert(!("\x00_ec_inner"in b),"please use chart.getOption()");this._optionManager.setOption(b,d);this.resetOption(null)},resetOption:function(b){var c=!1,d=this._optionManager;if(!b||"recreate"===b){var h=d.mountOption("recreate"===b);this.option&&"recreate"!==b?(this.restoreData(),this.mergeOption(h)):q.call(this,h);c=!0}"timeline"!==b&&"media"!==b||this.restoreData();b&&"recreate"!==b&&"timeline"!==b||(h=d.getTimelineOption(this))&&(this.mergeOption(h),c=!0);b&&"recreate"!==b&&"media"!==b||(b=d.getMediaOption(this,this._api),b.length&&g(b,function(b){this.mergeOption(b,c=!0)},this));return c},mergeOption:function(b){var h=this.option,p=this._componentsMap,e=[];g(b,function(b,d){null!=b&&(v.hasClass(d)?e.push(d):h[d]=null==h[d]?c.clone(b):c.merge(h[d],b,!0))});v.topologicalTravel(e,v.getAllClassMainTypes(),function(e,t){var f=d.normalizeToArray(b[e]),f=d.mappingToExists(p.get(e),f);d.makeIdAndName(f);g(f,function(b,c){var d=b.option;if(z(d)){b.keyInfo.mainType=e;var g=b.keyInfo,h=b.exist,d=d.type?d.type:h?h.subType:v.determineSubType(e,d);g.subType=d}});var u=k(p,t);h[e]=[];p.set(e,[]);g(f,function(b,d){var g=b.exist,t=b.option;c.assert(z(t)||g,"Empty component definition");if(t){var f=v.getClass(e,b.keyInfo.subType,!0);if(g&&g instanceof f)g.name=b.keyInfo.name,g.mergeOption(t,this),g.optionUpdated(t,!1);else{var a=c.extend({dependentModels:u,componentIndex:d},b.keyInfo),g=new f(t,this,this,a);c.extend(g,a);g.init(t,this,this,a);g.optionUpdated(null,!0)}}else g.mergeOption({},this),g.optionUpdated({},!1);p.get(e)[d]=g;h[e][d]=g.option},this);"series"===e&&(this._seriesIndices=l(p.get("series")))},this);this._seriesIndices=this._seriesIndices||[]},getOption:function(){var b=c.clone(this.option);g(b,function(c,g){if(v.hasClass(g)){c=d.normalizeToArray(c);for(var h=c.length-1;0<=h;h--)d.isIdInner(c[h])&&c.splice(h,1);b[g]=c}});delete b["\x00_ec_inner"];return b},getTheme:function(){return this._theme},getComponent:function(b,c){var d=this._componentsMap.get(b);if(d)return d[c||0]},queryComponents:function(b){var c=b.mainType;if(!c)return[];var d=b.index,g=b.id,e=b.name,u=this._componentsMap.get(c);if(!u||!u.length)return[];if(null!=d)t(d)||(d=[d]),c=p(h(d,function(b){return u[b]}),function(b){return!!b});else if(null!=g)var v=t(g),c=p(u,function(b){return v&&0<=w(g,b.id)||!v&&b.id===g});else if(null!=e)var a=t(e),c=p(u,function(b){return a&&0<=w(e,b.name)||!a&&b.name===e});else c=u.slice();return f(c,b)},findComponents:function(b){var c=b.mainType,d=function(b){var d=c+"Index",g=c+"Id",h=c+"Name";return!b||null==b[d]&&null==b[g]&&null==b[h]?null:{mainType:c,index:b[d],id:b[g],name:b[h]}}(b.query),d=d?this.queryComponents(d):this._componentsMap.get(c);return function(c){return b.filter?p(c,b.filter):c}(f(d,b))},eachComponent:function(b,d,h){var p=this._componentsMap;"function"===typeof b?(h=d,d=b,p.each(function(b,c){g(b,function(b,g){d.call(h,c,b,g)})})):c.isString(b)?g(p.get(b),d,h):z(b)&&(b=this.findComponents(b),g(b,d,h))},getSeriesByName:function(b){var c=this._componentsMap.get("series");return p(c,function(c){return c.name===b})},getSeriesByIndex:function(b){return this._componentsMap.get("series")[b]},getSeriesByType:function(b){var c=this._componentsMap.get("series");return p(c,function(c){return c.subType===b})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(b,c){e(this);g(this._seriesIndices,function(d){var g=this._componentsMap.get("series")[d];b.call(c,g,d)},this)},eachRawSeries:function(b,c){g(this._componentsMap.get("series"),b,c)},eachSeriesByType:function(b,c,d){e(this);g(this._seriesIndices,function(g){var h=this._componentsMap.get("series")[g];h.subType===b&&c.call(d,h,g)},this)},eachRawSeriesByType:function(b,c,d){return g(this.getSeriesByType(b),c,d)},isSeriesFiltered:function(b){e(this);return 0>c.indexOf(this._seriesIndices,b.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(b,c){e(this);var d=p(this._componentsMap.get("series"),b,c);this._seriesIndices=l(d)},restoreData:function(){var b=this._componentsMap;this._seriesIndices=l(b.get("series"));var c=[];b.each(function(b,d){c.push(d)});v.topologicalTravel(c,v.getAllClassMainTypes(),function(c,d){g(b.get(c),function(b){b.restoreData()})})}});c.mixin(x,a(74));r.exports=x},function(r,n){function a(b){if(null==b||"object"!=typeof b)return b;var c=b,e=h.call(b);if("[object Array]"===e)for(var c=[],e=0,t=b.length;e<t;e++)c[e]=a(b[e]);else if(p[e])c=b.constructor.from(b);else if(!g[e]&&!b[D]&&!d(b))for(t in c={},b)b.hasOwnProperty(t)&&(c[t]=a(b[t]));return c}function m(b,g,h){if(!e(g)||!e(b))return h?a(g):b;for(var p in g)if(g.hasOwnProperty(p)){var t=b[p],u=g[p];!e(u)||!e(t)||f(u)||f(t)||d(u)||d(t)||c(u)||c(t)||u[D]||t[D]?!h&&p in b||(b[p]=a(g[p],!0)):m(t,u,h)}return b}function q(b,c,d){for(var g in c)c.hasOwnProperty(g)&&(d?null!=c[g]:null==b[g])&&(b[g]=c[g]);return b}function k(b,c,d){if(b&&c)if(b.forEach&&b.forEach===w)b.forEach(c,d);else if(b.length===+b.length)for(var g=0,h=b.length;g<h;g++)c.call(d,b[g],g,b);else for(g in b)b.hasOwnProperty(g)&&c.call(d,b[g],g,b)}function l(b,c){var d=v.call(arguments,2);return function(){return b.apply(c,d.concat(v.call(arguments)))}}function f(b){return"[object Array]"===h.call(b)}function e(b){var c=typeof b;return"function"===c||!!b&&"object"==c}function c(b){return!!g[h.call(b)]}function d(b){return"object"===typeof b&&"number"===typeof b.nodeType&&"object"===typeof b.ownerDocument}function b(b){b&&k(b,function(b,c){this.set(c,b)},this)}var g={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},p={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},h=Object.prototype.toString,t=Array.prototype,w=t.forEach,z=t.filter,v=t.slice,u=t.map,x=t.reduce,y,D="__ec_primitive__";b.prototype={constructor:b,get:function(b){return this["_ec_"+b]},set:function(b,c){return this["_ec_"+b]=c},each:function(b,c){void 0!==c&&(b=l(b,c));for(var d in this)this.hasOwnProperty(d)&&b(this[d],d.slice(4))},removeKey:function(b){delete this[b]}};var A={inherits:function(b,c){function d(){}var g=b.prototype;d.prototype=c.prototype;b.prototype=new d;for(var h in g)b.prototype[h]=g[h];b.prototype.constructor=b;b.superClass=c},mixin:function(b,c,d){b="prototype"in b?b.prototype:b;c="prototype"in c?c.prototype:c;q(b,c,d)},clone:a,merge:m,mergeAll:function(b,c){for(var d=b[0],g=1,h=b.length;g<h;g++)d=m(d,b[g],c);return d},extend:function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);return b},defaults:q,getContext:function(){y||(y=A.createCanvas().getContext("2d"));return y},createCanvas:function(){return document.createElement("canvas")},indexOf:function(b,c){if(b){if(b.indexOf)return b.indexOf(c);for(var d=0,g=b.length;d<g;d++)if(b[d]===c)return d}return-1},slice:function(){return Function.call.apply(v,arguments)},find:function(b,c,d){if(b&&c)for(var g=0,h=b.length;g<h;g++)if(c.call(d,b[g],g,b))return b[g]},isArrayLike:function(b){if(b)return"string"==typeof b?!1:"number"==typeof b.length},each:k,map:function(b,c,d){if(b&&c){if(b.map&&b.map===u)return b.map(c,d);for(var g=[],h=0,p=b.length;h<p;h++)g.push(c.call(d,b[h],h,b));return g}},reduce:function(b,c,d,g){if(b&&c){if(b.reduce&&b.reduce===x)return b.reduce(c,d,g);for(var h=0,p=b.length;h<p;h++)d=c.call(g,d,b[h],h,b);return d}},filter:function(b,c,d){if(b&&c){if(b.filter&&b.filter===z)return b.filter(c,d);for(var g=[],h=0,p=b.length;h<p;h++)c.call(d,b[h],h,b)&&g.push(b[h]);return g}},bind:l,curry:function(b){var c=v.call(arguments,1);return function(){return b.apply(this,c.concat(v.call(arguments)))}},isArray:f,isString:function(b){return"[object String]"===h.call(b)},isObject:e,isFunction:function(b){return"function"===typeof b},isBuiltInObject:c,isDom:d,eqNaN:function(b){return b!==b},retrieve:function(b){for(var c=0,d=arguments.length;c<d;c++)if(null!=arguments[c])return arguments[c]},assert:function(b,c){if(!b)throw Error(c);},setAsPrimitive:function(b){b[D]=!0},createHashMap:function(c){return new b(c)},noop:function(){}};r.exports=A},function(r,n,a){var m=a(6),q=a(7),k=a(12),l=a(4),f=l.each,e=l.isObject,c={normalizeToArray:function(c){return c instanceof Array?c:null==c?[]:[c]},defaultEmphasis:function(c,b){if(c){var d=c.emphasis=c.emphasis||{},p=c.normal=c.normal||{};f(b,function(b){var c=l.retrieve(d[b],p[b]);null!=c&&(d[b]=c)})}},LABEL_OPTIONS:"position offset show textStyle distance formatter".split(" "),getDataItemValue:function(c){return c&&(null==c.value?c:c.value)},isDataItemOption:function(c){return e(c)&&!(c instanceof Array)},converDataValue:function(c,b){var d=b&&b.type;if("ordinal"===d)return c;"time"===d&&"number"!==typeof c&&null!=c&&"-"!==c&&(c=+q.parseDate(c));return null==c||""===c?NaN:+c},createDataFormatModel:function(d,b){var g=new k;l.mixin(g,c.dataFormatMixin);g.seriesIndex=b.seriesIndex;g.name=b.name||"";g.mainType=b.mainType;g.subType=b.subType;g.getData=function(){return d};return g}};c.dataFormatMixin={getDataParams:function(c,b){var d=this.getData(b),p=this.getRawValue(c,b),h=d.getRawIndex(c),e=d.getName(c,!0),f=d.getRawDataItem(c),d=d.getItemVisual(c,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:e,dataIndex:h,data:f,dataType:b,value:p,color:d,marker:m.getTooltipMarker(d),$vars:["seriesName","name","value"]}},getFormattedLabel:function(c,b,g,p,h){b=b||"normal";var d=this.getData(g).getItemModel(c);c=this.getDataParams(c,g);null!=p&&c.value instanceof Array&&(c.value=c.value[p]);p=d.get([h||"label",b,"formatter"]);if("function"===typeof p)return c.status=b,p(c);if("string"===typeof p)return m.formatTpl(p,c)},getRawValue:function(c,b){var d=this.getData(b).getRawDataItem(c);if(null!=d)return!e(d)||d instanceof Array?d:d.value},formatTooltip:l.noop};c.mappingToExists=function(d,b){b=(b||[]).slice();var g=l.map(d||[],function(b,c){return{exist:b}});f(b,function(d,h){if(e(d)){for(var p=0;p<g.length;p++)if(!g[p].option&&null!=d.id&&g[p].exist.id===d.id+""){g[p].option=d;b[h]=null;return}for(p=0;p<g.length;p++){var f=g[p].exist;if(!(g[p].option||null!=f.id&&null!=d.id||null==d.name||c.isIdInner(d)||c.isIdInner(f))&&f.name===d.name+""){g[p].option=d;b[h]=null;break}}}});f(b,function(b,d){if(e(b)){for(var h=0;h<g.length;h++){var p=g[h].exist;if(!g[h].option&&!c.isIdInner(p)&&null==b.id){g[h].option=b;break}}h>=g.length&&g.push({option:b})}});return g};c.makeIdAndName=function(c){var b=l.createHashMap();f(c,function(c,d){var g=c.exist;g&&b.set(g.id,c)});f(c,function(c,d){var g=c.option;l.assert(!g||null==g.id||!b.get(g.id)||b.get(g.id)===c,"id duplicates: "+(g&&g.id));g&&null!=g.id&&b.set(g.id,c);!c.keyInfo&&(c.keyInfo={})});f(c,function(c,d){var g=c.exist,p=c.option,f=c.keyInfo;if(e(p)){f.name=null!=p.name?p.name+"":g?g.name:"\x00-";if(g)f.id=g.id;else if(null!=p.id)f.id=p.id+"";else{g=0;do f.id="\x00"+f.name+"\x00"+g++;while(b.get(f.id))}b.set(f.id,c)}})};c.isIdInner=function(c){return e(c)&&c.id&&0===(c.id+"").indexOf("\x00_ec_\x00")};c.compressBatches=function(d,b){function g(b,d,g){for(var h=0,p=b.length;h<p;h++)for(var e=b[h].seriesId,t=c.normalizeToArray(b[h].dataIndex),f=g&&g[e],v=0,a=t.length;v<a;v++){var w=t[v];f&&f[w]?f[w]=null:(d[e]||(d[e]={}))[w]=1}}function p(b,c){var d=[],g;for(g in b)if(b.hasOwnProperty(g)&&null!=b[g])if(c)d.push(+g);else{var h=p(b[g],!0);h.length&&d.push({seriesId:g,dataIndex:h})}return d}var h={},e={};g(d||[],h);g(b||[],e,h);return[p(h),p(e)]};c.queryDataIndex=function(c,b){if(null!=b.dataIndexInside)return b.dataIndexInside;if(null!=b.dataIndex)return l.isArray(b.dataIndex)?l.map(b.dataIndex,function(b){return c.indexOfRawIndex(b)}):c.indexOfRawIndex(b.dataIndex);if(null!=b.name)return l.isArray(b.name)?l.map(b.name,function(b){return c.indexOfName(b)}):c.indexOfName(b.name)};c.makeGetter=function(){var c=0;return function(){var b="\x00__ec_prop_getter_"+c++;return function(c){return c[b]||(c[b]={})}}}();c.parseFinder=function(c,b,g){if(l.isString(b)){var d={};d[b+"Index"]=0;b=d}d=g&&g.defaultMainType;!d||b&&b.hasOwnProperty(d+"Index")||b&&b.hasOwnProperty(d+"Id")||b&&b.hasOwnProperty(d+"Name")||(b[d+"Index"]=0);var h={};f(b,function(d,p){d=b[p];if("dataIndex"===p||"dataIndexInside"===p)h[p]=d;else{var e=p.match(/^(\w+)(Index|Id|Name)$/)||[],t=e[1],e=(e[2]||"").toLowerCase();if(!(!t||!e||null==d||"index"===e&&"none"===d||g&&g.includeMainTypes&&0>l.indexOf(g.includeMainTypes,t))){var f={mainType:t};if("index"!==e||"all"!==d)f[e]=d;e=c.queryComponents(f);h[t+"Models"]=e;h[t+"Model"]=e[0]}}});return h};c.dataDimToCoordDim=function(c,b){var d=c.dimensions;b=c.getDimension(b);for(var p=0;p<d.length;p++){var h=c.getDimensionInfo(d[p]);if(h.name===b)return h.coordDim}};c.coordDimToDataDim=function(c,b){var d=[];f(c.dimensions,function(g){g=c.getDimensionInfo(g);g.coordDim===b&&(d[g.coordDimIndex]=g.name)});return d};c.otherDimToDataDim=function(c,b){var d=[];f(c.dimensions,function(g){g=c.getDimensionInfo(g);var h=g.otherDims[b];null!=h&&!1!==h&&(d[h]=g.name)});return d};r.exports=c},function(r,n,a){var m=a(4),q=a(7);n=a(8);var k={addCommas:function(c){if(isNaN(c))return"-";c=(c+"").split(".");return c[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<c.length?"."+c[1]:"")},toCamelCase:function(c,d){c=(c||"").toLowerCase().replace(/-(.)/g,function(b,c){return c.toUpperCase()});d&&c&&(c=c.charAt(0).toUpperCase()+c.slice(1));return c},normalizeCssArray:function(c){var d=c.length;return"number"===typeof c?[c,c,c,c]:2===d?[c[0],c[1],c[0],c[1]]:3===d?[c[0],c[1],c[2],c[1]]:c}},l=k.encodeHTML=function(c){return String(c).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;")},f="abcdefg".split("");k.formatTpl=function(c,d,b){m.isArray(d)||(d=[d]);var g=d.length;if(!g)return"";for(var p=d[0].$vars||[],h=0;h<p.length;h++){var e=f[h],a="{"+e+0+"}";c=c.replace("{"+e+"}",b?l(a):a)}for(h=0;h<g;h++)for(e=0;e<p.length;e++)a=d[h][p[e]],c=c.replace("{"+f[e]+(null==h?"":h)+"}",b?l(a):a);return c};k.formatTplSimple=function(c,d,b){m.each(d,function(d,p){c=c.replace("{"+p+"}",b?l(d):d)});return c};k.getTooltipMarker=function(c,d){return c?'\x3cspan style\x3d"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+k.encodeHTML(c)+";"+(d||"")+'"\x3e\x3c/span\x3e':""};var e=function(c){return 10>c?"0"+c:c};k.formatTime=function(c,d,b){if("week"===c||"month"===c||"quarter"===c||"half-year"===c||"year"===c)c="MM-dd\nyyyy";d=q.parseDate(d);var g=b?"UTC":"";b=d["get"+g+"FullYear"]();var p=d["get"+g+"Month"]()+1,h=d["get"+g+"Date"](),t=d["get"+g+"Hours"](),f=d["get"+g+"Minutes"]();d=d["get"+g+"Seconds"]();return c=c.replace("MM",e(p)).toLowerCase().replace("yyyy",b).replace("yy",b%100).replace("dd",e(h)).replace("d",h).replace("hh",e(t)).replace("h",t).replace("mm",e(f)).replace("m",f).replace("ss",e(d)).replace("s",d)};k.capitalFirst=function(c){return c?c.charAt(0).toUpperCase()+c.substr(1):c};k.truncateText=n.truncateText;r.exports=k},function(r,n,a){var m=a(4),q={linearMap:function(a,f,e,c){var d=f[1]-f[0],b=e[1]-e[0];if(0===d)return 0===b?e[0]:(e[0]+e[1])/2;if(c)if(0<d){if(a<=f[0])return e[0];if(a>=f[1])return e[1]}else{if(a>=f[0])return e[0];if(a<=f[1])return e[1]}else{if(a===f[0])return e[0];if(a===f[1])return e[1]}return(a-f[0])/d*b+e[0]},parsePercent:function(a,f){switch(a){case "center":case "middle":a="50%";break;case "left":case "top":a="0%";break;case "right":case "bottom":a="100%"}return"string"===typeof a?a.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(a)/100*f:parseFloat(a):null==a?NaN:+a},round:function(a,f,e){null==f&&(f=10);f=Math.min(Math.max(0,f),20);a=(+a).toFixed(f);return e?a:+a},asc:function(a){a.sort(function(f,e){return f-e});return a},getPrecision:function(a){a=+a;if(isNaN(a))return 0;for(var f=1,e=0;Math.round(a*f)/f!==a;)f*=10,e++;return e},getPrecisionSafe:function(a){a=a.toString();var f=a.indexOf("e");if(0<f)return a=+a.slice(f+1),0>a?-a:0;f=a.indexOf(".");return 0>f?0:a.length-1-f},getPixelPrecision:function(a,f){var e=Math.log,c=Math.LN10,d=Math.floor(e(a[1]-a[0])/c),e=Math.round(e(Math.abs(f[1]-f[0]))/c),d=Math.min(Math.max(-d+e,0),20);return isFinite(d)?d:20},getPercentWithPrecision:function(a,f,e){if(!a[f])return 0;var c=m.reduce(a,function(b,c){return b+(isNaN(c)?0:c)},0);if(0===c)return 0;var d=Math.pow(10,e),b=m.map(a,function(b){return(isNaN(b)?0:b)/c*d*100});a=100*d;var g=m.map(b,function(b){return Math.floor(b)});e=m.reduce(g,function(b,c){return b+c},0);for(b=m.map(b,function(b,c){return b-g[c]});e<a;){for(var p=Number.NEGATIVE_INFINITY,h=null,t=0,w=b.length;t<w;++t)b[t]>p&&(p=b[t],h=t);++g[h];b[h]=0;++e}return g[f]/d},MAX_SAFE_INTEGER:9007199254740991,remRadian:function(a){var f=2*Math.PI;return(a%f+f)%f},isRadianAroundZero:function(a){return-1E-4<a&&1E-4>a}},k=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;q.getTimezoneOffset=function(){return(new Date).getTimezoneOffset()};q.parseDate=function(a){if(a instanceof Date)return a;if("string"===typeof a){a=k.exec(a);if(!a)return new Date(NaN);var f=q.getTimezoneOffset(),f=a[8]?"Z"===a[8].toUpperCase()?f:60*+a[8].slice(0,3)+f:0;return new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0)-f,+a[6]||0,+a[7]||0)}return null==a?new Date(NaN):new Date(Math.round(a))};q.quantity=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))};q.nice=function(a,f){var e=Math.floor(Math.log(a)/Math.LN10),c=Math.pow(10,e),d=a/c;a=(f?1.5>d?1:2.5>d?2:4>d?3:7>d?5:10:1>d?1:2>d?2:3>d?3:5>d?5:10)*c;return-20<=e?+a.toFixed(0>e?-e:0):a};q.reformIntervals=function(a){function f(b,c,d){return b.interval[d]<c.interval[d]||b.interval[d]===c.interval[d]&&(b.close[d]-c.close[d]===(d?-1:1)||!d&&f(b,c,1))}a.sort(function(b,c){return f(b,c,0)?-1:1});for(var e=-Infinity,c=1,d=0;d<a.length;){for(var b=a[d].interval,g=a[d].close,p=0;2>p;p++)b[p]<=e&&(b[p]=e,g[p]=p?1:1-c),e=b[p],c=g[p];b[0]===b[1]&&1!==g[0]*g[1]?a.splice(d,1):d++}return a};q.isNumeric=function(a){return 0<=a-parseFloat(a)};r.exports=q},function(r,n,a){function m(d,b){var g=d+":"+b;if(q[g])return q[g];for(var p=(d+"").split("\n"),h=0,e=0,f=p.length;e<f;e++)h=Math.max(c.measureText(p[e],b).width,h);5E3<k&&(k=0,q={});k++;return q[g]=h}var q={},k=0,l=a(4),f=a(9),e=l.retrieve,c={getWidth:m,getBoundingRect:function(c,b,g,p){var d=((c||"")+"").split("\n").length;c=m(c,b);b=m("\u56fd",b);d=new f(0,0,c,d*b);d.lineHeight=b;switch(p){case "bottom":case "alphabetic":d.y-=b;break;case "middle":d.y-=b/2}switch(g){case "end":case "right":d.x-=d.width;break;case "center":d.x-=d.width/2}return d},adjustTextPositionOnRect:function(c,b,g,p){var d=b.x,e=b.y,f=b.height;b=b.width;var a=g.height;g=g.lineHeight;var v=f/2-a/2+g,u="left";switch(c){case "left":d-=p;e+=v;u="right";break;case "right":d+=p+b;e+=v;u="left";break;case "top":d+=b/2;e-=p+a-g;u="center";break;case "bottom":d+=b/2;e+=f+p+g;u="center";break;case "inside":d+=b/2;e+=v;u="center";break;case "insideLeft":d+=p;e+=v;u="left";break;case "insideRight":d+=b-p;e+=v;u="right";break;case "insideTop":d+=b/2;e+=p+g;u="center";break;case "insideBottom":d+=b/2;e+=f-a-p+g;u="center";break;case "insideTopLeft":d+=p;e+=p+g;u="left";break;case "insideTopRight":d+=b-p;e+=p+g;u="right";break;case "insideBottomLeft":d+=p;e+=f-a-p+g;break;case "insideBottomRight":d+=b-p,e+=f-a-p+g,u="right"}return{x:d,y:e,textAlign:u,textBaseline:"alphabetic"}},truncateText:function(c,b,g,p,h){if(!b)return"";h=h||{};p=e(p,"...");var d=e(h.maxIterations,2),f=e(h.minChar,0),a=m("\u56fd",g),v=m("a",g);h=e(h.placeholder,"");for(var u=b=Math.max(0,b-1),x=0;x<f&&u>=v;x++)u-=v;x=m(p);x>u&&(p="",x=0);u=b-x;c=(c+"").split("\n");x=0;for(f=c.length;x<f;x++){var l=c[x],k=m(l,g);if(!(k<=b)){for(var q=0;;q++){if(k<=u||q>=d){l+=p;break}if(0===q){for(var k=l,C=u,B=v,L=a,n=0,r=0,N=k.length;r<N&&n<C;r++)var F=k.charCodeAt(r),n=n+(0<=F&&127>=F?B:L);k=r}else k=0<k?Math.floor(l.length*u/k):0;l=l.substr(0,k);k=m(l,g)}""===l&&(l=h);c[x]=l}}return c.join("\n")},measureText:function(c,b){var d=l.getContext();d.font=b||"12px sans-serif";return d.measureText(c)}};r.exports=c},function(r,n,a){function m(e,c,d,b){0>d&&(e+=d,d=-d);0>b&&(c+=b,b=-b);this.x=e;this.y=c;this.width=d;this.height=b}n=a(10);var q=a(11),k=n.applyTransform,l=Math.min,f=Math.max;m.prototype={constructor:m,union:function(e){var c=l(e.x,this.x),d=l(e.y,this.y);this.width=f(e.x+e.width,this.x+this.width)-c;this.height=f(e.y+e.height,this.y+this.height)-d;this.x=c;this.y=d},applyTransform:function(){var e=[],c=[],d=[],b=[];return function(g){if(g){e[0]=d[0]=this.x;e[1]=b[1]=this.y;c[0]=b[0]=this.x+this.width;c[1]=d[1]=this.y+this.height;k(e,e,g);k(c,c,g);k(d,d,g);k(b,b,g);this.x=l(e[0],c[0],d[0],b[0]);this.y=l(e[1],c[1],d[1],b[1]);g=f(e[0],c[0],d[0],b[0]);var p=f(e[1],c[1],d[1],b[1]);this.width=g-this.x;this.height=p-this.y}}}(),calculateTransform:function(e){var c=e.width/this.width,d=e.height/this.height,b=q.create();q.translate(b,b,[-this.x,-this.y]);q.scale(b,b,[c,d]);q.translate(b,b,[e.x,e.y]);return b},intersect:function(e){if(!e)return!1;e instanceof m||(e=m.create(e));var c=this.x,d=this.y,b=this.y+this.height,g=e.x+e.width,p=e.y,h=e.y+e.height;return!(this.x+this.width<e.x||g<c||b<p||h<d)},contain:function(e,c){return e>=this.x&&e<=this.x+this.width&&c>=this.y&&c<=this.y+this.height},clone:function(){return new m(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};m.create=function(e){return new m(e.x,e.y,e.width,e.height)};r.exports=m},function(r,n){var a="undefined"===typeof Float32Array?Array:Float32Array,m={create:function(q,k){var l=new a(2);null==q&&(q=0);null==k&&(k=0);l[0]=q;l[1]=k;return l},copy:function(a,k){a[0]=k[0];a[1]=k[1];return a},clone:function(q){var k=new a(2);k[0]=q[0];k[1]=q[1];return k},set:function(a,k,l){a[0]=k;a[1]=l;return a},add:function(a,k,l){a[0]=k[0]+l[0];a[1]=k[1]+l[1];return a},scaleAndAdd:function(a,k,l,f){a[0]=k[0]+l[0]*f;a[1]=k[1]+l[1]*f;return a},sub:function(a,k,l){a[0]=k[0]-l[0];a[1]=k[1]-l[1];return a},len:function(a){return Math.sqrt(this.lenSquare(a))},lenSquare:function(a){return a[0]*a[0]+a[1]*a[1]},mul:function(a,k,l){a[0]=k[0]*l[0];a[1]=k[1]*l[1];return a},div:function(a,k,l){a[0]=k[0]/l[0];a[1]=k[1]/l[1];return a},dot:function(a,k){return a[0]*k[0]+a[1]*k[1]},scale:function(a,k,l){a[0]=k[0]*l;a[1]=k[1]*l;return a},normalize:function(a,k){var l=m.len(k);0===l?(a[0]=0,a[1]=0):(a[0]=k[0]/l,a[1]=k[1]/l);return a},distance:function(a,k){return Math.sqrt((a[0]-k[0])*(a[0]-k[0])+(a[1]-k[1])*(a[1]-k[1]))},distanceSquare:function(a,k){return(a[0]-k[0])*(a[0]-k[0])+(a[1]-k[1])*(a[1]-k[1])},negate:function(a,k){a[0]=-k[0];a[1]=-k[1];return a},lerp:function(a,k,l,f){a[0]=k[0]+f*(l[0]-k[0]);a[1]=k[1]+f*(l[1]-k[1]);return a},applyTransform:function(a,k,l){var f=k[0];k=k[1];a[0]=l[0]*f+l[2]*k+l[4];a[1]=l[1]*f+l[3]*k+l[5];return a},min:function(a,k,l){a[0]=Math.min(k[0],l[0]);a[1]=Math.min(k[1],l[1]);return a},max:function(a,k,l){a[0]=Math.max(k[0],l[0]);a[1]=Math.max(k[1],l[1]);return a}};m.length=m.len;m.lengthSquare=m.lenSquare;m.dist=m.distance;m.distSquare=m.distanceSquare;r.exports=m},function(r,n){var a="undefined"===typeof Float32Array?Array:Float32Array,m={create:function(){var q=new a(6);m.identity(q);return q},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},copy:function(a,k){a[0]=k[0];a[1]=k[1];a[2]=k[2];a[3]=k[3];a[4]=k[4];a[5]=k[5];return a},mul:function(a,k,l){var f=k[1]*l[0]+k[3]*l[1],e=k[0]*l[2]+k[2]*l[3],c=k[1]*l[2]+k[3]*l[3],d=k[0]*l[4]+k[2]*l[5]+k[4],b=k[1]*l[4]+k[3]*l[5]+k[5];a[0]=k[0]*l[0]+k[2]*l[1];a[1]=f;a[2]=e;a[3]=c;a[4]=d;a[5]=b;return a},translate:function(a,k,l){a[0]=k[0];a[1]=k[1];a[2]=k[2];a[3]=k[3];a[4]=k[4]+l[0];a[5]=k[5]+l[1];return a},rotate:function(a,k,l){var f=k[0],e=k[2],c=k[4],d=k[1],b=k[3];k=k[5];var g=Math.sin(l);l=Math.cos(l);a[0]=f*l+d*g;a[1]=-f*g+d*l;a[2]=e*l+b*g;a[3]=-e*g+l*b;a[4]=l*c+g*k;a[5]=l*k-g*c;return a},scale:function(a,k,l){var f=l[0];l=l[1];a[0]=k[0]*f;a[1]=k[1]*l;a[2]=k[2]*f;a[3]=k[3]*l;a[4]=k[4]*f;a[5]=k[5]*l;return a},invert:function(a,k){var l=k[0],f=k[2],e=k[4],c=k[1],d=k[3],b=k[5],g=l*d-c*f;if(!g)return null;g=1/g;a[0]=d*g;a[1]=-c*g;a[2]=-f*g;a[3]=l*g;a[4]=(f*b-d*e)*g;a[5]=(c*e-l*b)*g;return a}};r.exports=m},function(r,n,a){function m(c,d,b){this.parentModel=d;this.ecModel=b;this.option=c}function q(c,d,b){for(var g=0;g<d.length&&(!d[g]||(c=c&&"object"===typeof c?c[d[g]]:null,null!=c));g++);null==c&&b&&(c=b.get(d));return c}function k(c,d){var b=f.get(c,"getParent");return b?b.call(c,d):c.parentModel}var l=a(4),f=a(13),e=a(2);m.prototype={constructor:m,init:null,mergeOption:function(c){l.merge(this.option,c,!0)},get:function(c,d){return null==c?this.option:q(this.option,this.parsePath(c),!d&&k(this,c))},getShallow:function(c,d){var b=this.option,b=null==b?b:b[c],g=!d&&k(this,c);null==b&&g&&(b=g.getShallow(c));return b},getModel:function(c,d){var b=null==c?this.option:q(this.option,c=this.parsePath(c)),g;d=d||(g=k(this,c))&&g.getModel(c);return new m(b,d,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(l.clone(this.option))},setReadOnly:function(c){f.setReadOnly(this,c)},parsePath:function(c){"string"===typeof c&&(c=c.split("."));return c},customizeGetParent:function(c){f.set(this,"getParent",c)},isAnimationEnabled:function(){if(!e.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};f.enableClassExtend(m);n=l.mixin;n(m,a(14));n(m,a(16));n(m,a(17));n(m,a(68));r.exports=m},function(r,n,a){function m(a,e){var c=k.slice(arguments,2);return this.superClass.prototype[e].apply(a,c)}function q(a,e,c){return this.superClass.prototype[e].apply(a,c)}var k=a(4);n={set:function(a,e,c){return a["\x00ec_\x00"+e]=c},get:function(a,e){return a["\x00ec_\x00"+e]},hasOwn:function(a,e){return a.hasOwnProperty("\x00ec_\x00"+e)}};var l=n.parseClassType=function(a){var e={main:"",sub:""};a&&(a=a.split("."),e.main=a[0]||"",e.sub=a[1]||"");return e};n.enableClassExtend=function(a,e){a.$constructor=a;a.extend=function(c){k.each(e,function(b){c[b]||console.warn("Method `"+b+"` should be implemented"+(c.type?" in "+c.type:"")+".")});var d=this,b=function(){c.$constructor?c.$constructor.apply(this,arguments):d.apply(this,arguments)};k.extend(b.prototype,c);b.extend=this.extend;b.superCall=m;b.superApply=q;k.inherits(b,this);b.superClass=d;return b}};n.enableClassManagement=function(a,e){e=e||{};var c={};a.registerClass=function(b,d){if(d){var g=d;k.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(g),'componentType "'+g+'" illegal');d=l(d);d.sub?"___EC__COMPONENT__CONTAINER___"!==d.sub&&(g=c[d.main],g&&g.___EC__COMPONENT__CONTAINER___||(g=c[d.main]={},g.___EC__COMPONENT__CONTAINER___=!0),g[d.sub]=b):(c[d.main]&&console.warn(d.main+" exists."),c[d.main]=b)}return b};a.getClass=function(b,d,p){var g=c[b];g&&g.___EC__COMPONENT__CONTAINER___&&(g=d?g[d]:null);if(p&&!g)throw Error(d?"Component "+b+"."+(d||"")+" not exists. Load it first.":b+".type should be specified.");return g};a.getClassesByMainType=function(b){b=l(b);var d=[];(b=c[b.main])&&b.___EC__COMPONENT__CONTAINER___?k.each(b,function(b,c){"___EC__COMPONENT__CONTAINER___"!==c&&d.push(b)}):d.push(b);return d};a.hasClass=function(b){b=l(b);return!!c[b.main]};a.getAllClassMainTypes=function(){var b=[];k.each(c,function(c,d){b.push(d)});return b};a.hasSubTypes=function(b){b=l(b);return(b=c[b.main])&&b.___EC__COMPONENT__CONTAINER___};a.parseClassType=l;if(e.registerWhenExtend){var d=a.extend;d&&(a.extend=function(b){var c=d.call(this,b);return a.registerClass(c,b.type)})}return a};n.setReadOnly=function(a,e){};r.exports=n},function(r,n,a){var m=a(15)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);r.exports={getLineStyle:function(a){a=m.call(this,a);var k=this.getLineDash(a.lineWidth);k&&(a.lineDash=k);return a},getLineDash:function(a){null==a&&(a=1);var k=this.get("type"),l=Math.max(a,2);a*=4;return"solid"===k||null==k?null:"dashed"===k?[a,a]:[l,l]}}},function(r,n,a){var m=a(4);r.exports=function(a){for(var k=0;k<a.length;k++)a[k][1]||(a[k][1]=a[k][0]);return function(l,f){for(var e={},c=0;c<a.length;c++){var d=a[c][1];l&&0<=m.indexOf(l,d)||f&&0>m.indexOf(f,d)||(d=this.getShallow(d),null!=d&&(e[a[c][0]]=d))}return e}}},function(r,n,a){r.exports={getAreaStyle:a(15)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(r,n,a){var m=a(8),q=a(18);r.exports={getTextColor:function(){var a=this.ecModel;return this.getShallow("color")||a&&a.get("textStyle.color")},getFont:function(){return q.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return m.getBoundingRect(a,this.getFont(),this.getShallow("align"),this.getShallow("baseline"))},truncateText:function(a,l,f,e){return m.truncateText(a,l,this.getFont(),f,e)}}},function(r,n,a){function m(b){return"string"===typeof b?v.lift(b,-.1):b}function q(b){if(b.__hoverStlDirty){var c=b.style.stroke,d=b.style.fill,g=b.__hoverStl;g.fill=g.fill||(null!=d&&"none"!=d?m(d):null);g.stroke=g.stroke||(null!=c&&"none"!=c?m(c):null);var c={},h;for(h in g)g.hasOwnProperty(h)&&(c[h]=b.style[h]);b.__normalStl=c;b.__hoverStlDirty=!1}}function k(b){b.__isHover||(q(b),b.useHoverLayer?b.__zr&&b.__zr.addHover(b,b.__hoverStl):(b.setStyle(b.__hoverStl),b.z2+=1),b.__isHover=!0)}function l(b){if(b.__isHover){var c=b.__normalStl;b.useHoverLayer?b.__zr&&b.__zr.removeHover(b):(c&&b.setStyle(c),--b.z2);b.__isHover=!1}}function f(b){"group"===b.type?b.traverse(function(b){"group"!==b.type&&k(b)}):k(b)}function e(b){"group"===b.type?b.traverse(function(b){"group"!==b.type&&l(b)}):l(b)}function c(b,c){b.__hoverStl=b.hoverStyle||c||{};b.__hoverStlDirty=!0;b.__isHover&&q(b)}function d(b){this.__hoverSilentOnTouch&&b.zrByTouch||!this.__isEmphasis&&f(this)}function b(b){this.__hoverSilentOnTouch&&b.zrByTouch||!this.__isEmphasis&&e(this)}function g(){this.__isEmphasis=!0;f(this)}function p(){this.__isEmphasis=!1;e(this)}function h(b,c,d,g,h,p){"function"===typeof h&&(p=h,h=null);if(g&&g.isAnimationEnabled()){var e=b?"Update":"";b=g.getShallow("animationDuration"+e);var a=g.getShallow("animationEasing"+e),e=g.getShallow("animationDelay"+e);"function"===typeof e&&(e=e(h,g.getAnimationDelayParams?g.getAnimationDelayParams(c,h):null));"function"===typeof b&&(b=b(h));0<b?c.animateTo(d,b,e||0,a,p):(c.stopAnimation(),c.attr(d),p&&p())}else c.stopAnimation(),c.attr(d),p&&p()}var t=a(4),w=a(19),z=a(20),v=a(31),u=a(11),x=a(10),y=a(26);n=a(9);var D=Math.round,A=Math.max,C=Math.min,B={};B.Group=a(48);B.Image=a(49);B.Text=a(50);B.Circle=a(51);B.Sector=a(52);B.Ring=a(53);B.Polygon=a(54);B.Polyline=a(58);B.Rect=a(59);B.Line=a(61);B.BezierCurve=a(62);B.Arc=a(63);B.CompoundPath=a(64);B.LinearGradient=a(65);B.RadialGradient=a(67);B.BoundingRect=n;B.extendShape=function(b){return z.extend(b)};B.extendPath=function(b,c){return w.extendFromString(b,c)};B.makePath=function(b,c,d,g){b=w.createFromString(b,c);c=b.getBoundingRect();if(d){c=c.width/c.height;if("center"===g){g=d.height*c;g<=d.width?c=d.height:(g=d.width,c=g/c);var h=d.y+d.height/2;d.x=d.x+d.width/2-g/2;d.y=h-c/2;d.width=g;d.height=c}B.resizePath(b,d)}return b};B.mergePath=w.mergePath;B.resizePath=function(b,c){if(b.applyTransform){var d=b.getBoundingRect().calculateTransform(c);b.applyTransform(d)}};B.subPixelOptimizeLine=function(b){var c=B.subPixelOptimize,d=b.shape,g=b.style.lineWidth;D(2*d.x1)===D(2*d.x2)&&(d.x1=d.x2=c(d.x1,g,!0));D(2*d.y1)===D(2*d.y2)&&(d.y1=d.y2=c(d.y1,g,!0));return b};B.subPixelOptimizeRect=function(b){var c=B.subPixelOptimize,d=b.shape,g=b.style.lineWidth,h=d.x,p=d.y,e=d.width,a=d.height;d.x=c(d.x,g,!0);d.y=c(d.y,g,!0);d.width=Math.max(c(h+e,g,!1)-d.x,0===e?0:1);d.height=Math.max(c(p+a,g,!1)-d.y,0===a?0:1);return b};B.subPixelOptimize=function(b,c,d){b=D(2*b);return 0===(b+D(c))%2?b/2:(b+(d?1:-1))/2};B.setHoverStyle=function(h,e,a){h.__hoverSilentOnTouch=a&&a.hoverSilentOnTouch;"group"===h.type?h.traverse(function(b){"group"!==b.type&&c(b,e)}):c(h,e);h.on("mouseover",d).on("mouseout",b);h.on("emphasis",g).on("normal",p)};B.setText=function(b,c,d){var g=c.getShallow("position")||"inside",h=c.getShallow("offset");d=0<=g.indexOf("inside")?"white":d;var p=c.getModel("textStyle");t.extend(b,{textDistance:c.getShallow("distance")||5,textFont:p.getFont(),textPosition:g,textOffset:h,textFill:p.getTextColor()||d})};B.getFont=function(b,c){var d=c&&c.getModel("textStyle");return[b.fontStyle||d&&d.getShallow("fontStyle")||"",b.fontWeight||d&&d.getShallow("fontWeight")||"",(b.fontSize||d&&d.getShallow("fontSize")||12)+"px",b.fontFamily||d&&d.getShallow("fontFamily")||"sans-serif"].join(" ")};B.updateProps=function(b,c,d,g,p){h(!0,b,c,d,g,p)};B.initProps=function(b,c,d,g,p){h(!1,b,c,d,g,p)};B.getTransform=function(b,c){for(var d=u.identity([]);b&&b!==c;)u.mul(d,b.getLocalTransform(),d),b=b.parent;return d};B.applyTransform=function(b,c,d){c&&!t.isArrayLike(c)&&(c=y.getLocalTransform(c));d&&(c=u.invert([],c));return x.applyTransform([],b,c)};B.transformDirection=function(b,c,d){var g=0===c[4]||0===c[5]||0===c[0]?1:Math.abs(2*c[4]/c[0]),h=0===c[4]||0===c[5]||0===c[2]?1:Math.abs(2*c[4]/c[2]);b=["left"===b?-g:"right"===b?g:0,"top"===b?-h:"bottom"===b?h:0];b=B.applyTransform(b,c,d);return Math.abs(b[0])>Math.abs(b[1])?0<b[0]?"right":"left":0<b[1]?"bottom":"top"};B.groupTransition=function(b,c,d,g){function h(b){var c={position:x.clone(b.position),rotation:b.rotation};b.shape&&(c.shape=t.extend({},b.shape));return c}if(b&&c){var p=function(b){var c={};b.traverse(function(b){!b.isGroup&&b.anid&&(c[b.anid]=b)});return c}(b);c.traverse(function(b){if(!b.isGroup&&b.anid){var c=p[b.anid];if(c){var g=h(b);b.attr(h(c));B.updateProps(b,g,d,b.dataIndex)}}})}};B.clipPointsByRect=function(b,c){return t.map(b,function(b){var d=b[0],d=A(d,c.x),d=C(d,c.x+c.width);b=b[1];b=A(b,c.y);b=C(b,c.y+c.height);return[d,b]})};B.clipRectByRect=function(b,c){var d=A(b.x,c.x),g=C(b.x+b.width,c.x+c.width),h=A(b.y,c.y),p=C(b.y+b.height,c.y+c.height);if(g>=d&&p>=h)return{x:d,y:h,width:g-d,height:p-h}};r.exports=B},function(r,n,a){function m(c,e,a,f,x,l,k,m,q,B,n){q*=p/180;var u=g(q)*(c-a)/2+b(q)*(e-f)/2,v=-1*b(q)*(c-a)/2+g(q)*(e-f)/2,w=u*u/(k*k)+v*v/(m*m);1<w&&(k*=d(w),m*=d(w));w=(x===l?-1:1)*d((k*k*m*m-k*k*v*v-m*m*u*u)/(k*k*v*v+m*m*u*u))||0;x=w*k*v/m;w=w*-m*u/k;c=(c+a)/2+g(q)*x-b(q)*w;e=(e+f)/2+b(q)*x+g(q)*w;f=t([1,0],[(u-x)/k,(v-w)/m]);a=[(u-x)/k,(v-w)/m];u=[(-1*u-x)/k,(-1*v-w)/m];v=t(a,u);-1>=h(a,u)&&(v=p);1<=h(a,u)&&(v=0);0===l&&0<v&&(v-=2*p);1===l&&0>v&&(v+=2*p);n.addData(B,c,e,k,m,f,v,q,l)}function q(b){if(!b)return[];var d=b.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(b=0;b<c.length;b++)d=d.replace(new RegExp(c[b],"g"),"|"+c[b]);var d=d.split("|"),g=0,h=0,p=new f,e=f.CMD,a;for(b=1;b<d.length;b++){var t=d[b],w=t.charAt(0),l=0,t=t.slice(1).replace(/e,-/g,"e-").split(","),k;0<t.length&&""===t[0]&&t.shift();for(var q=0;q<t.length;q++)t[q]=parseFloat(t[q]);for(;l<t.length&&!isNaN(t[l])&&!isNaN(t[0]);){var n,r,F,J,H,K;switch(w){case "l":g+=t[l++];h+=t[l++];k=e.L;p.addData(k,g,h);break;case "L":g=t[l++];h=t[l++];k=e.L;p.addData(k,g,h);break;case "m":g+=t[l++];h+=t[l++];k=e.M;p.addData(k,g,h);w="l";break;case "M":g=t[l++];h=t[l++];k=e.M;p.addData(k,g,h);w="L";break;case "h":g+=t[l++];k=e.L;p.addData(k,g,h);break;case "H":g=t[l++];k=e.L;p.addData(k,g,h);break;case "v":h+=t[l++];k=e.L;p.addData(k,g,h);break;case "V":h=t[l++];k=e.L;p.addData(k,g,h);break;case "C":k=e.C;p.addData(k,t[l++],t[l++],t[l++],t[l++],t[l++],t[l++]);g=t[l-2];h=t[l-1];break;case "c":k=e.C;p.addData(k,t[l++]+g,t[l++]+h,t[l++]+g,t[l++]+h,t[l++]+g,t[l++]+h);g+=t[l-2];h+=t[l-1];break;case "S":n=g;r=h;k=p.len();q=p.data;a===e.C&&(n+=g-q[k-4],r+=h-q[k-3]);k=e.C;q=t[l++];K=t[l++];g=t[l++];h=t[l++];p.addData(k,n,r,q,K,g,h);break;case "s":n=g;r=h;k=p.len();q=p.data;a===e.C&&(n+=g-q[k-4],r+=h-q[k-3]);k=e.C;q=g+t[l++];K=h+t[l++];g+=t[l++];h+=t[l++];p.addData(k,n,r,q,K,g,h);break;case "Q":q=t[l++];K=t[l++];g=t[l++];h=t[l++];k=e.Q;p.addData(k,q,K,g,h);break;case "q":q=t[l++]+g;K=t[l++]+h;g+=t[l++];h+=t[l++];k=e.Q;p.addData(k,q,K,g,h);break;case "T":n=g;r=h;k=p.len();q=p.data;a===e.Q&&(n+=g-q[k-4],r+=h-q[k-3]);g=t[l++];h=t[l++];k=e.Q;p.addData(k,n,r,g,h);break;case "t":n=g;r=h;k=p.len();q=p.data;a===e.Q&&(n+=g-q[k-4],r+=h-q[k-3]);g+=t[l++];h+=t[l++];k=e.Q;p.addData(k,n,r,g,h);break;case "A":n=t[l++];r=t[l++];F=t[l++];J=t[l++];H=t[l++];q=g;K=h;g=t[l++];h=t[l++];k=e.A;m(q,K,g,h,J,H,n,r,F,k,p);break;case "a":n=t[l++],r=t[l++],F=t[l++],J=t[l++],H=t[l++],q=g,K=h,g+=t[l++],h+=t[l++],k=e.A,m(q,K,g,h,J,H,n,r,F,k,p)}}if("z"===w||"Z"===w)k=e.Z,p.addData(k);a=k}p.toStatic();return p}function k(b,c){var d=q(b);c=c||{};c.buildPath=function(b){if(b.setData){b.setData(d.data);var c=b.getContext();c&&b.rebuildPath(c)}else d.rebuildPath(b)};c.applyTransform=function(b){e(d,b);this.dirty(!0)};return c}var l=a(20),f=a(36),e=a(47),c="mMlLvVhHzZcCqQtTsSaA".split(""),d=Math.sqrt,b=Math.sin,g=Math.cos,p=Math.PI,h=function(b,c){return(b[0]*c[0]+b[1]*c[1])/(Math.sqrt(b[0]*b[0]+b[1]*b[1])*Math.sqrt(c[0]*c[0]+c[1]*c[1]))},t=function(b,c){return(b[0]*c[1]<b[1]*c[0]?-1:1)*Math.acos(h(b,c))};r.exports={createFromString:function(b,c){return new l(k(b,c))},extendFromString:function(b,c){return l.extend(k(b,c))},mergePath:function(b,c){for(var d=[],g=b.length,h=0;h<g;h++){var p=b[h];p.path||p.createPathProxy();p.__dirtyPath&&p.buildPath(p.path,p.shape,!0);d.push(p.path)}g=new l(c);g.createPathProxy();g.buildPath=function(b){b.appendPath(d);var c=b.getContext();c&&b.rebuildPath(c)};return g}}},function(r,n,a){function m(b){q.call(this,b);this.path=null}var q=a(21),k=a(4),l=a(36),f=a(39),e=a(46).prototype.getCanvasPattern,c=Math.abs,d=new l(!0);m.prototype={constructor:m,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(b,c){var g=this.style,h=this.path||d,t=g.hasStroke(),a=g.hasFill(),f=g.fill,v=g.stroke,u=a&&!!f.colorStops,x=t&&!!v.colorStops,l=a&&!!f.image,k=t&&!!v.image;g.bind(b,this,c);this.setTransform(b);if(this.__dirty){var m;u&&(m=m||this.getBoundingRect(),this._fillGradient=g.getGradient(b,f,m));x&&(m=m||this.getBoundingRect(),this._strokeGradient=g.getGradient(b,v,m))}u?b.fillStyle=this._fillGradient:l&&(b.fillStyle=e.call(f,b));x?b.strokeStyle=this._strokeGradient:k&&(b.strokeStyle=e.call(v,b));f=g.lineDash;v=g.lineDashOffset;u=!!b.setLineDash;x=this.getGlobalScale();h.setScale(x[0],x[1]);this.__dirtyPath||f&&!u&&t?(h.beginPath(b),f&&!u&&(h.setLineDash(f),h.setLineDashOffset(v)),this.buildPath(h,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(b.beginPath(),this.path.rebuildPath(b));a&&h.fill(b);f&&u&&(b.setLineDash(f),b.lineDashOffset=v);t&&h.stroke(b);f&&u&&b.setLineDash([]);this.restoreTransform(b);null!=g.text&&this.drawRectText(b,this.getBoundingRect())},buildPath:function(b,c,d){},createPathProxy:function(){this.path=new l},getBoundingRect:function(){var b=this._rect,c=this.style,d=!b;if(d){var h=this.path;h||(h=this.path=new l);this.__dirtyPath&&(h.beginPath(),this.buildPath(h,this.shape,!1));b=h.getBoundingRect()}this._rect=b;if(c.hasStroke()){h=this._rectWithStroke||(this._rectWithStroke=b.clone());if(this.__dirty||d)h.copy(b),d=c.lineWidth,b=c.strokeNoScale?this.getLineScale():1,c.hasFill()||(d=Math.max(d,this.strokeContainThreshold||4)),1E-10<b&&(h.width+=d/b,h.height+=d/b,h.x-=d/b/2,h.y-=d/b/2);return h}return b},contain:function(b,c){var d=this.transformCoordToLocal(b,c),g=this.getBoundingRect(),e=this.style;b=d[0];c=d[1];if(g.contain(b,c)){d=this.path.data;if(e.hasStroke()){var g=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;if(1E-10<a&&(e.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),f.containStroke(d,g/a,b,c)))return!0}if(e.hasFill())return f.contain(d,b,c)}return!1},dirty:function(b){null==b&&(b=!0);b&&(this.__dirtyPath=b,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(b){return this.animate("shape",b)},attrKV:function(b,c){"shape"===b?(this.setShape(c),this.__dirtyPath=!0,this._rect=null):q.prototype.attrKV.call(this,b,c)},setShape:function(b,c){var d=this.shape;if(d){if(k.isObject(b))for(var g in b)b.hasOwnProperty(g)&&(d[g]=b[g]);else d[b]=c;this.dirty(!0)}return this},getLineScale:function(){var b=this.transform;return b&&1E-10<c(b[0]-1)&&1E-10<c(b[3]-1)?Math.sqrt(c(b[0]*b[3]-b[2]*b[1])):1}};m.extend=function(b){var c=function(c){m.call(this,c);b.style&&this.style.extendFrom(b.style,!1);var d=b.shape;if(d){var g=this.shape=this.shape||{},h;for(h in d)!g.hasOwnProperty(h)&&d.hasOwnProperty(h)&&(g[h]=d[h])}b.init&&b.init.call(this,c)};k.inherits(c,m);for(var d in b)"style"!==d&&"shape"!==d&&(c.prototype[d]=b[d]);return c};k.inherits(m,q);r.exports=m},function(r,n,a){function m(a){a=a||{};k.call(this,a);for(var f in a)a.hasOwnProperty(f)&&"style"!==f&&(this[f]=a[f]);this.style=new q(a.style);this._rect=null;this.__clipPaths=[]}n=a(4);var q=a(22),k=a(23);a=a(35);m.prototype={constructor:m,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,f){},getBoundingRect:function(){},contain:function(a,f){return this.rectContain(a,f)},traverse:function(a,f){a.call(f,this)},rectContain:function(a,f){var e=this.transformCoordToLocal(a,f);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,f){"style"!==a?k.prototype.attrKV.call(this,a,f):this.style.set(f)},setStyle:function(a,f){this.style.set(a,f);this.dirty(!1);return this},useStyle:function(a){this.style=new q(a);this.dirty(!1);return this}};n.inherits(m,k);n.mixin(m,a);r.exports=m},function(r,n){function a(c,d,b){var g=null==d.x?0:d.x,e=null==d.x2?1:d.x2,h=null==d.y?0:d.y,a=null==d.y2?0:d.y2;d.global||(g=g*b.width+b.x,e=e*b.width+b.x,h=h*b.height+b.y,a=a*b.height+b.y);return c.createLinearGradient(g,h,e,a)}function m(c,d,b){var g=b.width,e=b.height,h=Math.min(g,e),a=null==d.x?.5:d.x,f=null==d.y?.5:d.y,l=null==d.r?.5:d.r;d.global||(a=a*g+b.x,f=f*e+b.y,l*=h);return c.createRadialGradient(a,f,0,a,f,l)}var q=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],k=function(c){this.extendFrom(c)};k.prototype={constructor:k,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textPositionRect:null,textOffset:null,textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(c,d,b){b=b&&b.style;for(var g=!b,e=0;e<q.length;e++){var h=q[e],a=h[0];if(g||this[a]!==b[a])c[a]=this[a]||h[1]}if(g||this.fill!==b.fill)c.fillStyle=this.fill;if(g||this.stroke!==b.stroke)c.strokeStyle=this.stroke;if(g||this.opacity!==b.opacity)c.globalAlpha=null==this.opacity?1:this.opacity;if(g||this.blend!==b.blend)c.globalCompositeOperation=this.blend||"source-over";this.hasStroke()&&(c.lineWidth=this.lineWidth/(this.strokeNoScale&&d&&d.getLineScale?d.getLineScale():1))},hasFill:function(){var c=this.fill;return null!=c&&"none"!==c},hasStroke:function(){var c=this.stroke;return null!=c&&"none"!==c&&0<this.lineWidth},extendFrom:function(c,d){if(c)for(var b in c)!c.hasOwnProperty(b)||!d&&this.hasOwnProperty(b)||(this[b]=c[b])},set:function(c,d){"string"===typeof c?this[c]=d:this.extendFrom(c,!0)},clone:function(){var c=new this.constructor;c.extendFrom(this,!0);return c},getGradient:function(c,d,b){c=("radial"===d.type?m:a)(c,d,b);d=d.colorStops;for(b=0;b<d.length;b++)c.addColorStop(d[b].offset,d[b].color);return c}};for(var l=k.prototype,f=0;f<q.length;f++){var e=q[f];e[0]in l||(l[e[0]]=e[1])}k.getGradient=l.getGradient;r.exports=k},function(r,n,a){var m=a(24),q=a(25),k=a(26),l=a(27),f=a(4);n=function(e){k.call(this,e);q.call(this,e);l.call(this,e);this.id=e.id||m()};n.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(e,c){switch(this.draggable){case "horizontal":c=0;break;case "vertical":e=0}var d=this.transform;d||(d=this.transform=[1,0,0,1,0,0]);d[4]+=e;d[5]+=c;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,c){},attrKV:function(e,c){if("position"===e||"scale"===e||"origin"===e){if(c){var d=this[e];d||(d=this[e]=[]);d[0]=c[0];d[1]=c[1]}}else this[e]=c},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(e,c){if("string"===typeof e)this.attrKV(e,c);else if(f.isObject(e))for(var d in e)e.hasOwnProperty(d)&&this.attrKV(d,e[d]);this.dirty(!1);return this},setClipPath:function(e){var c=this.__zr;c&&e.addSelfToZr(c);this.clipPath&&this.clipPath!==e&&this.removeClipPath();this.clipPath=e;e.__zr=c;e.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,this.clipPath=e.__clipTarget=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var c=this.animators;if(c)for(var d=0;d<c.length;d++)e.animation.addAnimator(c[d]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var c=this.animators;if(c)for(var d=0;d<c.length;d++)e.animation.removeAnimator(c[d]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};f.mixin(n,l);f.mixin(n,k);f.mixin(n,q);r.exports=n},function(r,n){var a=2311;r.exports=function(){return a++}},function(r,n){var a=Array.prototype.slice,m=function(){this._$handlers={}};m.prototype={constructor:m,one:function(a,k,l){var f=this._$handlers;if(!k||!a)return this;f[a]||(f[a]=[]);for(var e=0;e<f[a].length;e++)if(f[a][e].h===k)return this;f[a].push({h:k,one:!0,ctx:l||this});return this},on:function(a,k,l){var f=this._$handlers;if(!k||!a)return this;f[a]||(f[a]=[]);for(var e=0;e<f[a].length;e++)if(f[a][e].h===k)return this;f[a].push({h:k,one:!1,ctx:l||this});return this},isSilent:function(a){var k=this._$handlers;return k[a]&&k[a].length},off:function(a,k){var l=this._$handlers;if(!a)return this._$handlers={},this;if(k){if(l[a]){for(var f=[],e=0,c=l[a].length;e<c;e++)l[a][e].h!=k&&f.push(l[a][e]);l[a]=f}l[a]&&0===l[a].length&&delete l[a]}else delete l[a];return this},trigger:function(m){if(this._$handlers[m]){var k=arguments,l=k.length;3<l&&(k=a.call(k,1));for(var f=this._$handlers[m],e=f.length,c=0;c<e;){switch(l){case 1:f[c].h.call(f[c].ctx);break;case 2:f[c].h.call(f[c].ctx,k[1]);break;case 3:f[c].h.call(f[c].ctx,k[1],k[2]);break;default:f[c].h.apply(f[c].ctx,k)}f[c].one?(f.splice(c,1),e--):c++}}return this},triggerWithContext:function(m){if(this._$handlers[m]){var k=arguments,l=k.length;4<l&&(k=a.call(k,1,k.length-1));for(var f=k[k.length-1],e=this._$handlers[m],c=e.length,d=0;d<c;){switch(l){case 1:e[d].h.call(f);break;case 2:e[d].h.call(f,k[1]);break;case 3:e[d].h.call(f,k[1],k[2]);break;default:e[d].h.apply(f,k)}e[d].one?(e.splice(d,1),c--):d++}}return this}};r.exports=m},function(r,n,a){function m(c){return 5E-5<c||-5E-5>c}var q=a(11),k=a(10),l=q.identity,f=function(c){c=c||{};c.position||(this.position=[0,0]);null==c.rotation&&(this.rotation=0);c.scale||(this.scale=[1,1]);this.origin=this.origin||null};n=f.prototype;n.transform=null;n.needLocalTransform=function(){return m(this.rotation)||m(this.position[0])||m(this.position[1])||m(this.scale[0]-1)||m(this.scale[1]-1)};n.updateTransform=function(){var c=this.parent,d=c&&c.transform,b=this.needLocalTransform(),g=this.transform;b||d?(g=g||q.create(),b?this.getLocalTransform(g):l(g),d&&(b?q.mul(g,c.transform,g):q.copy(g,c.transform)),this.transform=g,this.invTransform=this.invTransform||q.create(),q.invert(this.invTransform,g)):g&&l(g)};n.getLocalTransform=function(c){return f.getLocalTransform(this,c)};n.setTransform=function(c){var d=this.transform,b=c.dpr||1;d?c.setTransform(b*d[0],b*d[1],b*d[2],b*d[3],b*d[4],b*d[5]):c.setTransform(b,0,0,b,0,0)};n.restoreTransform=function(c){var d=c.dpr||1;c.setTransform(d,0,0,d,0,0)};var e=[];n.decomposeTransform=function(){if(this.transform){var c=this.parent,d=this.transform;c&&c.transform&&(q.mul(e,c.invTransform,d),d=e);var c=d[0]*d[0]+d[1]*d[1],b=d[2]*d[2]+d[3]*d[3],g=this.position,p=this.scale;m(c-1)&&(c=Math.sqrt(c));m(b-1)&&(b=Math.sqrt(b));0>d[0]&&(c=-c);0>d[3]&&(b=-b);g[0]=d[4];g[1]=d[5];p[0]=c;p[1]=b;this.rotation=Math.atan2(-d[1]/b,d[0]/c)}};n.getGlobalScale=function(){var c=this.transform;if(!c)return[1,1];var d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),b=Math.sqrt(c[2]*c[2]+c[3]*c[3]);0>c[0]&&(d=-d);0>c[3]&&(b=-b);return[d,b]};n.transformCoordToLocal=function(c,d){var b=[c,d],g=this.invTransform;g&&k.applyTransform(b,b,g);return b};n.transformCoordToGlobal=function(c,d){var b=[c,d],g=this.transform;g&&k.applyTransform(b,b,g);return b};f.getLocalTransform=function(c,d){d=d||[];l(d);var b=c.origin,g=c.scale||[1,1],e=c.rotation||0,h=c.position||[0,0];b&&(d[4]-=b[0],d[5]-=b[1]);q.scale(d,d,g);e&&q.rotate(d,d,e);b&&(d[4]+=b[0],d[5]+=b[1]);d[4]+=h[0];d[5]+=h[1];return d};r.exports=f},function(r,n,a){var m=a(28),q=a(4),k=q.isString,l=q.isFunction,f=q.isObject,e=a(33);n=function(){this.animators=[]};n.prototype={constructor:n,animate:function(c,d){var b,g=!1,p=this,h=this.__zr;if(c){for(var a=c.split("."),f=p,g="shape"===a[0],l=0,v=a.length;l<v;l++)f&&(f=f[a[l]]);f&&(b=f)}else b=p;if(b){var u=p.animators,x=new m(b,d);x.during(function(b){p.dirty(g)}).done(function(){u.splice(q.indexOf(u,x),1)});u.push(x);h&&h.animation.addAnimator(x);return x}e('Property "'+c+'" is not existed in element '+p.id)},stopAnimation:function(c){for(var d=this.animators,b=d.length,g=0;g<b;g++)d[g].stop(c);d.length=0;return this},animateTo:function(c,d,b,g,e){function h(){p--;p||e&&e()}k(b)?(e=g,g=b,b=0):l(g)?(e=g,g="linear",b=0):l(b)?(e=b,b=0):l(d)?(e=d,d=500):d||(d=500);this.stopAnimation();this._animateToShallow("",this,c,d,b,g,e);c=this.animators.slice();var p=c.length;p||e&&e();for(d=0;d<c.length;d++)c[d].done(h).start(g)},_animateToShallow:function(c,d,b,g,e){var h={},p=0,a;for(a in b)if(b.hasOwnProperty(a))if(null!=d[a])f(b[a])&&!q.isArrayLike(b[a])?this._animateToShallow(c?c+"."+a:a,d[a],b[a],g,e):(h[a]=b[a],p++);else if(null!=b[a])if(c){var l={};l[c]={};l[c][a]=b[a];this.attr(l)}else this.attr(a,b[a]);0<p&&this.animate(c,!1).when(null==g?500:g,h).delay(e||0);return this}};r.exports=n},function(r,n,a){function m(b,c){return b[c]}function q(b,c,d){b[c]=d}function k(b,c,d,g,h){var e=b.length;if(1==h)for(h=0;h<e;h++){var p=b[h];g[h]=(c[h]-p)*d+p}else for(p=e&&b[0].length,h=0;h<e;h++)for(var a=0;a<p;a++){var t=b[h][a];g[h][a]=(c[h][a]-t)*d+t}}function l(b,c,d){var g=b.length,h=c.length;if(g!==h)if(g>h)b.length=h;else for(;g<h;g++)b.push(1===d?c[g]:z.call(c[g]));h=b[0]&&b[0].length;for(g=0;g<b.length;g++)if(1===d)isNaN(b[g])&&(b[g]=c[g]);else for(var e=0;e<h;e++)isNaN(b[g][e])&&(b[g][e]=c[g][e])}function f(b,c,d){if(b===c)return!0;var g=b.length;if(g!==c.length)return!1;if(1===d)for(d=0;d<g;d++){if(b[d]!==c[d])return!1}else{var h=b[0].length;for(d=0;d<g;d++)for(var e=0;e<h;e++)if(b[d][e]!==c[d][e])return!1}return!0}function e(b,d,g,h,e,p,a,t,f){var u=b.length;if(1==f)for(f=0;f<u;f++)t[f]=c(b[f],d[f],g[f],h[f],e,p,a);else{var v=b[0].length;for(f=0;f<u;f++)for(var x=0;x<v;x++)t[f][x]=c(b[f][x],d[f][x],g[f][x],h[f][x],e,p,a)}}function c(b,c,d,g,h,e,p){b=.5*(d-b);g=.5*(g-c);return(2*(c-d)+b+g)*p+(-3*(c-d)-2*b-g)*e+b*h+c}function d(b){if(w(b)){var c=b.length;if(w(b[0])){for(var d=[],g=0;g<c;g++)d.push(z.call(b[g]));return d}return z.call(b)}return b}function b(b){b[0]=Math.floor(b[0]);b[1]=Math.floor(b[1]);b[2]=Math.floor(b[2]);return"rgba("+b.join(",")+")"}function g(b){b=b[b.length-1].value;return w(b&&b[0])?2:1}function p(d,p,a,z,m){var u=d._getter,v=d._setter,x="spline"===p,y=z.length;if(y){var D=w(z[0].value),q=!1,n=!1,r=D?g(z):0,J;z.sort(function(b,c){return b.time-c.time});J=z[y-1].time;for(var H=[],K=[],I=z[0].value,G=!0,O=0;O<y;O++){H.push(z[O].time/J);var Q=z[O].value;D&&f(Q,I,r)||!D&&Q===I||(G=!1);I=Q;if("string"==typeof Q){var T=t.parse(Q);T?(Q=T,q=!0):n=!0}K.push(Q)}if(!G){z=K[y-1];for(O=0;O<y-1;O++)D?l(K[O],z,r):!isNaN(K[O])||isNaN(z)||n||q||(K[O]=z);D&&l(u(d._target,m),z,r);var P=0,U=0,aa,S,ba,X,Y,V;if(q)var Z=[0,0,0,0];d=new h({target:d._target,life:J,loop:d._loop,delay:d._delay,onframe:function(d,g){var h;if(0>g)h=0;else if(g<U){for(h=aa=Math.min(P+1,y-1);0<=h&&!(H[h]<=g);h--);h=Math.min(h,y-2)}else{for(h=P;h<y&&!(H[h]>g);h++);h=Math.min(h-1,y-2)}P=h;U=g;var p=H[h+1]-H[h];if(0!==p)if(S=(g-H[h])/p,x)if(X=K[h],ba=K[0===h?h:h-1],Y=K[h>y-2?y-1:h+1],V=K[h>y-3?y-1:h+2],D)e(ba,X,Y,V,S,S*S,S*S*S,u(d,m),r);else{if(q)e(ba,X,Y,V,S,S*S,S*S*S,Z,1),h=b(Z);else{if(n)return.5<S?Y:X;h=c(ba,X,Y,V,S,S*S,S*S*S)}v(d,m,h)}else if(D)k(K[h],K[h+1],S,u(d,m),r);else{if(q)k(K[h],K[h+1],S,Z,1),h=b(Z);else{if(n)return.5<S?K[h+1]:K[h];p=K[h];h=(K[h+1]-p)*S+p}v(d,m,h)}},ondestroy:a});p&&"spline"!==p&&(d.easing=p);return d}}}var h=a(29),t=a(31),w=a(4).isArrayLike,z=Array.prototype.slice;n=function(b,c,d,g){this._tracks={};this._target=b;this._loop=c||!1;this._getter=d||m;this._setter=g||q;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};n.prototype={when:function(b,c){var g=this._tracks,h;for(h in c)if(c.hasOwnProperty(h)){if(!g[h]){g[h]=[];var e=this._getter(this._target,h);if(null==e)continue;0!==b&&g[h].push({time:0,value:d(e)})}g[h].push({time:b,value:c[h]})}return this},during:function(b){this._onframeList.push(b);return this},pause:function(){for(var b=0;b<this._clipList.length;b++)this._clipList[b].pause();this._paused=!0},resume:function(){for(var b=0;b<this._clipList.length;b++)this._clipList[b].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var b=this._doneList,c=b.length,d=0;d<c;d++)b[d].call(this)},start:function(b){var c=this,d=0,g=function(){d--;d||c._doneCallback()},h,e;for(e in this._tracks)if(this._tracks.hasOwnProperty(e)){var a=p(this,b,g,this._tracks[e],e);a&&(this._clipList.push(a),d++,this.animation&&this.animation.addClip(a),h=a)}if(h){var t=h.onframe;h.onframe=function(b,d){t(b,d);for(var g=0;g<c._onframeList.length;g++)c._onframeList[g](b,d)}}d||this._doneCallback();return this},stop:function(b){for(var c=this._clipList,d=this.animation,g=0;g<c.length;g++){var h=c[g];if(b)h.onframe(this._target,1);d&&d.removeClip(h)}c.length=0},delay:function(b){this._delay=b;return this},done:function(b){b&&this._doneList.push(b);return this},getClips:function(){return this._clipList}};r.exports=n},function(r,n,a){function m(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||0;this._initialized=!1;this.loop=null==a.loop?!1:a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart;this._pausedTime=0;this._paused=!1}var q=a(30);m.prototype={constructor:m,step:function(a,l){this._initialized||(this._startTime=a+this._delay,this._initialized=!0);if(this._paused)this._pausedTime+=l;else{var f=(a-this._startTime-this._pausedTime)/this._life;if(!(0>f)){var f=Math.min(f,1),e=this.easing,e="string"==typeof e?q[e]:e,e="function"===typeof e?e(f):f;this.fire("frame",e);if(1==f){if(this.loop)return this.restart(a),"restart";this._needsRemove=!0;return"destroy"}return null}}},restart:function(a){this._startTime=a-(a-this._startTime-this._pausedTime)%this._life+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(a,l){a="on"+a;if(this[a])this[a](this._target,l)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};r.exports=m},function(r,n){var a={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var m,k=.1;if(0===a)return 0;if(1===a)return 1;!k||1>k?(k=1,m=.1):m=.4*Math.asin(1/k)/(2*Math.PI);return-(k*Math.pow(2,10*--a)*Math.sin(2*(a-m)*Math.PI/.4))},elasticOut:function(a){var m,k=.1;if(0===a)return 0;if(1===a)return 1;!k||1>k?(k=1,m=.1):m=.4*Math.asin(1/k)/(2*Math.PI);return k*Math.pow(2,-10*a)*Math.sin(2*(a-m)*Math.PI/.4)+1},elasticInOut:function(a){var m,k=.1;if(0===a)return 0;if(1===a)return 1;!k||1>k?(k=1,m=.1):m=.4*Math.asin(1/k)/(2*Math.PI);return 1>(a*=2)?-.5*k*Math.pow(2,10*--a)*Math.sin(2*(a-m)*Math.PI/.4):k*Math.pow(2,-10*--a)*Math.sin(2*(a-m)*Math.PI/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(m){return 1-a.bounceOut(1-m)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(m){return.5>m?.5*a.bounceIn(2*m):.5*a.bounceOut(2*m-1)+.5}};r.exports=a},function(r,n,a){function m(b){b=Math.round(b);return 0>b?0:255<b?255:b}function q(b){return 0>b?0:1<b?1:b}function k(b){return b.length&&"%"===b.charAt(b.length-1)?m(parseFloat(b)/100*255):m(parseInt(b,10))}function l(b){return b.length&&"%"===b.charAt(b.length-1)?q(parseFloat(b)/100):q(parseFloat(b))}function f(b,c,d){0>d?d+=1:1<d&&--d;return 1>6*d?b+(c-b)*d*6:1>2*d?c:2>3*d?b+(c-b)*(2/3-d)*6:b}function e(b,c,d){return b+(c-b)*d}function c(b,c,d,g,h){b[0]=c;b[1]=d;b[2]=g;b[3]=h;return b}function d(b,c){b[0]=c[0];b[1]=c[1];b[2]=c[2];b[3]=c[3];return b}function b(b,c){z&&d(z,c);z=w.put(b,z||c.slice())}function g(g,h){if(g){h=h||[];var a=w.get(g);if(a)return d(h,a);g+="";var e=g.replace(/ /g,"").toLowerCase();if(e in t)return d(h,t[e]),b(g,h),h;if("#"===e.charAt(0)){if(4===e.length){a=parseInt(e.substr(1),16);if(!(0<=a&&4095>=a)){c(h,0,0,0,1);return}c(h,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,1);b(g,h);return h}if(7===e.length){a=parseInt(e.substr(1),16);if(0<=a&&16777215>=a)return c(h,(a&16711680)>>16,(a&65280)>>8,a&255,1),b(g,h),h;c(h,0,0,0,1)}}else{var f=e.indexOf("("),u=e.indexOf(")");if(-1!==f&&u+1===e.length)switch(a=e.substr(0,f),e=e.substr(f+1,u-(f+1)).split(","),f=1,a){case "rgba":if(4!==e.length){c(h,0,0,0,1);return}f=l(e.pop());case "rgb":if(3!==e.length){c(h,0,0,0,1);return}c(h,k(e[0]),k(e[1]),k(e[2]),f);b(g,h);return h;case "hsla":if(4!==e.length){c(h,0,0,0,1);return}e[3]=l(e[3]);p(e,h);b(g,h);return h;case "hsl":if(3!==e.length){c(h,0,0,0,1);return}p(e,h);b(g,h);return h;default:return}c(h,0,0,0,1)}}}function p(b,d){var g=(parseFloat(b[0])%360+360)%360/360,h=l(b[1]),a=l(b[2]),h=.5>=a?a*(h+1):a+h-a*h,a=2*a-h;d=d||[];c(d,m(255*f(a,h,g+1/3)),m(255*f(a,h,g)),m(255*f(a,h,g-1/3)),1);4===b.length&&(d[3]=b[3]);return d}function h(b,c){if(b&&b.length){var d=b[0]+","+b[1]+","+b[2];if("rgba"===c||"hsva"===c||"hsla"===c)d+=","+b[3];return c+"("+d+")"}}var t={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},w=new (a(32))(20),z=null;r.exports={parse:g,lift:function(b,c){var d=g(b);if(d){for(var a=0;3>a;a++)d[a]=0>c?d[a]*(1-c)|0:(255-d[a])*c+d[a]|0;return h(d,4===d.length?"rgba":"rgb")}},toHex:function(b,c){var d=g(b);if(d)return(16777216+(d[0]<<16)+(d[1]<<8)+ +d[2]).toString(16).slice(1)},fastMapToColor:function(b,c,d){if(c&&c.length&&0<=b&&1>=b){d=d||[];var g=b*(c.length-1),h=Math.floor(g);b=c[h];c=c[Math.ceil(g)];g-=h;d[0]=m(e(b[0],c[0],g));d[1]=m(e(b[1],c[1],g));d[2]=m(e(b[2],c[2],g));d[3]=q(e(b[3],c[3],g));return d}},mapToColor:function(b,c,d){if(c&&c.length&&0<=b&&1>=b){b*=c.length-1;var a=Math.floor(b),p=Math.ceil(b),t=g(c[a]);c=g(c[p]);var f=b-a,t=h([m(e(t[0],c[0],f)),m(e(t[1],c[1],f)),m(e(t[2],c[2],f)),q(e(t[3],c[3],f))],"rgba");return d?{color:t,leftIndex:a,rightIndex:p,value:b}:t}},modifyHSL:function(b,c,d,a){if(b=g(b)){if(b){var e=b[0]/255,t=b[1]/255,f=b[2]/255,u=Math.min(e,t,f),w=Math.max(e,t,f),v=w-u,x=(w+u)/2,z;if(0===v)u=z=0;else{var u=.5>x?v/(w+u):v/(2-w-u),k=((w-e)/6+v/2)/v,y=((w-t)/6+v/2)/v,v=((w-f)/6+v/2)/v;e===w?z=v-y:t===w?z=1/3+k-v:f===w&&(z=2/3+y-k);0>z&&(z+=1);1<z&&--z}e=[360*z,u,x];null!=b[3]&&e.push(b[3]);b=e}else b=void 0;null!=c&&(c=Math.round(c),b[0]=0>c?0:360<c?360:c);null!=d&&(b[1]=l(d));null!=a&&(b[2]=l(a));return h(p(b),"rgba")}},modifyAlpha:function(b,c){if((b=g(b))&&null!=c)return b[3]=q(c),h(b,"rgba")},stringify:h}},function(r,n){var a=function(){this.tail=this.head=null;this._len=0},m=a.prototype;m.insert=function(a){a=new q(a);this.insertEntry(a);return a};m.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a;this._len++};m.remove=function(a){var f=a.prev,e=a.next;f?f.next=e:this.head=e;e?e.prev=f:this.tail=f;a.next=a.prev=null;this._len--};m.len=function(){return this._len};m.clear=function(){this.head=this.tail=null;this._len=0};var q=function(a){this.value=a},m=function(l){this._list=new a;this._map={};this._maxSize=l||10;this._lastRemovedEntry=null},k=m.prototype;k.put=function(a,f){var e=this._list,c=this._map,d=null;if(null==c[a]){var b=e.len(),g=this._lastRemovedEntry;b>=this._maxSize&&0<b&&(b=e.head,e.remove(b),delete c[b.key],d=b.value,this._lastRemovedEntry=b);g?g.value=f:g=new q(f);g.key=a;e.insertEntry(g);c[a]=g}return d};k.get=function(a){a=this._map[a];var f=this._list;if(null!=a)return a!==f.tail&&(f.remove(a),f.insertEntry(a)),a.value};k.clear=function(){this._list.clear();this._map={}};r.exports=m},function(r,n,a){var m=a(34);r.exports=function(){if(0!==m.debugMode)if(1==m.debugMode)for(var a in arguments)throw Error(arguments[a]);else if(1<m.debugMode)for(a in arguments)console.log(arguments[a])}},function(r,n){var a=1;"undefined"!==typeof window&&(a=Math.max(window.devicePixelRatio||1,1));r.exports={debugMode:0,devicePixelRatio:a}},function(r,n,a){function m(a,f){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*f:parseFloat(a):a}var q=a(8),k=new (a(9));n=function(){};n.prototype={constructor:n,drawRectText:function(a,f,e){var c=this.style,d=c.text;null!=d&&(d+="");if(d){a.save();var b,g=c.textPosition,p=c.textOffset;b=c.textDistance;var h=c.textAlign,t=c.textFont||c.font,w=c.textBaseline,z=c.textVerticalAlign;f=c.textPositionRect||f;e=e||q.getBoundingRect(d,t,h,w);var v=this.transform;c.textTransform?this.setTransform(a):v&&(k.copy(f),k.applyTransform(v),f=k);if(g instanceof Array){if(b=f.x+m(g[0],f.width),f=f.y+m(g[1],f.height),h=h||"left",w=w||"top",z){switch(z){case "middle":f-=e.height/2-e.lineHeight/2;break;case "bottom":f-=e.height-e.lineHeight/2;break;default:f+=e.lineHeight/2}w="middle"}}else z=q.adjustTextPositionOnRect(g,f,e,b),b=z.x,f=z.y,h=h||z.textAlign,w=w||z.textBaseline;p&&(b+=p[0],f+=p[1]);a.textAlign=h||"left";a.textBaseline=w||"alphabetic";p=c.textFill;h=c.textStroke;p&&(a.fillStyle=p);h&&(a.strokeStyle=h);a.font=t||"12px sans-serif";a.shadowBlur=c.textShadowBlur;a.shadowColor=c.textShadowColor||"transparent";a.shadowOffsetX=c.textShadowOffsetX;a.shadowOffsetY=c.textShadowOffsetY;d=d.split("\n");c.textRotation&&(v&&a.translate(v[4],v[5]),a.rotate(c.textRotation),v&&a.translate(-v[4],-v[5]));for(c=0;c<d.length;c++)h&&a.strokeText(d[c],b,f),p&&a.fillText(d[c],b,f),f+=e.lineHeight;a.restore()}}};r.exports=n},function(r,n,a){var m=a(37),q=a(10),k=a(38),l=a(9),f=a(34).devicePixelRatio,e={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],d=[],b=[],g=[],p=Math.min,h=Math.max,t=Math.cos,w=Math.sin,z=Math.sqrt,v=Math.abs,u="undefined"!=typeof Float32Array;n=function(b){if(this._saveData=!b)this.data=[];this._ctx=null};n.prototype={constructor:n,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(b,c){this._ux=v(1/f/b)||0;this._uy=v(1/f/c)||0},getContext:function(){return this._ctx},beginPath:function(b){(this._ctx=b)&&b.beginPath();b&&(this.dpr=b.dpr);this._saveData&&(this._len=0);this._lineDash&&(this._lineDash=null,this._dashOffset=0);return this},moveTo:function(b,c){this.addData(e.M,b,c);this._ctx&&this._ctx.moveTo(b,c);this._x0=b;this._y0=c;this._xi=b;this._yi=c;return this},lineTo:function(b,c){var d=v(b-this._xi)>this._ux||v(c-this._yi)>this._uy||5>this._len;this.addData(e.L,b,c);this._ctx&&d&&(this._needsDash()?this._dashedLineTo(b,c):this._ctx.lineTo(b,c));d&&(this._xi=b,this._yi=c);return this},bezierCurveTo:function(b,c,d,g,h,a){this.addData(e.C,b,c,d,g,h,a);this._ctx&&(this._needsDash()?this._dashedBezierTo(b,c,d,g,h,a):this._ctx.bezierCurveTo(b,c,d,g,h,a));this._xi=h;this._yi=a;return this},quadraticCurveTo:function(b,c,d,g){this.addData(e.Q,b,c,d,g);this._ctx&&(this._needsDash()?this._dashedQuadraticTo(b,c,d,g):this._ctx.quadraticCurveTo(b,c,d,g));this._xi=d;this._yi=g;return this},arc:function(b,c,d,g,h,a){this.addData(e.A,b,c,d,d,g,h-g,0,a?0:1);this._ctx&&this._ctx.arc(b,c,d,g,h,a);this._xi=t(h)*d+b;this._yi=w(h)*d+b;return this},arcTo:function(b,c,d,g,h){this._ctx&&this._ctx.arcTo(b,c,d,g,h);return this},rect:function(b,c,d,g){this._ctx&&this._ctx.rect(b,c,d,g);this.addData(e.R,b,c,d,g);return this},closePath:function(){this.addData(e.Z);var b=this._ctx,c=this._x0,d=this._y0;b&&(this._needsDash()&&this._dashedLineTo(c,d),b.closePath());this._xi=c;this._yi=d;return this},fill:function(b){b&&b.fill();this.toStatic()},stroke:function(b){b&&b.stroke();this.toStatic()},setLineDash:function(b){if(b instanceof Array){this._lineDash=b;for(var c=this._dashIdx=0,d=0;d<b.length;d++)c+=b[d];this._dashSum=c}return this},setLineDashOffset:function(b){this._dashOffset=b;return this},len:function(){return this._len},setData:function(b){var c=b.length;this.data&&this.data.length==c||!u||(this.data=new Float32Array(c));for(var d=0;d<c;d++)this.data[d]=b[d];this._len=c},appendPath:function(b){b instanceof Array||(b=[b]);for(var c=b.length,d=0,g=this._len,h=0;h<c;h++)d+=b[h].len();u&&this.data instanceof Float32Array&&(this.data=new Float32Array(g+d));for(h=0;h<c;h++)for(var d=b[h].data,a=0;a<d.length;a++)this.data[g++]=d[a];this._len=g},addData:function(b){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var d=0;d<arguments.length;d++)c[this._len++]=arguments[d];this._prevCmd=b}},_expandData:function(){if(!(this.data instanceof Array)){for(var b=[],c=0;c<this._len;c++)b[c]=this.data[c];this.data=b}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(b,c){var d=this._dashSum,g=this._dashOffset,a=this._lineDash,e=this._ctx,t=this._xi,f=this._yi,u=b-t,w=c-f,v=z(u*u+w*w),l=a.length,k,u=u/v,w=w/v;0>g&&(g=d+g);g%=d;d=t-g*u;for(g=f-g*w;0<u&&d<=b||0>u&&d>=b||0==u&&(0<w&&g<=c||0>w&&g>=c);)if(k=this._dashIdx,v=a[k],d+=u*v,g+=w*v,this._dashIdx=(k+1)%l,!(0<u&&d<t||0>u&&d>t||0<w&&g<f||0>w&&g>f))e[k%2?"moveTo":"lineTo"](0<=u?p(d,b):h(d,b),0<=w?p(g,c):h(g,c));u=d-b;w=g-c;this._dashOffset=-z(u*u+w*w)},_dashedBezierTo:function(b,c,d,g,h,a){var e=this._dashSum,p=this._dashOffset,t=this._lineDash,f=this._ctx,u=this._xi,w=this._yi,v,l,k=m.cubicAt,x=0,y=this._dashIdx,D=t.length,q,A,C=0;0>p&&(p=e+p);p%=e;for(e=0;1>e;e+=.1)v=k(u,b,d,h,e+.1)-k(u,b,d,h,e),l=k(w,c,g,a,e+.1)-k(w,c,g,a,e),x+=z(v*v+l*l);for(;y<D&&!(C+=t[y],C>p);y++);for(e=(C-p)/x;1>=e;)q=k(u,b,d,h,e),A=k(w,c,g,a,e),y%2?f.moveTo(q,A):f.lineTo(q,A),e+=t[y]/x,y=(y+1)%D;0!==y%2&&f.lineTo(h,a);v=h-q;l=a-A;this._dashOffset=-z(v*v+l*l)},_dashedQuadraticTo:function(b,c,d,g){var h=d,a=g;d=(d+2*b)/3;g=(g+2*c)/3;b=(this._xi+2*b)/3;c=(this._yi+2*c)/3;this._dashedBezierTo(b,c,d,g,h,a)},toStatic:function(){var b=this.data;b instanceof Array&&(b.length=this._len,u&&(this.data=new Float32Array(b)))},getBoundingRect:function(){c[0]=c[1]=b[0]=b[1]=Number.MAX_VALUE;d[0]=d[1]=g[0]=g[1]=-Number.MAX_VALUE;for(var h=this.data,a=0,p=0,f=0,u=0,v=0;v<h.length;){var z=h[v++];1==v&&(a=h[v],p=h[v+1],f=a,u=p);switch(z){case e.M:f=h[v++];u=h[v++];a=f;p=u;b[0]=f;b[1]=u;g[0]=f;g[1]=u;break;case e.L:k.fromLine(a,p,h[v],h[v+1],b,g);a=h[v++];p=h[v++];break;case e.C:k.fromCubic(a,p,h[v++],h[v++],h[v++],h[v++],h[v],h[v+1],b,g);a=h[v++];p=h[v++];break;case e.Q:k.fromQuadratic(a,p,h[v++],h[v++],h[v],h[v+1],b,g);a=h[v++];p=h[v++];break;case e.A:var a=h[v++],p=h[v++],m=h[v++],z=h[v++],n=h[v++],r=h[v++]+n;v++;var F=1-h[v++];1==v&&(f=t(n)*m+a,u=w(n)*z+p);k.fromArc(a,p,m,z,n,r,F,b,g);a=t(r)*m+a;p=w(r)*z+p;break;case e.R:f=a=h[v++];u=p=h[v++];z=h[v++];r=h[v++];k.fromLine(f,u,f+z,u+r,b,g);break;case e.Z:a=f,p=u}q.min(c,c,b);q.max(d,d,g)}0===v&&(c[0]=c[1]=d[0]=d[1]=0);return new l(c[0],c[1],d[0]-c[0],d[1]-c[1])},rebuildPath:function(b){for(var c=this.data,d,g,h,a,p,f,u=this._ux,z=this._uy,l=this._len,k=0;k<l;)switch(p=c[k++],1==k&&(h=c[k],a=c[k+1],d=h,g=a),p){case e.M:d=h=c[k++];g=a=c[k++];b.moveTo(h,a);break;case e.L:p=c[k++];f=c[k++];if(v(p-h)>u||v(f-a)>z||k===l-1)b.lineTo(p,f),h=p,a=f;break;case e.C:b.bezierCurveTo(c[k++],c[k++],c[k++],c[k++],c[k++],c[k++]);h=c[k-2];a=c[k-1];break;case e.Q:b.quadraticCurveTo(c[k++],c[k++],c[k++],c[k++]);h=c[k-2];a=c[k-1];break;case e.A:h=c[k++];a=c[k++];f=c[k++];p=c[k++];var x=c[k++],m=c[k++],q=c[k++],n=c[k++],r=f>p?f:p,Q=f>p?1:f/p,T=f>p?p/f:1,m=x+m;.001<Math.abs(f-p)?(b.translate(h,a),b.rotate(q),b.scale(Q,T),b.arc(0,0,r,x,m,1-n),b.scale(1/Q,1/T),b.rotate(-q),b.translate(-h,-a)):b.arc(h,a,r,x,m,1-n);1==k&&(d=t(x)*f+h,g=w(x)*p+a);h=t(m)*f+h;a=w(m)*p+a;break;case e.R:d=h=c[k];g=a=c[k+1];b.rect(c[k++],c[k++],c[k++],c[k++]);break;case e.Z:b.closePath(),h=d,a=g}}};n.CMD=e;r.exports=n},function(r,n,a){function m(b,c,d,g,a){var h=1-a;return h*h*(h*b+3*a*c)+a*a*(a*g+3*h*d)}function q(b,c,d,g){var h=1-g;return h*(h*b+2*g*c)+g*g*d}n=a(10);a=n.create;var k=n.distSquare,l=Math.pow,f=Math.sqrt,e=f(3),c=1/3,d=a(),b=a(),g=a();r.exports={cubicAt:m,cubicDerivativeAt:function(b,c,d,g,a){var h=1-a;return 3*(((c-b)*h+2*(d-c)*a)*h+(g-d)*a*a)},cubicRootAt:function(b,d,g,a,k,v){a=a+3*(d-g)-b;g=3*(g-2*d+b);var h=3*(d-b),p=b-k;k=g*g-3*a*h;d=g*h-9*a*p;b=0;if(-1E-8<k&&1E-8>k&&-1E-8<d&&1E-8>d)-1E-8<g&&1E-8>g?v[0]=0:(k=-h/g,0<=k&&1>=k&&(v[b++]=k));else if(h=d*d-4*k*(h*h-3*g*p),-1E-8<h&&1E-8>h)d/=k,k=-g/a+d,d=-d/2,0<=k&&1>=k&&(v[b++]=k),0<=d&&1>=d&&(v[b++]=d);else if(0<h)p=f(h),h=k*g+1.5*a*(-d+p),k=k*g+1.5*a*(-d-p),h=0>h?-l(-h,c):l(h,c),k=0>k?-l(-k,c):l(k,c),k=(-g-(h+k))/(3*a),0<=k&&1>=k&&(v[b++]=k);else{d=(2*k*g-3*a*d)/(2*f(k*k*k));var h=Math.acos(d)/3,p=f(k),t=Math.cos(h);k=(-g-2*p*t)/(3*a);d=(-g+p*(t+e*Math.sin(h)))/(3*a);a=(-g+p*(t-e*Math.sin(h)))/(3*a);0<=k&&1>=k&&(v[b++]=k);0<=d&&1>=d&&(v[b++]=d);0<=a&&1>=a&&(v[b++]=a)}return b},cubicExtrema:function(b,c,d,g,a){var h=6*d-12*c+6*b;d=9*c+3*g-3*b-9*d;c=3*c-3*b;b=0;if(-1E-8<d&&1E-8>d){if(1E-8<h||-1E-8>h)c=-c/h,0<=c&&1>=c&&(a[b++]=c)}else c=h*h-4*d*c,-1E-8<c&&1E-8>c?a[0]=-h/(2*d):0<c&&(g=f(c),c=(-h+g)/(2*d),h=(-h-g)/(2*d),0<=c&&1>=c&&(a[b++]=c),0<=h&&1>=h&&(a[b++]=h));return b},cubicSubdivide:function(b,c,d,g,a,e){var h=(c-b)*a+b,p=(d-c)*a+c;d=(g-d)*a+d;c=(p-h)*a+h;p=(d-p)*a+p;a=(p-c)*a+c;e[0]=b;e[1]=h;e[2]=c;e[3]=a;e[4]=a;e[5]=p;e[6]=d;e[7]=g},cubicProjectPoint:function(c,h,a,e,l,v,u,x,y,q,A){var p,t=.005,w=Infinity,z;d[0]=y;d[1]=q;for(y=0;1>y;y+=.05)b[0]=m(c,a,l,u,y),b[1]=m(h,e,v,x,y),q=k(d,b),q<w&&(p=y,w=q);for(var w=Infinity,D=0;32>D&&!(1E-4>t);D++)z=p-t,y=p+t,b[0]=m(c,a,l,u,z),b[1]=m(h,e,v,x,z),q=k(b,d),0<=z&&q<w?(p=z,w=q):(g[0]=m(c,a,l,u,y),g[1]=m(h,e,v,x,y),q=k(g,d),1>=y&&q<w?(p=y,w=q):t*=.5);A&&(A[0]=m(c,a,l,u,p),A[1]=m(h,e,v,x,p));return f(w)},quadraticAt:q,quadraticDerivativeAt:function(b,c,d,g){return 2*((1-g)*(c-b)+g*(d-c))},quadraticRootAt:function(b,c,d,g,a){d=b-2*c+d;c=2*(c-b);g=b-g;b=0;if(-1E-8<d&&1E-8>d){if(1E-8<c||-1E-8>c)g=-g/c,0<=g&&1>=g&&(a[b++]=g)}else if(g=c*c-4*d*g,-1E-8<g&&1E-8>g)g=-c/(2*d),0<=g&&1>=g&&(a[b++]=g);else if(0<g){var h=f(g);g=(-c+h)/(2*d);d=(-c-h)/(2*d);0<=g&&1>=g&&(a[b++]=g);0<=d&&1>=d&&(a[b++]=d)}return b},quadraticExtremum:function(b,c,d){d=b+d-2*c;return 0===d?.5:(b-c)/d},quadraticSubdivide:function(b,c,d,g,a){var h=(c-b)*g+b;c=(d-c)*g+c;g=(c-h)*g+h;a[0]=b;a[1]=h;a[2]=g;a[3]=g;a[4]=c;a[5]=d},quadraticProjectPoint:function(c,h,a,e,l,v,u,x,y){var p,t=.005,w=Infinity;d[0]=u;d[1]=x;for(x=0;1>x;x+=.05)b[0]=q(c,a,l,x),b[1]=q(h,e,v,x),u=k(d,b),u<w&&(p=x,w=u);w=Infinity;for(x=0;32>x&&!(1E-4>t);x++){var z=p-t,m=p+t;b[0]=q(c,a,l,z);b[1]=q(h,e,v,z);u=k(b,d);0<=z&&u<w?(p=z,w=u):(g[0]=q(c,a,l,m),g[1]=q(h,e,v,m),u=k(g,d),1>=m&&u<w?(p=m,w=u):t*=.5)}y&&(y[0]=q(c,a,l,p),y[1]=q(h,e,v,p));return f(w)}}},function(r,n,a){var m=a(10),q=a(37);n={};var k=Math.min,l=Math.max,f=Math.sin,e=Math.cos,c=m.create(),d=m.create(),b=m.create(),g=2*Math.PI;n.fromPoints=function(b,c,d){if(0!==b.length){var g=b[0],h=g[0],a=g[0],e=g[1],p=g[1],f;for(f=1;f<b.length;f++)g=b[f],h=k(h,g[0]),a=l(a,g[0]),e=k(e,g[1]),p=l(p,g[1]);c[0]=h;c[1]=e;d[0]=a;d[1]=p}};n.fromLine=function(b,c,d,g,h,a){h[0]=k(b,d);h[1]=k(c,g);a[0]=l(b,d);a[1]=l(c,g)};var p=[],h=[];n.fromCubic=function(b,c,d,g,a,e,f,m,A,C){var t=q.cubicExtrema,u=q.cubicAt,v,w=t(b,d,a,f,p);A[0]=Infinity;A[1]=Infinity;C[0]=-Infinity;C[1]=-Infinity;for(v=0;v<w;v++){var z=u(b,d,a,f,p[v]);A[0]=k(z,A[0]);C[0]=l(z,C[0])}w=t(c,g,e,m,h);for(v=0;v<w;v++)d=u(c,g,e,m,h[v]),A[1]=k(d,A[1]),C[1]=l(d,C[1]);A[0]=k(b,A[0]);C[0]=l(b,C[0]);A[0]=k(f,A[0]);C[0]=l(f,C[0]);A[1]=k(c,A[1]);C[1]=l(c,C[1]);A[1]=k(m,A[1]);C[1]=l(m,C[1])};n.fromQuadratic=function(b,c,d,g,h,a,e,p){var f=q.quadraticExtremum,t=q.quadraticAt,u=l(k(f(b,d,h),1),0),f=l(k(f(c,g,a),1),0);d=t(b,d,h,u);g=t(c,g,a,f);e[0]=k(b,h,d);e[1]=k(c,a,g);p[0]=l(b,h,d);p[1]=l(c,a,g)};n.fromArc=function(h,a,p,k,u,l,y,q,A){var t=m.min,v=m.max,w=Math.abs(u-l);if(1E-4>w%g&&1E-4<w)q[0]=h-p,q[1]=a-k,A[0]=h+p,A[1]=a+k;else for(c[0]=e(u)*p+h,c[1]=f(u)*k+a,d[0]=e(l)*p+h,d[1]=f(l)*k+a,t(q,c,d),v(A,c,d),u%=g,0>u&&(u+=g),l%=g,0>l&&(l+=g),u>l&&!y?l+=g:u<l&&y&&(u+=g),y&&(y=l,l=u,u=y),y=0;y<l;y+=Math.PI/2)y>u&&(b[0]=e(y)*p+h,b[1]=f(y)*k+a,t(q,b,q),v(A,b,A))};r.exports=n},function(r,n,a){function m(a,w,z,v,u){for(var t=0,y=0,m=0,A=0,C=0,n=0;n<a.length;){var r=a[n++];r===q.M&&1<n&&(z||(t+=d(y,m,A,C,v,u)));1==n&&(y=a[n],m=a[n+1],A=y,C=m);switch(r){case q.M:A=a[n++];C=a[n++];y=A;m=C;break;case q.L:if(z){if(b(y,m,a[n],a[n+1],w,v,u))return!0}else t+=d(y,m,a[n],a[n+1],v,u)||0;y=a[n++];m=a[n++];break;case q.C:if(z){if(k.containStroke(y,m,a[n++],a[n++],a[n++],a[n++],a[n],a[n+1],w,v,u))return!0}else{var r=t,E;E=y;var M=m,N=a[n++],F=a[n++],J=a[n++],m=a[n++],y=a[n],t=a[n+1],H=v;if(u>M&&u>F&&u>m&&u>t||u<M&&u<F&&u<m&&u<t)E=0;else{var K=c.cubicRootAt(M,F,m,t,u,p);if(0===K)E=0;else{for(var I=0,G=-1,O=void 0,Q=void 0,T=0;T<K;T++){var P=p[T],U=0===P||1===P?.5:1;c.cubicAt(E,N,J,y,P)<H||(0>G&&(G=c.cubicExtrema(M,F,m,t,h),h[1]<h[0]&&1<G&&(O=h[0],h[0]=h[1],h[1]=O),O=c.cubicAt(M,F,m,t,h[0]),1<G&&(Q=c.cubicAt(M,F,m,t,h[1]))),I=2==G?P<h[0]?I+(O<M?U:-U):P<h[1]?I+(Q<O?U:-U):I+(t<Q?U:-U):P<h[0]?I+(O<M?U:-U):I+(t<O?U:-U))}E=I}}t=r+(E||0)}y=a[n++];m=a[n++];break;case q.Q:if(z){if(l.containStroke(y,m,a[n++],a[n++],a[n],a[n+1],w,v,u))return!0}else{r=t;E=y;M=m;N=a[n++];K=a[n++];F=a[n];J=a[n+1];m=v;if(u>M&&u>K&&u>J||u<M&&u<K&&u<J)E=0;else if(y=c.quadraticRootAt(M,K,J,u,p),0===y)E=0;else if(t=c.quadraticExtremum(M,K,J),0<=t&&1>=t){H=0;K=c.quadraticAt(M,K,J,t);for(I=0;I<y;I++)G=0===p[I]||1===p[I]?.5:1,Q=c.quadraticAt(E,N,F,p[I]),Q<m||(H=p[I]<t?H+(K<M?G:-G):H+(J<K?G:-G));E=H}else G=0===p[0]||1===p[0]?.5:1,Q=c.quadraticAt(E,N,F,p[0]),E=Q<m?0:J<M?G:-G;t=r+(E||0)}y=a[n++];m=a[n++];break;case q.A:r=a[n++];E=a[n++];M=a[n++];N=a[n++];F=a[n++];J=a[n++];n++;K=1-a[n++];H=Math.cos(F)*M+r;I=Math.sin(F)*N+E;1<n?t+=d(y,m,H,I,v,u):(A=H,C=I);I=(v-r)*N/M+r;if(z){if(f.containStroke(r,E,N,F,F+J,K,w,I,u))return!0}else{m=t;y=r;t=F;H=F+J;G=u;G-=E;if(G>N||G<-N)y=0;else if(Q=Math.sqrt(N*N-G*G),p[0]=-Q,p[1]=Q,Q=Math.abs(t-H),1E-4>Q)y=0;else if(1E-4>Q%g)y=I>=p[0]+y&&I<=p[1]+y?K?1:-1:0;else{K?(Q=t,t=e(H),H=e(Q)):(t=e(t),H=e(H));t>H&&(H+=g);for(T=Q=0;2>T;T++)if(P=p[T],P+y>I&&(U=Math.atan2(G,P),P=K?1:-1,0>U&&(U=g+U),U>=t&&U<=H||U+g>=t&&U+g<=H))U>Math.PI/2&&U<1.5*Math.PI&&(P=-P),Q+=P;y=Q}t=m+y}y=Math.cos(F+J)*M+r;m=Math.sin(F+J)*N+E;break;case q.R:A=y=a[n++];C=m=a[n++];E=a[n++];r=a[n++];H=A+E;I=C+r;if(z){if(b(A,C,H,C,w,v,u)||b(H,C,H,I,w,v,u)||b(H,I,A,I,w,v,u)||b(A,I,A,C,w,v,u))return!0}else t+=d(H,C,H,I,v,u),t+=d(A,I,A,C,v,u);break;case q.Z:if(z){if(b(y,m,A,C,w,v,u))return!0}else t+=d(y,m,A,C,v,u);y=A;m=C}}z||1E-4>Math.abs(m-C)||(t+=d(y,m,A,C,v,u)||0);return 0!==t}var q=a(36).CMD;n=a(40);var k=a(41),l=a(42),f=a(43),e=a(44).normalizeRadian,c=a(37),d=a(45),b=n.containStroke,g=2*Math.PI,p=[-1,-1,-1],h=[-1,-1];r.exports={contain:function(b,c,d){return m(b,0,!1,c,d)},containStroke:function(b,c,d,g){return m(b,c,!0,d,g)}}},function(r,n){r.exports={containStroke:function(a,m,q,k,l,f,e){if(0===l)return!1;var c;if(e>m+l&&e>k+l||e<m-l&&e<k-l||f>a+l&&f>q+l||f<a-l&&f<q-l)return!1;if(a!==q)c=(m-k)/(a-q);else return Math.abs(f-a)<=l/2;a=c*f-e+(a*k-q*m)/(a-q);return a*a/(c*c+1)<=l/2*l/2}}},function(r,n,a){var m=a(37);r.exports={containStroke:function(a,k,l,f,e,c,d,b,g,p,h){return 0===g||h>k+g&&h>f+g&&h>c+g&&h>b+g||h<k-g&&h<f-g&&h<c-g&&h<b-g||p>a+g&&p>l+g&&p>e+g&&p>d+g||p<a-g&&p<l-g&&p<e-g&&p<d-g?!1:m.cubicProjectPoint(a,k,l,f,e,c,d,b,p,h,null)<=g/2}}},function(r,n,a){var m=a(37);r.exports={containStroke:function(a,k,l,f,e,c,d,b,g){return 0===d||g>k+d&&g>f+d&&g>c+d||g<k-d&&g<f-d&&g<c-d||b>a+d&&b>l+d&&b>e+d||b<a-d&&b<l-d&&b<e-d?!1:m.quadraticProjectPoint(a,k,l,f,e,c,b,g,null)<=d/2}}},function(r,n,a){var m=a(44).normalizeRadian,q=2*Math.PI;r.exports={containStroke:function(a,l,f,e,c,d,b,g,p){if(0===b)return!1;g-=a;p-=l;a=Math.sqrt(g*g+p*p);if(a-b>f||a+b<f)return!1;if(1E-4>Math.abs(e-c)%q)return!0;d?(f=e,e=m(c),c=m(f)):(e=m(e),c=m(c));e>c&&(c+=q);g=Math.atan2(p,g);0>g&&(g+=q);return g>=e&&g<=c||g+q>=e&&g+q<=c}}},function(r,n){var a=2*Math.PI;r.exports={normalizeRadian:function(m){m%=a;0>m&&(m+=a);return m}}},function(r,n){r.exports=function(a,m,q,k,l,f){if(f>m&&f>k||f<m&&f<k||k===m)return 0;var e=k<m?1:-1;f=(f-m)/(k-m);if(1===f||0===f)e=k<m?.5:-.5;return f*(q-a)+a>l?e:0}},function(r,n){var a=function(a,q){this.image=a;this.repeat=q;this.type="pattern"};a.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};r.exports=a},function(r,n,a){var m=a(36).CMD,q=a(10).applyTransform,k=[[],[],[]],l=Math.sqrt,f=Math.atan2;r.exports=function(a,c){var d=a.data,b,g,e,h,t,w=m.M,z=m.C,v=m.L,u=m.R,x=m.A,y=m.Q;for(e=0;e<d.length;){b=d[e++];h=e;g=0;switch(b){case w:g=1;break;case v:g=1;break;case z:g=3;break;case y:g=2;break;case x:h=c[4];b=c[5];var D=l(c[0]*c[0]+c[1]*c[1]),A=l(c[2]*c[2]+c[3]*c[3]),C=f(-c[1]/A,c[0]/D);d[e]*=D;d[e++]+=h;d[e]*=A;d[e++]+=b;d[e++]*=D;d[e++]*=A;d[e++]+=C;d[e++]+=C;h=e+=2;break;case u:t[0]=d[e++],t[1]=d[e++],q(t,t,c),d[h++]=t[0],d[h++]=t[1],t[0]+=d[e++],t[1]+=d[e++],q(t,t,c),d[h++]=t[0],d[h++]=t[1]}for(b=0;b<g;b++)t=k[b],t[0]=d[e++],t[1]=d[e++],q(t,t,c),d[h++]=t[0],d[h++]=t[1]}}},function(r,n,a){var m=a(4),q=a(23),k=a(9),l=function(a){a=a||{};q.call(this,a);for(var e in a)a.hasOwnProperty(e)&&(this[e]=a[e]);this._children=[];this.__storage=null;this.__dirty=!0};l.prototype={constructor:l,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var e=this._children,c=0;c<e.length;c++)if(e[c].name===a)return e[c]},childCount:function(){return this._children.length},add:function(a){a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a));return this},addBefore:function(a,e){if(a&&a!==this&&a.parent!==this&&e&&e.parent===this){var c=this._children,d=c.indexOf(e);0<=d&&(c.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var e=this.__storage,c=this.__zr;e&&e!==a.__storage&&(e.addToStorage(a),a instanceof l&&a.addChildrenToStorage(e));c&&c.refresh()},remove:function(a){var e=this.__zr,c=this.__storage,d=this._children,b=m.indexOf(d,a);if(0>b)return this;d.splice(b,1);a.parent=null;c&&(c.delFromStorage(a),a instanceof l&&a.delChildrenFromStorage(c));e&&e.refresh();return this},removeAll:function(){var a=this._children,e=this.__storage,c,d;for(d=0;d<a.length;d++)c=a[d],e&&(e.delFromStorage(c),c instanceof l&&c.delChildrenFromStorage(e)),c.parent=null;a.length=0;return this},eachChild:function(a,e){for(var c=this._children,d=0;d<c.length;d++)a.call(e,c[d],d);return this},traverse:function(a,e){for(var c=0;c<this._children.length;c++){var d=this._children[c];a.call(e,d);"group"===d.type&&d.traverse(a,e)}return this},addChildrenToStorage:function(a){for(var e=0;e<this._children.length;e++){var c=this._children[e];a.addToStorage(c);c instanceof l&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var e=0;e<this._children.length;e++){var c=this._children[e];a.delFromStorage(c);c instanceof l&&c.delChildrenFromStorage(a)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(a){var e=null,c=new k(0,0,0,0);a=a||this._children;for(var d=[],b=0;b<a.length;b++){var g=a[b];if(!g.ignore&&!g.invisible){var p=g.getBoundingRect();(g=g.getLocalTransform(d))?(c.copy(p),c.applyTransform(g),e=e||c.clone(),e.union(c)):(e=e||p.clone(),e.union(p))}}return e||c}};m.inherits(l,q);r.exports=l},function(r,n,a){function m(a){q.call(this,a)}var q=a(21),k=a(9);n=a(4);var l=new (a(32))(50);m.prototype={constructor:m,type:"image",brush:function(a,e){var c=this.style,d=c.image,b;c.bind(a,this,e);b="string"===typeof d?this._image:d;if(!b&&d){var g=l.get(d);if(g){if(this._image=b=g.image,!b.width||!b.height){g.pending.push(this);return}}else{b=new Image;b.onload=function(){b.onload=null;for(var c=0;c<g.pending.length;c++)g.pending[c].dirty()};g={image:b,pending:[this]};b.src=d;l.put(d,g);this._image=b;return}}if(b){var d=c.x||0,p=c.y||0;if(b.width&&b.height){var h=c.width,t=c.height,f=b.width/b.height;null==h&&null!=t?h=t*f:null==t&&null!=h?t=h/f:null==h&&null==t&&(h=b.width,t=b.height);this.setTransform(a);if(c.sWidth&&c.sHeight){var f=c.sx||0,k=c.sy||0;a.drawImage(b,f,k,c.sWidth,c.sHeight,d,p,h,t)}else c.sx&&c.sy?(f=c.sx,k=c.sy,a.drawImage(b,f,k,h-f,t-k,d,p,h,t)):a.drawImage(b,d,p,h,t);this.restoreTransform(a);null!=c.text&&this.drawRectText(a,this.getBoundingRect())}}},getBoundingRect:function(){var a=this.style;this._rect||(this._rect=new k(a.x||0,a.y||0,a.width||0,a.height||0));return this._rect}};n.inherits(m,q);r.exports=m},function(r,n,a){var m=a(21);n=a(4);var q=a(8);a=function(a){m.call(this,a)};a.prototype={constructor:a,type:"text",brush:function(a,l){var f=this.style,e=f.x||0,c=f.y||0,d=f.text;null!=d&&(d+="");f.bind(a,this,l);if(d){this.setTransform(a);var b,g=f.textAlign,p=f.textFont||f.font;if(f.textVerticalAlign){var h=q.getBoundingRect(d,p,f.textAlign,"top");b="middle";switch(f.textVerticalAlign){case "middle":c-=h.height/2-h.lineHeight/2;break;case "bottom":c-=h.height-h.lineHeight/2;break;default:c+=h.lineHeight/2}}else b=f.textBaseline;a.font=p||"12px sans-serif";a.textAlign=g||"left";a.textAlign!==g&&(a.textAlign="left");a.textBaseline=b||"alphabetic";a.textBaseline!==b&&(a.textBaseline="alphabetic");b=q.measureText("\u56fd",a.font).width;d=d.split("\n");for(g=0;g<d.length;g++)f.hasStroke()&&a.strokeText(d[g],e,c),f.hasFill()&&a.fillText(d[g],e,c),c+=b;this.restoreTransform(a)}},getBoundingRect:function(){var a=this.style;if(!this._rect){var l=a.textVerticalAlign,f=q.getBoundingRect(a.text+"",a.textFont||a.font,a.textAlign,l?"top":a.textBaseline);switch(l){case "middle":f.y-=f.height/2;break;case "bottom":f.y-=f.height}f.x+=a.x||0;f.y+=a.y||0;a.hasStroke()&&(a=a.lineWidth,f.x-=a/2,f.y-=a/2,f.width+=a,f.height+=a);this._rect=f}return this._rect}};n.inherits(a,m);r.exports=a},function(r,n,a){r.exports=a(20).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,q,k){k&&a.moveTo(q.cx+q.r,q.cy);a.arc(q.cx,q.cy,q.r,0,2*Math.PI,!0)}})},function(r,n,a){n=a(2);var m=a(20),q=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];r.exports=m.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:n.browser.ie&&11<=n.browser.version?function(){var a=this.__clipPaths,l=this.style,f;if(a)for(var e=0;e<a.length;e++){var c=a[e]&&a[e].shape;if(c&&c.startAngle===c.endAngle){for(a=0;a<q.length;a++)q[a][2]=l[q[a][0]],l[q[a][0]]=q[a][1];f=!0;break}}m.prototype.brush.apply(this,arguments);if(f)for(a=0;a<q.length;a++)l[q[a][0]]=q[a][2]}:m.prototype.brush,buildPath:function(a,l){var f=l.cx,e=l.cy,c=Math.max(l.r0||0,0),d=Math.max(l.r,0),b=l.startAngle,g=l.endAngle,p=l.clockwise,h=Math.cos(b),t=Math.sin(b);a.moveTo(h*c+f,t*c+e);a.lineTo(h*d+f,t*d+e);a.arc(f,e,d,b,g,!p);a.lineTo(Math.cos(g)*c+f,Math.sin(g)*c+e);0!==c&&a.arc(f,e,c,g,b,p);a.closePath()}})},function(r,n,a){r.exports=a(20).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,q){var k=q.cx,l=q.cy,f=2*Math.PI;a.moveTo(k+q.r,l);a.arc(k,l,q.r,0,f,!1);a.moveTo(k+q.r0,l);a.arc(k,l,q.r0,0,f,!0)}})},function(r,n,a){var m=a(55);r.exports=a(20).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,k){m.buildPath(a,k,!0)}})},function(r,n,a){var m=a(56),q=a(57);r.exports={buildPath:function(a,l,f){var e=l.points,c=l.smooth;if(e&&2<=e.length){if(c&&"spline"!==c){c=q(e,c,f,l.smoothConstraint);a.moveTo(e[0][0],e[0][1]);var d=e.length;for(l=0;l<(f?d:d-1);l++){var b=c[2*l],g=c[2*l+1],p=e[(l+1)%d];a.bezierCurveTo(b[0],b[1],g[0],g[1],p[0],p[1])}}else for("spline"===c&&(e=m(e,f)),a.moveTo(e[0][0],e[0][1]),l=1,c=e.length;l<c;l++)a.lineTo(e[l][0],e[l][1]);f&&a.closePath()}}}},function(r,n,a){function m(a,l,f,e,c,d,b){a=.5*(f-a);e=.5*(e-l);return(2*(l-f)+a+e)*b+(-3*(l-f)-2*a-e)*d+a*c+l}var q=a(10);r.exports=function(a,l){for(var f=a.length,e=[],c=0,d=1;d<f;d++)c+=q.distance(a[d-1],a[d]);c/=2;c=c<f?f:c;for(d=0;d<c;d++){var b=d/(c-1)*(l?f:f-1),g=Math.floor(b),b=b-g,p,h=a[g%f],t;l?(p=a[(g-1+f)%f],t=a[(g+1)%f],g=a[(g+2)%f]):(p=a[0===g?g:g-1],t=a[g>f-2?f-1:g+1],g=a[g>f-3?f-1:g+2]);var w=b*b,k=b*w;e.push([m(p[0],h[0],t[0],g[0],b,w,k),m(p[1],h[1],t[1],g[1],b,w,k)])}return e}},function(r,n,a){var m=a(10),q=m.min,k=m.max,l=m.scale,f=m.distance,e=m.add;r.exports=function(c,d,b,a){var g=[],h=[],t=[],w=[],z,v,u,x;if(a){u=[Infinity,Infinity];x=[-Infinity,-Infinity];for(var y=0,D=c.length;y<D;y++)q(u,u,c[y]),k(x,x,c[y]);q(u,u,a[0]);k(x,x,a[1])}y=0;for(D=c.length;y<D;y++){var A=c[y];if(b)z=c[y?y-1:D-1],v=c[(y+1)%D];else if(0===y||y===D-1){g.push(m.clone(c[y]));continue}else z=c[y-1],v=c[y+1];m.sub(h,v,z);l(h,h,d);z=f(A,z);v=f(A,v);var C=z+v;0!==C&&(z/=C,v/=C);l(t,h,-z);l(w,h,v);z=e([],A,t);A=e([],A,w);a&&(k(z,z,u),q(z,z,x),k(A,A,u),q(A,A,x));g.push(z);g.push(A)}b&&g.push(g.shift());return g}},function(r,n,a){var m=a(55);r.exports=a(20).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,k){m.buildPath(a,k,!1)}})},function(r,n,a){var m=a(60);r.exports=a(20).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,k){var l=k.x,f=k.y,e=k.width,c=k.height;k.r?m.buildPath(a,k):a.rect(l,f,e,c);a.closePath()}})},function(r,n){r.exports={buildPath:function(a,m){var q=m.x,k=m.y,l=m.width,f=m.height,e=m.r,c,d,b,g;0>l&&(q+=l,l=-l);0>f&&(k+=f,f=-f);"number"===typeof e?c=d=b=g=e:e instanceof Array?1===e.length?c=d=b=g=e[0]:2===e.length?(c=b=e[0],d=g=e[1]):3===e.length?(c=e[0],d=g=e[1],b=e[2]):(c=e[0],d=e[1],b=e[2],g=e[3]):c=d=b=g=0;c+d>l&&(e=c+d,c*=l/e,d*=l/e);b+g>l&&(e=b+g,b*=l/e,g*=l/e);d+b>f&&(e=d+b,d*=f/e,b*=f/e);c+g>f&&(e=c+g,c*=f/e,g*=f/e);a.moveTo(q+c,k);a.lineTo(q+l-d,k);0!==d&&a.quadraticCurveTo(q+l,k,q+l,k+d);a.lineTo(q+l,k+f-b);0!==b&&a.quadraticCurveTo(q+l,k+f,q+l-b,k+f);a.lineTo(q+g,k+f);0!==g&&a.quadraticCurveTo(q,k+f,q,k+f-g);a.lineTo(q,k+c);0!==c&&a.quadraticCurveTo(q,k,q+c,k)}}},function(r,n,a){r.exports=a(20).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,q){var k=q.x1,l=q.y1,f=q.x2,e=q.y2,c=q.percent;0!==c&&(a.moveTo(k,l),1>c&&(f=k*(1-c)+f*c,e=l*(1-c)+e*c),a.lineTo(f,e))},pointAt:function(a){var m=this.shape;return[m.x1*(1-a)+m.x2*a,m.y1*(1-a)+m.y2*a]}})},function(r,n,a){function m(b,a,h){var g=b.cpy2;return null===b.cpx2||null===g?[(h?d:e)(b.x1,b.cpx1,b.cpx2,b.x2,a),(h?d:e)(b.y1,b.cpy1,b.cpy2,b.y2,a)]:[(h?c:f)(b.x1,b.cpx1,b.x2,a),(h?c:f)(b.y1,b.cpy1,b.y2,a)]}n=a(37);var q=a(10),k=n.quadraticSubdivide,l=n.cubicSubdivide,f=n.quadraticAt,e=n.cubicAt,c=n.quadraticDerivativeAt,d=n.cubicDerivativeAt,b=[];r.exports=a(20).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(c,d){var a=d.x1,g=d.y1,e=d.x2,p=d.y2,f=d.cpx1,u=d.cpy1,x=d.cpx2,y=d.cpy2,m=d.percent;0!==m&&(c.moveTo(a,g),null==x||null==y?(1>m&&(k(a,f,e,m,b),f=b[1],e=b[2],k(g,u,p,m,b),u=b[1],p=b[2]),c.quadraticCurveTo(f,u,e,p)):(1>m&&(l(a,f,x,e,m,b),f=b[1],x=b[2],e=b[3],l(g,u,y,p,m,b),u=b[1],y=b[2],p=b[3]),c.bezierCurveTo(f,u,x,y,e,p)))},pointAt:function(b){return m(this.shape,b,!1)},tangentAt:function(b){b=m(this.shape,b,!0);return q.normalize(b,b)}})},function(r,n,a){r.exports=a(20).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,q){var k=q.cx,l=q.cy,f=Math.max(q.r,0),e=q.startAngle,c=q.endAngle,d=q.clockwise;a.moveTo(Math.cos(e)*f+k,Math.sin(e)*f+l);a.arc(k,l,f,e,c,!d)}})},function(r,n,a){var m=a(20);r.exports=m.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,k=this.shape.paths,l=0;l<k.length;l++)a=a||k[l].__dirtyPath;this.__dirtyPath=a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],k=this.getGlobalScale(),l=0;l<a.length;l++)a[l].path||a[l].createPathProxy(),a[l].path.setScale(k[0],k[1])},buildPath:function(a,k){for(var l=k.paths||[],f=0;f<l.length;f++)l[f].buildPath(a,l[f].shape,!0)},afterBrush:function(){for(var a=this.shape.paths,k=0;k<a.length;k++)a[k].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return m.prototype.getBoundingRect.call(this)}})},function(r,n,a){n=a(4);var m=a(66);a=function(a,k,l,f,e,c){this.x=null==a?0:a;this.y=null==k?0:k;this.x2=null==l?1:l;this.y2=null==f?0:f;this.type="linear";this.global=c||!1;m.call(this,e)};a.prototype={constructor:a};n.inherits(a,m);r.exports=a},function(r,n){var a=function(a){this.colorStops=a||[]};a.prototype={constructor:a,addColorStop:function(a,q){this.colorStops.push({offset:a,color:q})}};r.exports=a},function(r,n,a){n=a(4);var m=a(66);a=function(a,k,l,f,e){this.x=null==a?.5:a;this.y=null==k?.5:k;this.r=null==l?.5:l;this.type="radial";this.global=e||!1;m.call(this,f)};a.prototype={constructor:a};n.inherits(a,m);r.exports=a},function(r,n,a){var m=a(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);r.exports={getItemStyle:function(a,k){var l=m.call(this,a,k),f=this.getBorderLineDash();f&&(l.lineDash=f);return l},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}}},function(r,n,a){var m=a(12),q=a(4),k=Array.prototype.push,l=a(70),f=a(13),e=a(71),c=m.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(c,b,a,e){m.call(this,c,b,a,e);this.uid=l.getUID("componentModel")},init:function(c,b,a,e){this.mergeDefaultAndTheme(c,a)},mergeDefaultAndTheme:function(c,b){var d=this.layoutMode,a=d?e.getLayoutParams(c):{},h=b.getTheme();q.merge(c,h.get(this.mainType));q.merge(c,this.getDefaultOption());d&&e.mergeLayoutParam(c,a,d)},mergeOption:function(c,b){q.merge(this.option,c,!0);var d=this.layoutMode;d&&e.mergeLayoutParam(this.option,c,d)},optionUpdated:function(c,b){},getDefaultOption:function(){if(!f.hasOwn(this,"__defaultOption")){for(var c=[],b=this.constructor;b;){var a=b.prototype.defaultOption;a&&c.push(a);b=b.superClass}b={};for(a=c.length-1;0<=a;a--)b=q.merge(b,c[a],!0);f.set(this,"__defaultOption",b)}return f.get(this,"__defaultOption")},getReferringComponents:function(c){return this.ecModel.queryComponents({mainType:c,index:this.get(c+"Index",!0),id:this.get(c+"Id",!0)})}});f.enableClassManagement(c,{registerWhenExtend:!0});l.enableSubTypeDefaulter(c);l.enableTopologicalTravel(c,function(d){var b=[];q.each(c.getClassesByMainType(d),function(c){k.apply(b,c.prototype.dependencies||[])});return q.map(b,function(b){return f.parseClassType(b).main})});q.mixin(c,a(72));r.exports=c},function(r,n,a){var m=a(4),q=a(13).parseClassType,k=0;r.exports={getUID:function(a){return[a||"",k++,Math.random()].join("_")},enableSubTypeDefaulter:function(a){var f={};a.registerSubTypeDefaulter=function(a,c){a=q(a);f[a.main]=c};a.determineSubType=function(e,c){var d=c.type;if(!d){var b=q(e).main;a.hasSubTypes(e)&&f[b]&&(d=f[b](c))}return d};return a},enableTopologicalTravel:function(a,f){function e(b){var a={},e=[];m.each(b,function(g){var h=c(a,g),p=h.originalDeps=f(g),p=d(p,b);h.entryCount=p.length;0===h.entryCount&&e.push(g);m.each(p,function(b){0>m.indexOf(h.predecessor,b)&&h.predecessor.push(b);var d=c(a,b);0>m.indexOf(d.successor,b)&&d.successor.push(g)})});return{graph:a,noEntryList:e}}function c(b,c){b[c]||(b[c]={predecessor:[],successor:[]});return b[c]}function d(b,c){var d=[];m.each(b,function(b){0<=m.indexOf(c,b)&&d.push(b)});return d}a.topologicalTravel=function(b,c,d,a){function g(b){p[b].entryCount--;0===p[b].entryCount&&f.push(b)}function h(b){u[b]=!0;g(b)}if(b.length){c=e(c);var p=c.graph,f=c.noEntryList,u={};for(m.each(b,function(b){u[b]=!0});f.length;){b=f.pop();c=p[b];var l=!!u[b];l&&(d.call(a,b,c.originalDeps.slice()),delete u[b]);m.each(c.successor,l?h:g)}m.each(u,function(){throw Error("Circle dependency may exists");})}}}}},function(r,n,a){function m(b,c,d,a,e){var g=0,h=0;null==a&&(a=Infinity);null==e&&(e=Infinity);var p=0;c.eachChild(function(f,t){var u=f.position,l=f.getBoundingRect(),k=c.childAt(t+1),k=k&&k.getBoundingRect(),v,w;"horizontal"===b?(k=l.width+(k?-k.x+l.x:0),v=g+k,v>a||f.newline?(g=0,v=k,h+=p+d,p=l.height):p=Math.max(p,l.height)):(k=l.height+(k?-k.y+l.y:0),w=h+k,w>e||f.newline?(g+=p+d,h=0,w=k,p=l.width):p=Math.max(p,l.width));f.newline||(u[0]=g,u[1]=h,"horizontal"===b?g=v+d:h=w+d)})}var q=a(4),k=a(9);n=a(7);var l=a(6),f=n.parsePercent,e=q.each,c={},d=c.LOCATION_PARAMS="left right top bottom width height".split(" "),b=c.HV_NAMES=[["width","left","right"],["height","top","bottom"]];c.box=m;c.vbox=q.curry(m,"vertical");c.hbox=q.curry(m,"horizontal");c.getAvailableSize=function(b,c,d){var a=c.width;c=c.height;var g=f(b.x,a),h=f(b.y,c),e=f(b.x2,a),p=f(b.y2,c);(isNaN(g)||isNaN(parseFloat(b.x)))&&(g=0);(isNaN(e)||isNaN(parseFloat(b.x2)))&&(e=a);(isNaN(h)||isNaN(parseFloat(b.y)))&&(h=0);(isNaN(p)||isNaN(parseFloat(b.y2)))&&(p=c);d=l.normalizeCssArray(d||0);return{width:Math.max(e-g-d[1]-d[3],0),height:Math.max(p-h-d[0]-d[2],0)}};c.getLayoutRect=function(b,c,d){d=l.normalizeCssArray(d||0);var a=c.width;c=c.height;var g=f(b.left,a),h=f(b.top,c),e=f(b.right,a),p=f(b.bottom,c),x=f(b.width,a),y=f(b.height,c),m=d[2]+d[0],q=d[1]+d[3],C=b.aspect;isNaN(x)&&(x=a-e-q-g);isNaN(y)&&(y=c-p-m-h);isNaN(x)&&isNaN(y)&&(C>a/c?x=.8*a:y=.8*c);null!=C&&(isNaN(x)&&(x=C*y),isNaN(y)&&(y=x/C));isNaN(g)&&(g=a-e-x-q);isNaN(h)&&(h=c-p-y-m);switch(b.left||b.right){case "center":g=a/2-x/2-d[3];break;case "right":g=a-x-q}switch(b.top||b.bottom){case "middle":case "center":h=c/2-y/2-d[0];break;case "bottom":h=c-y-m}g=g||0;h=h||0;isNaN(x)&&(x=a-g-(e||0));isNaN(y)&&(y=c-h-(p||0));b=new k(g+d[3],h+d[0],x,y);b.margin=d;return b};c.positionElement=function(b,d,a,e,f){var g=!f||!f.hv||f.hv[0],h=!f||!f.hv||f.hv[1];f=f&&f.boundingMode||"all";if(g||h){var p;if("raw"===f)p="group"===b.type?new k(0,0,+d.width||0,+d.height||0):b.getBoundingRect();else if(p=b.getBoundingRect(),b.needLocalTransform()){var t=b.getLocalTransform();p=p.clone();p.applyTransform(t)}d=c.getLayoutRect(q.defaults({width:p.width,height:p.height},d),a,e);a=b.position;g=g?d.x-p.x:0;d=h?d.y-p.y:0;b.attr("position","raw"===f?[g,d]:[a[0]+g,a[1]+d])}};c.sizeCalculable=function(c,d){return null!=c[b[d][0]]||null!=c[b[d][1]]&&null!=c[b[d][2]]};c.mergeLayoutParam=function(c,d,a){function g(b,a){var g={},p=0,t={},u=0;e(b,function(b){t[b]=c[b]});e(b,function(b){d.hasOwnProperty(b)&&(g[b]=t[b]=d[b]);h(g,b)&&p++;h(t,b)&&u++});if(f[a])return h(d,b[1])?t[b[2]]=null:h(d,b[2])&&(t[b[1]]=null),t;if(2!==u&&p){if(!(2<=p))for(var l=0;l<b.length;l++){var k=b[l];if(!g.hasOwnProperty(k)&&c.hasOwnProperty(k)){g[k]=c[k];break}}return g}return t}function h(b,c){return null!=b[c]&&"auto"!==b[c]}function p(b,c,d){e(b,function(b){c[b]=d[b]})}!q.isObject(a)&&(a={});var f=a.ignoreSize;!q.isArray(f)&&(f=[f,f]);a=g(b[0],0);var u=g(b[1],1);p(b[0],c,a);p(b[1],c,u)};c.getLayoutParams=function(b){return c.copyLayoutParams({},b)};c.copyLayoutParams=function(b,c){c&&b&&e(d,function(d){c.hasOwnProperty(d)&&(b[d]=c[d])});return b};r.exports=c},function(r,n){r.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(r,n){var a="";"undefined"!==typeof navigator&&(a=navigator.platform||"");r.exports={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),textStyle:{fontFamily:a.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3,useUTC:!1}},function(r,n,a){n=a(13);var m=n.set,q=n.get;r.exports={clearColorPalette:function(){m(this,"colorIdx",0);m(this,"colorNameMap",{})},getColorFromPalette:function(a,l){l=l||this;var f=q(l,"colorIdx")||0,e=q(l,"colorNameMap")||m(l,"colorNameMap",{});if(e.hasOwnProperty(a))return e[a];var c=this.get("color",!0)||[];if(c.length){var d=c[f];a&&(e[a]=d);m(l,"colorIdx",(f+1)%c.length);return d}}}},function(r,n,a){var m=a(4),q="getDom getZr getWidth getHeight getDevicePixelRatio dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption getViewOfComponentModel getViewOfSeriesModel".split(" ");r.exports=function(a){m.each(q,function(l){this[l]=m.bind(a[l],a)},this)}},function(r,n,a){function m(){this._coordinateSystems=[]}var q=a(4),k={};m.prototype={constructor:m,create:function(a,f){var e=[];q.each(k,function(c,d){var b=c.create(a,f);e=e.concat(b||[])});this._coordinateSystems=e},update:function(a,f){q.each(this._coordinateSystems,function(e){e.update&&e.update(a,f)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};m.register=function(a,f){k[a]=f};m.get=function(a){return k[a]};r.exports=m},function(r,n,a){function m(b){this._api=b;this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[]}function q(c,d,a){var g=[],h=[],p,f,t=c.timeline;c.baseOption&&(f=c.baseOption);if(t||c.options)f=f||{},g=(c.options||[]).slice();c.media&&(f=f||{},b(c.media,function(b){b&&b.option&&(b.query?h.push(b):p||(p=b))}));f||(f=c);f.timeline||(f.timeline=t);b([f].concat(g).concat(e.map(h,function(b){return b.option})),function(c){b(d,function(b){b(c,a)})});return{baseOption:f,timelineOptions:g,mediaDefault:p,mediaList:h}}function k(b,c,d){var a={width:c,height:d,aspectratio:c/d},g=!0;e.each(b,function(b,c){var d=c.match(t);if(d&&d[1]&&d[2]){var h=d[1],d=d[2].toLowerCase();d=a[d];("min"===h?d>=b:"max"===h?d<=b:d===b)||(g=!1)}});return g}function l(b,c){return b.join(",")===c.join(",")}function f(a,g){g=g||{};b(g,function(b,g){if(null!=b){var e=a[g];d.hasClass(g)?(b=c.normalizeToArray(b),e=c.normalizeToArray(e),e=c.mappingToExists(e,b),a[g]=p(e,function(b){return b.option&&b.exist?h(b.exist,b.option,!0):b.exist||b.option})):a[g]=h(e,b,!0)}})}var e=a(4),c=a(5),d=a(69),b=e.each,g=e.clone,p=e.map,h=e.merge,t=/^(min|max)?(.+)$/;m.prototype={constructor:m,setOption:function(b,c){b=g(b,!0);var d=this._optionBackup,a=q.call(this,b,c,!d);this._newBaseOption=a.baseOption;d?(f(d.baseOption,a.baseOption),a.timelineOptions.length&&(d.timelineOptions=a.timelineOptions),a.mediaList.length&&(d.mediaList=a.mediaList),a.mediaDefault&&(d.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(b){var c=this._optionBackup;this._timelineOptions=p(c.timelineOptions,g);this._mediaList=p(c.mediaList,g);this._mediaDefault=g(c.mediaDefault);this._currentMediaIndices=[];return g(b?c.baseOption:this._newBaseOption)},getTimelineOption:function(b){var c,d=this._timelineOptions;d.length&&(b=b.getComponent("timeline"))&&(c=g(d[b.getCurrentIndex()],!0));return c},getMediaOption:function(b){b=this._api.getWidth();var c=this._api.getHeight(),d=this._mediaList,a=this._mediaDefault,h=[],e=[];if(!d.length&&!a)return e;for(var f=0,t=d.length;f<t;f++)k(d[f].query,b,c)&&h.push(f);!h.length&&a&&(h=[-1]);h.length&&!l(h,this._currentMediaIndices)&&(e=p(h,function(b){return g(-1===b?a.option:d[b].option)}));this._currentMediaIndices=h;return e}};r.exports=m},function(r,n,a){var m=a(4),q=a(6);n=a(13);var k=a(5),l=a(69),f=a(74),e=a(2),c=a(71),d=n.set,b=n.get,g=q.encodeHTML,p=q.addCommas;a=l.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(b,c,a,g){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(b,a);b=this.getInitialData(b,a);m.assert(b,"getInitialData returned invalid data.");d(this,"dataBeforeProcessed",b);this.restoreData()},mergeDefaultAndTheme:function(b,d){var a=this.layoutMode,g=a?c.getLayoutParams(b):{};m.merge(b,d.getTheme().get(this.subType));m.merge(b,this.getDefaultOption());k.defaultEmphasis(b.label,k.LABEL_OPTIONS);this.fillDataTextStyle(b.data);a&&c.mergeLayoutParam(b,g,a)},mergeOption:function(b,a){b=m.merge(this.option,b,!0);this.fillDataTextStyle(b.data);var g=this.layoutMode;g&&c.mergeLayoutParam(this.option,b,g);if(g=this.getInitialData(b,a))d(this,"data",g),d(this,"dataBeforeProcessed",g.cloneShallow())},fillDataTextStyle:function(b){if(b)for(var c=0;c<b.length;c++)b[c]&&b[c].label&&k.defaultEmphasis(b[c].label,k.LABEL_OPTIONS)},getInitialData:function(){},getData:function(c){var d=b(this,"data");return null==c?d:d.getLinkedData(c)},setData:function(b){d(this,"data",b)},getRawData:function(){return b(this,"dataBeforeProcessed")},coordDimToDataDim:function(b){return k.coordDimToDataDim(this.getData(),b)},dataDimToCoordDim:function(b){return k.dataDimToCoordDim(this.getData(),b)},getBaseAxis:function(){var b=this.coordinateSystem;return b&&b.getBaseAxis&&b.getBaseAxis()},formatTooltip:function(c,d,a){function h(b){function a(b,c){var a=e.getDimensionInfo(c);if(a&&!1!==a.otherDims.tooltip){var t=a.type;(a=(h?"- "+(a.tooltipName||a.name)+": ":"")+("ordinal"===t?b+"":"time"===t?d?"":q.formatTime("yyyy/MM/dd hh:mm:ss",b):p(b)))&&f.push(g(a))}}var h=m.reduce(b,function(b,c,d){c=e.getDimensionInfo(d);return b|(c&&!1!==c.tooltip&&null!=c.tooltipName)},0),f=[],t=k.otherDimToDataDim(e,"tooltip");t.length?m.each(t,function(b){a(e.get(b,c),b)}):m.each(b,a);return(h?"\x3cbr/\x3e":"")+f.join(h?"\x3cbr/\x3e":", ")}var e=b(this,"data");a=this.getRawValue(c);a=m.isArray(a)?h(a):g(p(a));var f=e.getName(c),t=e.getItemVisual(c,"color");m.isObject(t)&&t.colorStops&&(t=(t.colorStops[0]||{}).color);var t=q.getTooltipMarker(t||"transparent"),l=this.name;"\x00-"===l&&(l="");l=l?g(l)+(d?": ":"\x3cbr/\x3e"):"";return d?t+l+a:l+t+(f?g(f)+": "+a:a)},isAnimationEnabled:function(){if(e.node)return!1;var b=this.getShallow("animation");b&&this.getData().count()>this.getShallow("animationThreshold")&&(b=!1);return b},restoreData:function(){d(this,"data",b(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(b,c){var d=this.ecModel,a=f.getColorFromPalette.call(this,b,c);a||(a=d.getColorFromPalette(b,c));return a},getAxisTooltipData:null,getTooltipPosition:null});m.mixin(a,k.dataFormatMixin);m.mixin(a,f);r.exports=a},function(r,n,a){var m=a(48),q=a(70);n=a(13);a=function(){this.group=new m;this.uid=q.getUID("viewComponent")};a.prototype={constructor:a,init:function(a,f){},render:function(a,f,e,c){},dispose:function(){}};var k=a.prototype;k.updateView=k.updateLayout=k.updateVisual=function(a,f,e,c){};n.enableClassExtend(a);n.enableClassManagement(a,{registerWhenExtend:!0});r.exports=a},function(r,n,a){function m(){this.group=new l;this.uid=f.getUID("viewChart")}function q(c,b){if(c&&(c.trigger(b),"group"===c.type))for(var d=0;d<c.childCount();d++)q(c.childAt(d),b)}function k(d,b,a){b=e.queryDataIndex(d,b);null!=b?c.each(e.normalizeToArray(b),function(b){q(d.getItemGraphicEl(b),a)}):d.eachItemGraphicEl(function(b){q(b,a)})}var l=a(48),f=a(70);n=a(13);var e=a(5),c=a(4);m.prototype={type:"chart",init:function(c,b){},render:function(c,b,a,e){},highlight:function(c,b,a,e){k(c.getData(),e,"emphasis")},downplay:function(c,b,a,e){k(c.getData(),e,"normal")},remove:function(c,b){this.group.removeAll()},dispose:function(){}};a=m.prototype;a.updateView=a.updateLayout=a.updateVisual=function(c,b,a,e){this.render(c,b,a,e)};n.enableClassExtend(m,["dispose"]);n.enableClassManagement(m,{registerWhenExtend:!0});r.exports=m},function(r,n){var a={throttle:function(a,q,k){function l(){c=(new Date).getTime();d=null;a.apply(g,p||[])}var f,e=0,c=0,d=null,b,g,p,h;q=q||0;var t=function(){f=(new Date).getTime();g=this;p=arguments;var a=h||q,t=h||k;h=null;b=f-(t?e:c)-a;clearTimeout(d);t?d=setTimeout(l,a):0<=b?l():d=setTimeout(l,-b);e=f};t.clear=function(){d&&(clearTimeout(d),d=null)};t.debounceNextCall=function(b){h=b};return t},createOrUpdate:function(m,q,k,l){var f=m[q];if(f){var e=f["\x00__throttleOriginMethod"]||f,c=f["\x00__throttleType"];if(f["\x00__throttleRate"]!==k||c!==l){if(null==k||!l)return m[q]=e;f=m[q]=a.throttle(e,k,"debounce"===l);f["\x00__throttleOriginMethod"]=e;f["\x00__throttleType"]=l;f["\x00__throttleRate"]=k}return f}},clear:function(a,q){var k=a[q];k&&k["\x00__throttleOriginMethod"]&&(a[q]=k["\x00__throttleOriginMethod"])}};r.exports=a},function(r,n,a){var m=a(24),q=a(2),k=a(4),l=a(83),f=a(85),e=a(87),c=a(90),d=!q.canvasSupported,b={canvas:a(92)},g={},p={version:"3.5.2",init:function(b,c){var d=new h(m(),b,c);return g[d.id]=d},dispose:function(b){if(b)b.dispose();else{for(var c in g)g.hasOwnProperty(c)&&g[c].dispose();g={}}return p},getInstance:function(b){return g[b]},registerPainter:function(c,d){b[c]=d}},h=function(a,g,h){h=h||{};this.dom=g;this.id=a;var p=this,t=new f;a=h.renderer;if(d){if(!b.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&b[a]||(a="canvas");g=new b[a](g,t,h);this.storage=t;this.painter=g;h=q.node?null:new c(g.getViewportRoot());this.handler=new l(t,g,h,g.root);this.animation=new e({stage:{update:k.bind(this.flush,this)}});this.animation.start();var w=t.delFromStorage,z=t.addToStorage;t.delFromStorage=function(b){w.call(t,b);b&&b.removeSelfFromZr(p)};t.addToStorage=function(b){z.call(t,b);b.addSelfToZr(p)}};h.prototype={constructor:h,getId:function(){return this.id},add:function(b){this.storage.addRoot(b);this._needsRefresh=!0},remove:function(b){this.storage.delRoot(b);this._needsRefresh=!0},configLayer:function(b,c){this.painter.configLayer(b,c);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately();this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(b,c){this.painter.addHover&&(this.painter.addHover(b,c),this.refreshHover())},removeHover:function(b){this.painter.removeHover&&(this.painter.removeHover(b),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(b){b=b||{};this.painter.resize(b.width,b.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(b,c){return this.painter.pathToImage(b,c)},setCursorStyle:function(b){this.handler.setCursorStyle(b)},findHover:function(b,c){return this.handler.findHover(b,c)},on:function(b,c,d){this.handler.on(b,c,d)},off:function(b,c){this.handler.off(b,c)},trigger:function(b,c){this.handler.trigger(b,c)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete g[this.id]}};r.exports=p},function(r,n,a){function m(){}var q=a(4),k=a(84),l=a(25);m.prototype.dispose=function(){};var f="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),e=function(c,d,b,a){l.call(this);this.storage=c;this.painter=d;this.painterRoot=a;this.proxy=b=b||new m;b.handler=this;this._hovered={};k.call(this);q.each(f,function(c){b.on&&b.on(c,this[c],this)},this)};e.prototype={constructor:e,mousemove:function(c){var d=this._hovered,b=this._hovered=this.findHover(c.zrX,c.zrY),a=b.target,e=d.target,h=this.proxy;h.setCursor&&h.setCursor(a?a.cursor:"default");e&&a!==e&&e.__zr&&this.dispatchToElement(d,"mouseout",c);this.dispatchToElement(b,"mousemove",c);a&&a!==e&&this.dispatchToElement(b,"mouseover",c)},mouseout:function(c){this.dispatchToElement(this._hovered,"mouseout",c);var d=c.toElement||c.relatedTarget,b;do d=d&&d.parentNode;while(d&&9!=d.nodeType&&!(b=d===this.painterRoot));!b&&this.trigger("globalout",{event:c})},resize:function(c){this._hovered={}},dispatch:function(c,d){var b=this[c];b&&b.call(this,d)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(c){var d=this.proxy;d.setCursor&&d.setCursor(c)},dispatchToElement:function(c,d,b){c=c||{};var a="on"+d,e={type:d,event:b,target:c.target,topTarget:c.topTarget,cancelBubble:!1,offsetX:b.zrX,offsetY:b.zrY,gestureEvent:b.gestureEvent,pinchX:b.pinchX,pinchY:b.pinchY,pinchScale:b.pinchScale,wheelDelta:b.zrDelta,zrByTouch:b.zrByTouch};for(c=c.target;c&&(c[a]&&(e.cancelBubble=c[a].call(c,e)),c.trigger(d,e),c=c.parent,!e.cancelBubble););e.cancelBubble||(this.trigger(d,e),this.painter&&this.painter.eachOtherLayer(function(b){"function"==typeof b[a]&&b[a].call(b,e);b.trigger&&b.trigger(d,e)}))},findHover:function(c,d,b){for(var a=this.storage.getDisplayList(),e={},h=a.length-1;0<=h;h--){var f,l;if(l=a[h]!==b&&!a[h].ignore){a:{var k=a[h];f=c;l=d;if(k[k.rectHover?"rectContain":"contain"](f,l)){for(var v=void 0;k;){if(k.clipPath&&!k.clipPath.contain(f,l)){f=!1;break a}k.silent&&(v=!0);k=k.parent}f=v?"silent":!0}else f=!1}l=f}if(l&&(!e.topTarget&&(e.topTarget=a[h]),"silent"!==f)){e.target=a[h];break}}return e}};q.each("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(c){e.prototype[c]=function(d){var b=this.findHover(d.zrX,d.zrY),a=b.target;if("mousedown"===c)this._upel=this._downel=a;else if("mosueup"===c)this._upel=a;else if("click"===c&&this._downel!==this._upel)return;this.dispatchToElement(b,c,d)}});q.mixin(e,l);q.mixin(e,k);r.exports=e},function(r,n){function a(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}function m(a,k){return{target:a,topTarget:k&&k.topTarget}}a.prototype={constructor:a,_dragStart:function(a){var k=a.target;k&&k.draggable&&(this._draggingTarget=k,k.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(m(k,a),"dragstart",a.event))},_drag:function(a){var k=this._draggingTarget;if(k){var l=a.offsetX,f=a.offsetY,e=l-this._x,c=f-this._y;this._x=l;this._y=f;k.drift(e,c,a);this.dispatchToElement(m(k,a),"drag",a.event);l=this.findHover(l,f,k).target;f=this._dropTarget;this._dropTarget=l;k!==l&&(f&&l!==f&&this.dispatchToElement(m(f,a),"dragleave",a.event),l&&l!==f&&this.dispatchToElement(m(l,a),"dragenter",a.event))}},_dragEnd:function(a){var k=this._draggingTarget;k&&(k.dragging=!1);this.dispatchToElement(m(k,a),"dragend",a.event);this._dropTarget&&this.dispatchToElement(m(this._dropTarget,a),"drop",a.event);this._dropTarget=this._draggingTarget=null}};r.exports=a},function(r,n,a){function m(a,c){return a.zlevel===c.zlevel?a.z===c.z?a.z2-c.z2:a.z-c.z:a.zlevel-c.zlevel}var q=a(4),k=a(2),l=a(48),f=a(86);n=function(){this._roots=[];this._displayList=[];this._displayListLen=0};n.prototype={constructor:n,traverse:function(a,c){for(var d=0;d<this._roots.length;d++)this._roots[d].traverse(a,c)},getDisplayList:function(a,c){a&&this.updateDisplayList(c||!1);return this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var c=this._roots,d=this._displayList,b=0,g=c.length;b<g;b++)this._updateAndAddDisplayable(c[b],null,a);d.length=this._displayListLen;k.canvasSupported&&f(d,m)},_updateAndAddDisplayable:function(a,c,d){if(!a.ignore||d){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var b=a.clipPath;if(b){c=c?c.slice():[];for(var g=a;b;)b.parent=g,b.updateTransform(),c.push(b),g=b,b=b.clipPath}if(a.isGroup){b=a._children;for(g=0;g<b.length;g++){var e=b[g];a.__dirty&&(e.__dirty=!0);this._updateAndAddDisplayable(e,c,d)}a.__dirty=!1}else a.__clipPaths=c,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof l&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(var c=0;c<this._roots.length;c++)a=this._roots[c],a instanceof l&&a.delChildrenFromStorage(this);this._roots=[];this._displayList=[];this._displayListLen=0}else if(a instanceof Array)for(var c=0,d=a.length;c<d;c++)this.delRoot(a[c]);else c=q.indexOf(this._roots,a),0<=c&&(this.delFromStorage(a),this._roots.splice(c,1),a instanceof l&&a.delChildrenFromStorage(this))},addToStorage:function(a){a.__storage=this;a.dirty(!1);return this},delFromStorage:function(a){a&&(a.__storage=null);return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:m};r.exports=n},function(r,n){function a(a,e,c,d){var b=e+1;if(b===c)return 1;if(0>d(a[b++],a[e])){for(;b<c&&0>d(a[b],a[b-1]);)b++;c=e;d=b;for(d--;c<d;){var g=a[c];a[c++]=a[d];a[d--]=g}}else for(;b<c&&0<=d(a[b],a[b-1]);)b++;return b-e}function m(a,e,c,d,b){for(d===e&&d++;d<c;d++){for(var g=a[d],p=e,h=d,f;p<h;)f=p+h>>>1,0>b(g,a[f])?h=f:p=f+1;h=d-p;switch(h){case 3:a[p+3]=a[p+2];case 2:a[p+2]=a[p+1];case 1:a[p+1]=a[p];break;default:for(;0<h;)a[p+h]=a[p+h-1],h--}a[p]=g}}function q(a,e,c,d,b,g){var p=0,h=1;if(0<g(a,e[c+b])){for(d-=b;h<d&&0<g(a,e[c+b+h]);)p=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);p+=b;h+=b}else{for(d=b+1;h<d&&0>=g(a,e[c+b-h]);)p=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);d=p;p=b-h;h=b-d}for(p++;p<h;)b=p+(h-p>>>1),0<g(a,e[c+b])?p=b+1:h=b;return h}function k(a,e,c,d,b,g){var p=0,h=1;if(0>g(a,e[c+b])){for(d=b+1;h<d&&0>g(a,e[c+b-h]);)p=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);d=p;p=b-h;h=b-d}else{for(d-=b;h<d&&0<=g(a,e[c+b+h]);)p=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);p+=b;h+=b}for(p++;p<h;)b=p+(h-p>>>1),0>g(a,e[c+b])?h=b:p=b+1;return h}function l(a,e){function c(c){var f=b[c],t=g[c],l=b[c+1],u=g[c+1];g[c]=t+u;c===p-3&&(b[c+1]=b[c+2],g[c+1]=g[c+2]);p--;c=k(a[l],a,f,t,0,e);f+=c;t-=c;if(0!==t&&(u=q(a[f+t-1],a,l,u,u-1,e),0!==u))if(t<=u){for(var x=f,f=t,t=u,u=0;u<f;u++)h[u]=a[x+u];c=0;a[x++]=a[l++];if(0===--t)for(u=0;u<f;u++)a[x+u]=h[c+u];else if(1===f){for(u=0;u<t;u++)a[x+u]=a[l+u];a[x+t]=h[c]}else{for(var y=d,m,A,C;;){A=m=0;C=!1;do if(0>e(a[l],h[c])){if(a[x++]=a[l++],A++,m=0,0===--t){C=!0;break}}else if(a[x++]=h[c++],m++,A=0,1===--f){C=!0;break}while((m|A)<y);if(C)break;do{m=k(a[l],h,c,f,0,e);if(0!==m){for(u=0;u<m;u++)a[x+u]=h[c+u];x+=m;c+=m;f-=m;if(1>=f){C=!0;break}}a[x++]=a[l++];if(0===--t){C=!0;break}A=q(h[c],a,l,t,0,e);if(0!==A){for(u=0;u<A;u++)a[x+u]=a[l+u];x+=A;l+=A;t-=A;if(0===t){C=!0;break}}a[x++]=h[c++];if(1===--f){C=!0;break}y--}while(7<=m||7<=A);if(C)break;0>y&&(y=0);y+=2}d=y;1>d&&(d=1);if(1===f){for(u=0;u<t;u++)a[x+u]=a[l+u];a[x+t]=h[c]}else{if(0===f)throw Error();for(u=0;u<f;u++)a[x+u]=h[c+u]}}}else{for(c=0;c<u;c++)h[c]=a[l+c];x=f+t-1;y=u-1;l=l+u-1;a[l--]=a[x--];if(0===--t)for(m=l-(u-1),c=0;c<u;c++)a[m+c]=h[c];else if(1===u){l-=t;A=l+1;m=x-t+1;for(c=t-1;0<=c;c--)a[A+c]=a[m+c];a[l]=h[y]}else{for(C=d;;){var n=0,r=0,E=!1;do if(0>e(h[y],a[x])){if(a[l--]=a[x--],n++,r=0,0===--t){E=!0;break}}else if(a[l--]=h[y--],r++,n=0,1===--u){E=!0;break}while((n|r)<C);if(E)break;do{n=t-k(h[y],a,f,t,t-1,e);if(0!==n){l-=n;x-=n;t-=n;A=l+1;m=x+1;for(c=n-1;0<=c;c--)a[A+c]=a[m+c];if(0===t){E=!0;break}}a[l--]=h[y--];if(1===--u){E=!0;break}r=u-q(a[x],h,0,u,u-1,e);if(0!==r){l-=r;y-=r;u-=r;A=l+1;m=y+1;for(c=0;c<r;c++)a[A+c]=h[m+c];if(1>=u){E=!0;break}}a[l--]=a[x--];if(0===--t){E=!0;break}C--}while(7<=n||7<=r);if(E)break;0>C&&(C=0);C+=2}d=C;1>d&&(d=1);if(1===u){l-=t;A=l+1;m=x-t+1;for(c=t-1;0<=c;c--)a[A+c]=a[m+c];a[l]=h[y]}else{if(0===u)throw Error();m=l-(u-1);for(c=0;c<u;c++)a[m+c]=h[c]}}}}var d=7,b,g,p=0,h=[];b=[];g=[];this.mergeRuns=function(){for(;1<p;){var b=p-2;if(1<=b&&g[b-1]<=g[b]+g[b+1]||2<=b&&g[b-2]<=g[b]+g[b-1])g[b-1]<g[b+1]&&b--;else if(g[b]>g[b+1])break;c(b)}};this.forceMergeRuns=function(){for(;1<p;){var b=p-2;0<b&&g[b-1]<g[b+1]&&b--;c(b)}};this.pushRun=function(c,a){b[p]=c;g[p]=a;p+=1}}r.exports=function(f,e,c,d){c||(c=0);d||(d=f.length);var b=d-c;if(!(2>b)){var g;if(32>b)g=a(f,c,d,e),m(f,c,d,c+g,e);else{var p=new l(f,e),h;g=b;for(h=0;32<=g;)h|=g&1,g>>=1;h=g+h;do{g=a(f,c,d,e);if(g<h){var t=b;t>h&&(t=h);m(f,c,c+t,c+g,e);g=t}p.pushRun(c,g);p.mergeRuns();b-=g;c+=g}while(0!==b);p.forceMergeRuns()}}}},function(r,n,a){var m=a(4),q=a(88).Dispatcher,k=a(89),l=a(28);n=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;q.call(this)};n.prototype={constructor:n,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var e=0;e<a.length;e++)this.addClip(a[e])},removeClip:function(a){a=m.indexOf(this._clips,a);0<=a&&this._clips.splice(a,1)},removeAnimator:function(a){for(var e=a.getClips(),c=0;c<e.length;c++)this.removeClip(e[c]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,e=a-this._time,c=this._clips,d=c.length,b=[],g=[],p=0;p<d;p++){var h=c[p],t=h.step(a,e);t&&(b.push(t),g.push(h))}for(p=0;p<d;)c[p]._needsRemove?(c[p]=c[d-1],c.pop(),d--):p++;d=b.length;for(p=0;p<d;p++)g[p].fire(b[p]);this._time=a;this.onframe(e);this.trigger("frame",e);this.stage.update&&this.stage.update()},_startLoop:function(){function a(){e._running&&(k(a),!e._paused&&e._update())}var e=this;this._running=!0;k(a)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(a,e){e=e||{};var c=new l(a,e.loop,e.getter,e.setter);this.addAnimator(c);return c}};m.mixin(n,q);r.exports=n},function(r,n,a){function m(a,e,c,d){c=c||{};d||!k.canvasSupported?q(a,e,c):k.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(c.zrX=e.layerX,c.zrY=e.layerY):null!=e.offsetX?(c.zrX=e.offsetX,c.zrY=e.offsetY):q(a,e,c);return c}function q(a,e,c){a=a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0};c.zrX=e.clientX-a.left;c.zrY=e.clientY-a.top}n=a(25);var k=a(2),l="undefined"!==typeof window&&!!window.addEventListener;r.exports={clientToLocal:m,normalizeEvent:function(a,e,c){e=e||window.event;if(null!=e.zrX)return e;var d=e.type;d&&0<=d.indexOf("touch")?(d="touchend"!=d?e.targetTouches[0]:e.changedTouches[0])&&m(a,d,e,c):(m(a,e,e,c),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3);return e},addEventListener:function(a,e,c){l?a.addEventListener(e,c):a.attachEvent("on"+e,c)},removeEventListener:function(a,e,c){l?a.removeEventListener(e,c):a.detachEvent("on"+e,c)},stop:l?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},Dispatcher:n}},function(r,n){r.exports="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)}},function(r,n,a){function m(c){return"mousewheel"===c&&b.browser.firefox?"DOMMouseScroll":c}function q(b,c,a){var d=b._gestureMgr;"start"===a&&d.clear();var g=d.recognize(c,b.handler.findHover(c.zrX,c.zrY,null).target,b.dom);"end"===a&&d.clear();g&&(a=g.type,c.gestureEvent=a,b.handler.dispatchToElement({target:g.target},a,g.event))}function k(b){b._touching=!0;clearTimeout(b._touchTimer);b._touchTimer=setTimeout(function(){b._touching=!1},700)}function l(b){b=b.pointerType;return"pen"===b||"touch"===b}function f(b){function a(b,c){return function(){if(!c._touching)return b.apply(c,arguments)}}c.each(z,function(a){b._handlers[a]=c.bind(x[a],b)});c.each(u,function(a){b._handlers[a]=c.bind(x[a],b)});c.each(w,function(c){b._handlers[c]=a(x[c],b)})}function e(a){function h(b,d){c.each(b,function(b){p(a,m(b),d._handlers[b])},d)}d.call(this);this.dom=a;this._touching=!1;this._gestureMgr=new g;this._handlers={};f(this);b.pointerEventsSupported?h(u,this):(b.touchEventsSupported&&h(z,this),h(w,this))}n=a(88);var c=a(4),d=a(25),b=a(2),g=a(91),p=n.addEventListener,h=n.removeEventListener,t=n.normalizeEvent,w="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),z=["touchstart","touchend","touchmove"],v={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},u=c.map(w,function(b){var c=b.replace("mouse","pointer");return v[c]?c:b}),x={mousemove:function(b){b=t(this.dom,b);this.trigger("mousemove",b)},mouseout:function(b){b=t(this.dom,b);var c=b.toElement||b.relatedTarget;if(c!=this.dom)for(;c&&9!=c.nodeType;){if(c===this.dom)return;c=c.parentNode}this.trigger("mouseout",b)},touchstart:function(b){b=t(this.dom,b);b.zrByTouch=!0;this._lastTouchMoment=new Date;q(this,b,"start");x.mousemove.call(this,b);x.mousedown.call(this,b);k(this)},touchmove:function(b){b=t(this.dom,b);b.zrByTouch=!0;q(this,b,"change");x.mousemove.call(this,b);k(this)},touchend:function(b){b=t(this.dom,b);b.zrByTouch=!0;q(this,b,"end");x.mouseup.call(this,b);300>+new Date-this._lastTouchMoment&&x.click.call(this,b);k(this)},pointerdown:function(b){x.mousedown.call(this,b)},pointermove:function(b){l(b)||x.mousemove.call(this,b)},pointerup:function(b){x.mouseup.call(this,b)},pointerout:function(b){l(b)||x.mouseout.call(this,b)}};c.each("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(b){x[b]=function(c){c=t(this.dom,c);this.trigger(b,c)}});a=e.prototype;a.dispose=function(){for(var b=w.concat(z),c=0;c<b.length;c++){var a=b[c];h(this.dom,m(a),this._handlers[a])}};a.setCursor=function(b){this.dom.style.cursor=b||"default"};c.mixin(e,d);r.exports=e},function(r,n,a){function m(a){var f=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(f*f+a*a)}var q=a(88);n=function(){this._track=[]};n.prototype={constructor:n,recognize:function(a,f,e){this._doTrack(a,f,e);return this._recognize(a)},clear:function(){this._track.length=0;return this},_doTrack:function(a,f,e){var c=a.touches;if(c){a={points:[],touches:[],target:f,event:a};f=0;for(var d=c.length;f<d;f++){var b=c[f],g=q.clientToLocal(e,b,{});a.points.push([g.zrX,g.zrY]);a.touches.push(b)}this._track.push(a)}},_recognize:function(a){for(var f in k)if(k.hasOwnProperty(f)){var e=k[f](this._track,a);if(e)return e}}};var k={pinch:function(a,f){var e=a.length;if(e){var c=(a[e-1]||{}).points;if((e=(a[e-2]||{}).points||c)&&1<e.length&&c&&1<c.length)return e=m(c)/m(e),!isFinite(e)&&(e=1),f.pinchScale=e,c=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2],f.pinchX=c[0],f.pinchY=c[1],{type:"pinch",target:a[0].target,event:f}}}};r.exports=n},function(r,n,a){function m(b){b.__unusedCount++}function q(b){1==b.__unusedCount&&b.clear()}var k=a(34),l=a(4),f=a(33);n=a(9);var e=a(86),c=a(93),d=a(89),b=new n(0,0,0,0),g=new n(0,0,0,0);n=function(b,a,d){var g=!b.nodeName||"CANVAS"===b.nodeName.toUpperCase();this._opts=d=l.extend({},d||{});this.dpr=d.devicePixelRatio||k.devicePixelRatio;this._singleCanvas=g;this.root=b;var h=b.style;h&&(h["-webkit-tap-highlight-color"]="transparent",h["-webkit-user-select"]=h["user-select"]=h["-webkit-touch-callout"]="none",b.innerHTML="");this.storage=a;a=this._zlevelList=[];h=this._layers={};this._layerConfig={};g?(null!=d.width&&(b.width=d.width),null!=d.height&&(b.height=d.height),d=b.height,this._width=b.width,this._height=d,d=new c(b,this,1),d.initContext(),h[0]=d,a.push(0),this._domRoot=b):(this._width=this._getSize(0),this._height=this._getSize(1),d=this._width,g=this._height,a=document.createElement("div"),a.style.cssText=["position:relative;overflow:hidden","width:"+d+"px","height:"+g+"px","padding:0;margin:0;border-width:0"].join(";")+";",d=this._domRoot=a,b.appendChild(d));this._progressiveLayers=[];this._hoverElements=[]};n.prototype={constructor:n,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},refresh:function(b){var c=this.storage.getDisplayList(!0),a=this._zlevelList;this._paintList(c,b);for(b=0;b<a.length;b++)c=this._layers[a[b]],!c.__builtin__&&c.refresh&&c.refresh();this.refreshHover();this._progressiveLayers.length&&this._startProgessive();return this},addHover:function(b,c){if(!b.__hoverMir){var a=new b.constructor({style:b.style,shape:b.shape});a.__from=b;b.__hoverMir=a;a.setStyle(c);this._hoverElements.push(a)}},removeHover:function(b){var c=this._hoverElements,a=l.indexOf(c,b.__hoverMir);0<=a&&c.splice(a,1);b.__hoverMir=null},clearHover:function(b){b=this._hoverElements;for(var c=0;c<b.length;c++){var a=b[c].__from;a&&(a.__hoverMir=null)}b.length=0},refreshHover:function(){var b=this._hoverElements,c=b.length,a=this._hoverlayer;a&&a.clear();if(c){e(b,this.storage.displayableSortFunc);a||(a=this._hoverlayer=this.getLayer(1E5));var d={};a.ctx.save();for(var g=0;g<c;){var f=b[g],u=f.__from;u&&u.__zr?(g++,u.invisible||(f.transform=u.transform,f.invTransform=u.invTransform,f.__clipPaths=u.__clipPaths,this._doPaintEl(f,a,!0,d))):(b.splice(g,1),u.__hoverMir=null,c--)}a.ctx.restore()}},_startProgessive:function(){function b(){a===c._progressiveToken&&c.storage&&(c._doPaintList(c.storage.getDisplayList()),c._furtherProgressive?(c._progress++,d(b)):c._progressiveToken=-1)}var c=this;if(c._furtherProgressive){var a=c._progressiveToken=+new Date;c._progress++;d(b)}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;l.each(this._progressiveLayers,function(b){b.__dirty&&b.clear()})},_paintList:function(b,c){null==c&&(c=!1);this._updateLayerStatus(b);this._clearProgressive();this.eachBuiltinLayer(m);this._doPaintList(b,c);this.eachBuiltinLayer(q)},_doPaintList:function(b,c){function a(b){var c=h.dpr||1;h.save();h.globalAlpha=1;h.shadowBlur=0;d.__dirty=!0;h.setTransform(1,0,0,1,0,0);h.drawImage(b.dom,0,0,m*c,q*c);h.restore()}for(var d,g,h,e,p=0,k,m=this._width,q=this._height,C,n=this._progress,r=0,E=b.length;r<E;r++){var M=b[r];C=this._singleCanvas?0:M.zlevel;var N=M.__frame;0>N&&k&&(a(k),k=null);g!==C&&(h&&h.restore(),e={},g=C,d=this.getLayer(g),d.__builtin__||f("ZLevel "+g+" has been used by unkown layer "+d.id),h=d.ctx,h.save(),d.__unusedCount=0,(d.__dirty||c)&&d.clear());if(d.__dirty||c){if(0<=N){if(!k){k=this._progressiveLayers[Math.min(p++,4)];k.ctx.save();k.renderScope={};if(k&&k.__progress>k.__maxProgress){r=k.__nextIdxNotProg-1;continue}C=k.__progress;k.__dirty||(n=C);k.__progress=n+1}N===n&&this._doPaintEl(M,k,!0,k.renderScope)}else this._doPaintEl(M,d,c,e);M.__dirty=!1}}k&&a(k);h&&h.restore();this._furtherProgressive=!1;l.each(this._progressiveLayers,function(b){b.__maxProgress>=b.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(c,a,d,e){var h=a.ctx,p=c.transform;if(d=(a.__dirty||d)&&!c.invisible&&0!==c.style.opacity&&!(p&&!p[0]&&!p[3])){if(d=c.culling)d=this._width,p=this._height,b.copy(c.getBoundingRect()),c.transform&&b.applyTransform(c.transform),g.width=d,g.height=p,d=!b.intersect(g);d=!d}if(d){d=c.__clipPaths;if(!(p=e.prevClipLayer!==a))a:if(p=e.prevElClipPaths,d==p)p=!1;else if(d&&p&&d.length===p.length){for(var f=0;f<d.length;f++)if(d[f]!==p[f]){p=!0;break a}p=void 0}else p=!0;if(p&&(e.prevElClipPaths&&(e.prevClipLayer.ctx.restore(),e.prevClipLayer=e.prevElClipPaths=null,e.prevEl=null),d)){h.save();for(p=0;p<d.length;p++)f=d[p],f.setTransform(h),h.beginPath(),f.buildPath(h,f.shape),h.clip(),f.restoreTransform(h);e.prevClipLayer=a;e.prevElClipPaths=d}c.beforeBrush&&c.beforeBrush(h);c.brush(h,e.prevEl||null);e.prevEl=c;c.afterBrush&&c.afterBrush(h)}},getLayer:function(b){if(this._singleCanvas)return this._layers[0];var a=this._layers[b];a||(a=new c("zr_"+b,this,this.dpr),a.__builtin__=!0,this._layerConfig[b]&&l.merge(a,this._layerConfig[b],!0),this.insertLayer(b,a),a.initContext());return a},insertLayer:function(b,c){var a=this._layers,d=this._zlevelList,g=d.length,h=null,e=-1,p=this._domRoot;if(a[b])f("ZLevel "+b+" has been used already");else if(c&&(c.__builtin__||"function"===typeof c.resize&&"function"===typeof c.refresh)){if(0<g&&b>d[0]){for(e=0;e<g-1&&!(d[e]<b&&d[e+1]>b);e++);h=a[d[e]]}d.splice(e+1,0,b);a[b]=c;c.virtual||(h?(a=h.dom,a.nextSibling?p.insertBefore(c.dom,a.nextSibling):p.appendChild(c.dom)):p.firstChild?p.insertBefore(c.dom,p.firstChild):p.appendChild(c.dom))}else f("Layer of zlevel "+b+" is not valid")},eachLayer:function(b,c){var a=this._zlevelList,d,g;for(g=0;g<a.length;g++)d=a[g],b.call(c,this._layers[d],d)},eachBuiltinLayer:function(b,c){var a=this._zlevelList,d,g,h;for(h=0;h<a.length;h++)g=a[h],d=this._layers[g],d.__builtin__&&b.call(c,d,g)},eachOtherLayer:function(b,c){var a=this._zlevelList,d,g,h;for(h=0;h<a.length;h++)g=a[h],d=this._layers[g],d.__builtin__||b.call(c,d,g)},getLayers:function(){return this._layers},_updateLayerStatus:function(b){var a=this._layers,d=this._progressiveLayers,g={},e={};this.eachBuiltinLayer(function(b,c){g[c]=b.elCount;b.elCount=0;b.__dirty=!1});l.each(d,function(b,c){e[c]=b.elCount;b.elCount=0;b.__dirty=!1});for(var p=0,f,k,m=0,q=0,A=b.length;q<A;q++){var C=b[q],n=a[this._singleCanvas?0:C.zlevel],r=C.progressive;n&&(n.elCount++,n.__dirty=n.__dirty||C.__dirty);if(0<=r){k!==r&&(k=r,m++);r=C.__frame=m-1;if(!f){var E=Math.min(p,4);f=d[E];f||(f=d[E]=new c("progressive",this,this.dpr),f.initContext());f.__maxProgress=0}f.__dirty=f.__dirty||C.__dirty;f.elCount++;f.__maxProgress=Math.max(f.__maxProgress,r);f.__maxProgress>=f.__progress&&(n.__dirty=!0)}else C.__frame=-1,f&&(f.__nextIdxNotProg=q,p++,f=null)}f&&(p++,f.__nextIdxNotProg=q);this.eachBuiltinLayer(function(b,c){g[c]!==b.elCount&&(b.__dirty=!0)});d.length=Math.min(p,5);l.each(d,function(b,c){e[c]!==b.elCount&&(C.__dirty=!0);b.__dirty&&(b.__progress=0)})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(b){b.clear()},configLayer:function(b,c){if(c){var a=this._layerConfig;a[b]?l.merge(a[b],c,!0):a[b]=c;var d=this._layers[b];d&&l.merge(d,a[b],!0)}},delLayer:function(b){var c=this._layers,a=this._zlevelList,d=c[b];d&&(d.dom.parentNode.removeChild(d.dom),delete c[b],a.splice(l.indexOf(a,b),1))},resize:function(b,c){var a=this._domRoot;a.style.display="none";var d=this._opts;null!=b&&(d.width=b);null!=c&&(d.height=c);b=this._getSize(0);c=this._getSize(1);a.style.display="";if(this._width!=b||c!=this._height){a.style.width=b+"px";a.style.height=c+"px";for(var g in this._layers)this._layers.hasOwnProperty(g)&&this._layers[g].resize(b,c);l.each(this._progressiveLayers,function(a){a.resize(b,c)});this.refresh(!0)}this._width=b;this._height=c;return this},clearLayer:function(b){(b=this._layers[b])&&b.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(b){function a(b,c){var a=p._zlevelList;null==b&&(b=-Infinity);for(var g,h=0;h<a.length;h++){var e=a[h],f=p._layers[e];if(!f.__builtin__&&e>b&&e<c){g=f;break}}g&&g.renderToCanvas&&(d.ctx.save(),g.renderToCanvas(d.ctx),d.ctx.restore())}b=b||{};if(this._singleCanvas)return this._layers[0].dom;var d=new c("image",this,b.pixelRatio||this.dpr);d.initContext();d.clearColor=b.backgroundColor;d.clear();b=this.storage.getDisplayList(!0);for(var g={},e,p=this,f=0;f<b.length;f++){var l=b[f];l.zlevel!==e&&(a(e,l.zlevel),e=l.zlevel);this._doPaintEl(l,d,!0,g)}a(e,Infinity);return d.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(b){var c=this._opts,a=["width","height"][b],d=["clientWidth","clientHeight"][b],g=["paddingLeft","paddingTop"][b];b=["paddingRight","paddingBottom"][b];if(null!=c[a]&&"auto"!==c[a])return parseFloat(c[a]);var c=this.root,e=document.defaultView.getComputedStyle(c);return(c[d]||parseInt(e[a],10)||parseInt(c.style[a],10))-(parseInt(e[g],10)||0)-(parseInt(e[b],10)||0)|0},pathToImage:function(b,c){c=c||this.dpr;var d=document.createElement("canvas"),g=d.getContext("2d"),h=b.getBoundingRect(),e=b.style,p=e.shadowBlur,f=e.shadowOffsetX,l=e.shadowOffsetY,k=e.hasStroke()?e.lineWidth:0,e=Math.max(k/2,-f+p),m=Math.max(k/2,-l+p),f=h.width+e+Math.max(k/2,f+p),p=h.height+m+Math.max(k/2,l+p);d.width=f*c;d.height=p*c;g.scale(c,c);g.clearRect(0,0,f,p);g.dpr=c;p=b.position;l=b.rotation;f=b.scale;b.position=[e-h.x,m-h.y];b.rotation=0;b.scale=[1,1];b.updateTransform();b&&b.brush(g);d=new (a(49))({style:{x:0,y:0,image:d}});null!=p&&(d.position=b.position=p);null!=l&&(d.rotation=b.rotation=l);null!=f&&(d.scale=b.scale=f);return d}};r.exports=n},function(r,n,a){function m(){return!1}function q(c,a,b,g){a=document.createElement(a);var d=b.getWidth();b=b.getHeight();var h=a.style;h.position="absolute";h.left=0;h.top=0;h.width=d+"px";h.height=b+"px";a.width=d*g;a.height=b*g;a.setAttribute("data-zr-dom-id",c);return a}var k=a(4),l=a(34),f=a(22),e=a(46);n=function(c,a,b){var d;b=b||l.devicePixelRatio;"string"===typeof c?d=q(c,"canvas",a,b):k.isObject(c)&&(d=c,c=d.id);this.id=c;this.dom=d;if(c=d.style)d.onselectstart=m,c["-webkit-user-select"]="none",c["user-select"]="none",c["-webkit-touch-callout"]="none",c["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",c.padding=0,c.margin=0,c["border-width"]=0;this.ctxBack=this.domBack=null;this.painter=a;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=b};n.prototype={constructor:n,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var c=this.dpr;this.domBack=q("back-"+this.id,"canvas",this.painter,c);this.ctxBack=this.domBack.getContext("2d");1!=c&&this.ctxBack.scale(c,c)},resize:function(c,a){var b=this.dpr,d=this.dom,e=d.style,h=this.domBack;e.width=c+"px";e.height=a+"px";d.width=c*b;d.height=a*b;h&&(h.width=c*b,h.height=a*b,1!=b&&this.ctxBack.scale(b,b))},clear:function(c){var a=this.dom,b=this.ctx,g=a.width,p=a.height,h=this.clearColor,t=this.motionBlur&&!c;c=this.lastFrameAlpha;var l=this.dpr;t&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,g/l,p/l));b.clearRect(0,0,g,p);if(h){var k;h.colorStops?(k=h.__canvasGradient||f.getGradient(b,h,{x:0,y:0,width:g,height:p}),h.__canvasGradient=k):h.image&&(k=e.prototype.getCanvasPattern.call(h,b));b.save();b.fillStyle=k||h;b.fillRect(0,0,g,p);b.restore()}t&&(a=this.domBack,b.save(),b.globalAlpha=c,b.drawImage(a,0,0,g,p),b.restore())}};r.exports=n},function(r,n,a){var m=a(66);r.exports=function(a){a.eachRawSeries(function(k){var l=(k.visualColorAccessPath||"itemStyle.normal.color").split("."),f=k.getData(),e=k.get(l)||k.getColorFromPalette(k.get("name"));f.setVisual("color",e);a.isSeriesFiltered(k)||("function"!==typeof e||e instanceof m||f.each(function(c){f.setItemVisual(c,"color",e(k.getDataParams(c)))}),f.each(function(c){var a=f.getItemModel(c).get(l,!0);null!=a&&f.setItemVisual(c,"color",a)}))})}},function(r,n,a){function m(a){c(l,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}var q=a(4),k=a(96),l=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),e="bar boxplot candlestick chord effectScatter funnel gauge lines graph heatmap line map parallel pie radar sankey scatter treemap".split(" "),c=q.each;r.exports=function(a){c(a.series,function(b){if(q.isObject(b)){var c=b.type;k(b);"pie"!==c&&"gauge"!==c||null==b.clockWise||(b.clockwise=b.clockWise);if("gauge"===c){for(var c=["pointer.color"],a=b,d=0;d<c.length&&(a=a&&a[c[d]],null!=a);d++);c=a;if(null!=c){for(var a=["itemStyle.normal.color"],d=b,f,l=0;l<a.length-1;l++)f=a[l],null==d[f]&&(d[f]={}),d=d[f];null==d[a[l]]&&(d[a[l]]=c)}}for(c=0;c<e.length;c++)if(e[c]===b.type){m(b);break}}});a.dataRange&&(a.visualMap=a.dataRange);c(f,function(b){if(b=a[b])q.isArray(b)||(b=[b]),c(b,function(b){m(b)})})}},function(r,n,a){function m(a){var f=a&&a.itemStyle;f&&q.each(k,function(e){var c=f.normal,d=f.emphasis;c&&c[e]&&(a[e]=a[e]||{},a[e].normal?q.merge(a[e].normal,c[e]):a[e].normal=c[e],c[e]=null);d&&d[e]&&(a[e]=a[e]||{},a[e].emphasis?q.merge(a[e].emphasis,d[e]):a[e].emphasis=d[e],d[e]=null)})}var q=a(4),k="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" ");r.exports=function(a){if(a){m(a);m(a.markPoint);m(a.markLine);var f=a.data;if(f){for(var e=0;e<f.length;e++)m(f[e]);if((e=a.markPoint)&&e.data)for(f=e.data,e=0;e<f.length;e++)m(f[e]);if((a=a.markLine)&&a.data)for(a=a.data,e=0;e<a.length;e++)q.isArray(a[e])?(m(a[e][0]),m(a[e][1])):m(a[e])}}}},function(r,n,a){var m=a(18),q=a(4),k=Math.PI;r.exports=function(a,f){f=f||{};q.defaults(f,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var e=new m.Rect({style:{fill:f.maskColor},zlevel:f.zlevel,z:1E4}),c=new m.Arc({shape:{startAngle:-k/2,endAngle:-k/2+.1,r:10},style:{stroke:f.color,lineCap:"round",lineWidth:5},zlevel:f.zlevel,z:10001}),d=new m.Rect({style:{fill:"none",text:f.text,textPosition:"right",textDistance:10,textFill:f.textColor},zlevel:f.zlevel,z:10001});c.animateShape(!0).when(1E3,{endAngle:3*k/2}).start("circularInOut");c.animateShape(!0).when(1E3,{startAngle:3*k/2}).delay(300).start("circularInOut");var b=new m.Group;b.add(c);b.add(d);b.add(e);b.resize=function(){var b=a.getWidth()/2,p=a.getHeight()/2;c.setShape({cx:b,cy:p});var h=c.shape.r;d.setShape({x:b-h,y:p-h,width:2*h,height:2*h});e.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})};b.resize();return b}},function(r,n,a){(function(m){function q(c,a){b.each(h.concat(a.__wrappedMethods||[]),function(b){a.hasOwnProperty(b)&&(c[b]=a[b])});c.__wrappedMethods=a.__wrappedMethods}function k(b){this._array=b||[]}function l(c){b.isArray(c)||(c=[c]);return c}function f(c,a){var d=c.dimensions,g=new t(b.map(d,c.getDimensionInfo,c),c.hostModel);q(g,c);for(var h=g._storage={},e=c._storage,p=0;p<d.length;p++){var f=d[p],k=e[f];0<=b.indexOf(a,f)?h[f]=new k.constructor(e[f].length):h[f]=e[f]}return g}m="undefined"===typeof window?m:window;var e={"float":"undefined"===typeof m.Float64Array?Array:m.Float64Array,"int":"undefined"===typeof m.Int32Array?Array:m.Int32Array,ordinal:Array,number:Array,time:Array},c=a(12),d=a(99),b=a(4),g=a(5),p=b.isObject,h=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];k.prototype.pure=!1;k.prototype.count=function(){return this._array.length};k.prototype.getItem=function(b){return this._array[b]};var t=function(b,c){b=b||["x","y"];for(var a={},d=[],g=0;g<b.length;g++){var h,e;"string"===typeof b[g]?(h=b[g],e={name:h,coordDim:h,coordDimIndex:0,stackable:!1,type:"number"}):(e=b[g],h=e.name,e.type=e.type||"number",e.coordDim||(e.coordDim=h,e.coordDimIndex=0));e.otherDims=e.otherDims||{};d.push(h);a[h]=e}this.dimensions=d;this._dimensionInfos=a;this.hostModel=c;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[]};m=t.prototype;m.type="list";m.hasItemOption=!0;m.getDimension=function(b){isNaN(b)||(b=this.dimensions[b]||b);return b};m.getDimensionInfo=function(c){return b.clone(this._dimensionInfos[this.getDimension(c)])};m.initData=function(c,a,d){c=c||[];var h=b.isArray(c);h&&(c=new k(c));if(!h&&("function"!=typeof c.getItem||"function"!=typeof c.count))throw Error("Inavlid data provider.");this._rawData=c;var h=this._storage={},p=this.indices=[],f=this.dimensions,t=this._dimensionInfos,l=c.count(),u=[],v={},w;a=a||[];for(var z=0;z<f.length;z++){var m=t[f[z]];0===m.otherDims.itemName&&(w=z);h[f[z]]=new e[m.type](l)}var q=this;d||(q.hasItemOption=!1);d=d||function(b,c,a,d){a=g.getDataItemValue(b);g.isDataItemOption(b)&&(q.hasItemOption=!0);return g.converDataValue(a instanceof Array?a[d]:a,t[c])};for(z=0;z<l;z++){for(var m=c.getItem(z),n=0;n<f.length;n++){var r=f[n];h[r][z]=d(m,r,z,n)}p.push(z)}for(z=0;z<l;z++)m=c.getItem(z),!a[z]&&m&&(null!=m.name?a[z]=m.name:null!=w&&(a[z]=h[f[w]][z])),d=a[z]||"",p=m&&m.id,!p&&d&&(v[d]=v[d]||0,p=d,0<v[d]&&(p+="__ec__"+v[d]),v[d]++),p&&(u[z]=p);this._nameList=a;this._idList=u};m.count=function(){return this.indices.length};m.get=function(b,c,a){var d=this._storage,g=this.indices[c];if(null==g||!d[b])return NaN;d=d[b][g];if(a&&(a=this._dimensionInfos[b])&&a.stackable)for(a=this.stackedOn;a;){g=a.get(b,c);if(0<=d&&0<g||0>=d&&0>g)d+=g;a=a.stackedOn}return d};m.getValues=function(c,a,d){var g=[];b.isArray(c)||(d=a,a=c,c=this.dimensions);for(var h=0,e=c.length;h<e;h++)g.push(this.get(c[h],a,d));return g};m.hasValue=function(b){for(var c=this.dimensions,a=this._dimensionInfos,d=0,g=c.length;d<g;d++)if("ordinal"!==a[c[d]].type&&isNaN(this.get(c[d],b)))return!1;return!0};m.getDataExtent=function(b,c,a){b=this.getDimension(b);var d=this._storage[b],g=this.getDimensionInfo(b);c=g&&g.stackable&&c;if(g=(this._extent||(this._extent={}))[b+!!c])return g;if(d){for(var g=Infinity,h=-Infinity,e=0,p=this.count();e<p;e++)if(d=this.get(b,e,c),!a||a(d,b,e))d<g&&(g=d),d>h&&(h=d);return this._extent[b+!!c]=[g,h]}return[Infinity,-Infinity]};m.getSum=function(b,c){var a=0;if(this._storage[b])for(var d=0,g=this.count();d<g;d++){var h=this.get(b,d,c);isNaN(h)||(a+=h)}return a};m.indexOf=function(b,c){var a=this._storage[b],d=this.indices;if(a)for(var g=0,h=d.length;g<h;g++)if(a[d[g]]===c)return g;return-1};m.indexOfName=function(b){for(var c=this.indices,a=this._nameList,d=0,g=c.length;d<g;d++)if(a[c[d]]===b)return d;return-1};m.indexOfRawIndex=function(b){var c=this.indices,a=c[b];if(null!=a&&a===b)return b;for(var a=0,d=c.length-1;a<=d;){var g=(a+d)/2|0;if(c[g]<b)a=g+1;else if(c[g]>b)d=g-1;else return g}return-1};m.indicesOfNearest=function(b,c,a,d){var g=[];if(!this._storage[b])return g;null==d&&(d=Infinity);for(var h=Number.MAX_VALUE,e=-1,p=0,f=this.count();p<f;p++){var t=c-this.get(b,p,a),k=Math.abs(t);if(t<=d&&k<=h){if(k<h||0<=t&&0>e)h=k,e=t,g.length=0;g.push(p)}}return g};m.getRawIndex=function(b){b=this.indices[b];return null==b?-1:b};m.getRawDataItem=function(b){return this._rawData.getItem(this.getRawIndex(b))};m.getName=function(b){return this._nameList[this.indices[b]]||""};m.getId=function(b){return this._idList[this.indices[b]]||this.getRawIndex(b)+""};m.each=function(c,a,d,g){"function"===typeof c&&(g=d,d=a,a=c,c=[]);c=b.map(l(c),this.getDimension,this);var h=[],e=c.length,p=this.indices;g=g||this;for(var f=0;f<p.length;f++)switch(e){case 0:a.call(g,f);break;case 1:a.call(g,this.get(c[0],f,d),f);break;case 2:a.call(g,this.get(c[0],f,d),this.get(c[1],f,d),f);break;default:for(var t=0;t<e;t++)h[t]=this.get(c[t],f,d);h[t]=f;a.apply(g,h)}};m.filterSelf=function(c,a,d,g){"function"===typeof c&&(g=d,d=a,a=c,c=[]);c=b.map(l(c),this.getDimension,this);var h=[],e=[],p=c.length,f=this.indices;g=g||this;for(var t=0;t<f.length;t++){var k;if(p)if(1===p)k=a.call(g,this.get(c[0],t,d),t);else{for(k=0;k<p;k++)e[k]=this.get(c[k],t,d);e[k]=t;k=a.apply(g,e)}else k=a.call(g,t);k&&h.push(f[t])}this.indices=h;this._extent={};return this};m.mapArray=function(b,c,a,d){"function"===typeof b&&(d=a,a=c,c=b,b=[]);var g=[];this.each(b,function(){g.push(c&&c.apply(this,arguments))},a,d);return g};m.map=function(c,a,d,g){c=b.map(l(c),this.getDimension,this);var h=f(this,c),e=h.indices=this.indices,p=h._storage,t=[];this.each(c,function(){var b=arguments[arguments.length-1],d=a&&a.apply(this,arguments);if(null!=d){"number"===typeof d&&(t[0]=d,d=t);for(var g=0;g<d.length;g++){var h=p[c[g]],f=e[b];h&&(h[f]=d[g])}}},d,g);return h};m.downSample=function(b,c,a,d){var g=f(this,[b]),h=this._storage,e=g._storage,p=this.indices,t=g.indices=[],k=[],l=[];c=Math.floor(1/c);for(var u=e[b],v=this.count(),w=0;w<h[b].length;w++)e[b][w]=h[b][w];for(w=0;w<v;w+=c){c>v-w&&(c=v-w,k.length=c);for(h=0;h<c;h++)b=p[w+h],k[h]=u[b],l[h]=b;h=a(k);b=l[d(k,h)||0];u[b]=h;t.push(b)}return g};m.getItemModel=function(b){var a=this.hostModel;b=this.indices[b];return new c(this._rawData.getItem(b),a,a&&a.ecModel)};m.diff=function(b){var c=this._idList,a=b&&b._idList,g;return new d(b?b.indices:[],this.indices,function(b){return null!=(g=a[b])?g:"e\x00\x00"+b},function(b){return null!=(g=c[b])?g:"e\x00\x00"+b})};m.getVisual=function(b){var c=this._visual;return c&&c[b]};m.setVisual=function(b,c){if(p(b))for(var a in b)b.hasOwnProperty(a)&&this.setVisual(a,b[a]);else this._visual=this._visual||{},this._visual[b]=c};m.setLayout=function(b,c){if(p(b))for(var a in b)b.hasOwnProperty(a)&&this.setLayout(a,b[a]);else this._layout[b]=c};m.getLayout=function(b){return this._layout[b]};m.getItemLayout=function(b){return this._itemLayouts[b]};m.setItemLayout=function(c,a,d){this._itemLayouts[c]=d?b.extend(this._itemLayouts[c]||{},a):a};m.clearItemLayouts=function(){this._itemLayouts.length=0};m.getItemVisual=function(b,c,a){b=(b=this._itemVisuals[b])&&b[c];return null!=b||a?b:this.getVisual(c)};m.setItemVisual=function(b,c,a){var d=this._itemVisuals[b]||{};this._itemVisuals[b]=d;if(p(c))for(var g in c)c.hasOwnProperty(g)&&(d[g]=c[g]);else d[c]=a};m.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var w=function(b){b.seriesIndex=this.seriesIndex;b.dataIndex=this.dataIndex;b.dataType=this.dataType};m.setItemGraphicEl=function(b,c){var a=this.hostModel;c&&(c.dataIndex=b,c.dataType=this.dataType,c.seriesIndex=a&&a.seriesIndex,"group"===c.type&&c.traverse(w,c));this._graphicEls[b]=c};m.getItemGraphicEl=function(b){return this._graphicEls[b]};m.eachItemGraphicEl=function(c,a){b.each(this._graphicEls,function(b,d){b&&c&&c.call(a,b,d)})};m.cloneShallow=function(){var c=b.map(this.dimensions,this.getDimensionInfo,this),c=new t(c,this.hostModel);c._storage=this._storage;q(c,this);c.indices=this.indices.slice();this._extent&&(c._extent=b.extend({},this._extent));return c};m.wrapMethod=function(c,a){var d=this[c];"function"===typeof d&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(c),this[c]=function(){var c=d.apply(this,arguments);return a.apply(this,[c].concat(b.slice(arguments)))})};m.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];m.CHANGABLE_METHODS=["filterSelf"];r.exports=t}).call(n,function(){return this}())},function(r,n){function a(a){return a}function m(k,l,f,e){this._old=k;this._new=l;this._oldKeyGetter=f||a;this._newKeyGetter=e||a}function q(a,l,f,e){for(var c=0;c<a.length;c++){var d="_ec_"+e(a[c],c),b=l[d];null==b?(f.push(d),l[d]=c):(b.length||(l[d]=b=[b]),b.push(c))}}m.prototype={constructor:m,add:function(a){this._add=a;return this},update:function(a){this._update=a;return this},remove:function(a){this._remove=a;return this},execute:function(){var a=this._old,l=this._new,f=this._newKeyGetter,e={},c=[],d=[];q(a,{},c,this._oldKeyGetter);q(l,e,d,f);for(l=0;l<a.length;l++){var b=c[l],f=e[b];if(null!=f){var g=f.length;g?(1===g&&(e[b]=null),f=f.unshift()):e[b]=null;this._update&&this._update(f,l)}else this._remove&&this._remove(l)}for(l=0;l<d.length;l++)if(b=d[l],e.hasOwnProperty(b)&&(f=e[b],null!=f))if(f.length)for(a=0,g=f.length;a<g;a++)this._add&&this._add(f[a]);else this._add&&this._add(f)}};r.exports=m},function(r,n,a){function m(c,a){var b=(c[1]-c[0])/a/2;c[0]+=b;c[1]-=b}var q=a(7),k=q.linearMap,l=a(4),f=a(101),e=[0,1];n=function(c,a,b){this.dim=c;this.scale=a;this._extent=b||[0,0];this.onBand=this.inverse=!1};n.prototype={constructor:n,contain:function(c){var a=this._extent,b=Math.max(a[0],a[1]);return c>=Math.min(a[0],a[1])&&c<=b},containData:function(c){return this.contain(this.dataToCoord(c))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(c){return q.getPixelPrecision(c||this.scale.getExtent(),this._extent)},setExtent:function(c,a){var b=this._extent;b[0]=c;b[1]=a},dataToCoord:function(c,a){var b=this._extent,d=this.scale;c=d.normalize(c);this.onBand&&"ordinal"===d.type&&(b=b.slice(),m(b,d.count()));return k(c,e,b,a)},coordToData:function(c,a){var b=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&(b=b.slice(),m(b,d.count()));b=k(c,b,e,a);return this.scale.scale(b)},pointToData:function(c,a){},getTicksCoords:function(c){if(this.onBand&&!c){c=this.getBands();for(var a=[],b=0;b<c.length;b++)a.push(c[b][0]);c[b-1]&&a.push(c[b-1][1]);return a}return l.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return l.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var c=this.getExtent(),a=[],b=this.scale.count(),g=c[0],c=c[1]-g,e=0;e<b;e++)a.push([c*e/b+g,c*(e+1)/b+g]);return a},getBandWidth:function(){var c=this._extent,a=this.scale.getExtent(),a=a[1]-a[0]+(this.onBand?1:0);0===a&&(a=1);return Math.abs(Math.abs(c[1]-c[0]))/a},getLabelInterval:function(){var c=this._labelInterval;if(!c){var a=this.model,b=a.getModel("axisLabel"),g=b.get("interval");"category"!==this.type||"auto"!==g?c="auto"===g?0:g:this.isHorizontal&&(c=f.getAxisLabelInterval(l.map(this.scale.getTicks(),this.dataToCoord,this),a.getFormattedLabels(),b.getModel("textStyle").getFont(),this.isHorizontal()));this._labelInterval=c}return c}};r.exports=n},function(r,n,a){var m=a(102),q=a(104);a(106);a(107);var k=a(103),l=a(7),f=a(4),e=a(8),c={getScaleExtent:function(c,b){var a=c.type,d=b.getMin(),h=b.getMax(),e=null!=d,k=null!=h,m=c.getExtent(),v,u,x;"ordinal"===a?v=(b.get("data")||[]).length:(u=b.get("boundaryGap"),f.isArray(u)||(u=[u||0,u||0]),"boolean"===typeof u[0]&&(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),u=[0,0]),u[0]=l.parsePercent(u[0],1),u[1]=l.parsePercent(u[1],1),x=m[1]-m[0]||Math.abs(m[0]));null==d&&(d="ordinal"===a?v?0:NaN:m[0]-u[0]*x);null==h&&(h="ordinal"===a?v?v-1:NaN:m[1]+u[1]*x);"dataMin"===d&&(d=m[0]);"dataMax"===h&&(h=m[1]);null!=d&&isFinite(d)||(d=NaN);null!=h&&isFinite(h)||(h=NaN);c.setBlank(f.eqNaN(d)||f.eqNaN(h));b.getNeedCrossZero()&&(0<d&&0<h&&!e&&(d=0),0>d&&0>h&&!k&&(h=0));return[d,h]},niceScaleExtent:function(a,b){var d=c.getScaleExtent(a,b),e=null!=b.getMin(),h=null!=b.getMax(),f=b.get("splitNumber");"log"===a.type&&(a.base=b.get("logBase"));a.setExtent(d[0],d[1]);a.niceExtent({splitNumber:f,fixMin:e,fixMax:h,minInterval:"interval"===a.type?b.get("minInterval"):null});d=b.get("interval");null!=d&&a.setInterval&&a.setInterval(d)},createScaleByModel:function(c,b){if(b=b||c.get("type"))switch(b){case "category":return new m(c.getCategories(),[Infinity,-Infinity]);case "value":return new q;default:return(k.getClass(b)||q).create(c)}},ifAxisCrossZero:function(c){var b=c.scale.getExtent();c=b[0];b=b[1];return!(0<c&&0<b||0>c&&0>b)},getAxisLabelInterval:function(c,b,a,p){var d,g=0,f=0,k=1;40<b.length&&(k=Math.floor(b.length/40));for(var l=0;l<c.length;l+=k){var u=c[l],x=e.getBoundingRect(b[l],a,"center","top");x[p?"x":"y"]+=u;x[p?"width":"height"]*=1.3;d?d.intersect(x)?(f++,g=Math.max(g,f)):(d.union(x),f=0):d=x.clone()}return 0===g&&1<k?k:(g+1)*k-1},getFormattedLabels:function(a,b){var d=a.scale,e=d.getTicksLabels(),d=d.getTicks();return"string"===typeof b?(b=function(b){return function(c){return b.replace("{value}",null!=c?c:"")}}(b),f.map(e,b)):"function"===typeof b?f.map(d,function(d,g){return b(c.getAxisRawValue(a,d),g)},this):e},getAxisRawValue:function(c,b){return"category"===c.type?c.scale.getLabel(b):b}};r.exports=c},function(r,n,a){var m=a(4);n=a(103);var q=n.prototype,k=n.extend({type:"ordinal",init:function(a,f){this._data=a;this._extent=f||[0,a.length-1]},parse:function(a){return"string"===typeof a?m.indexOf(this._data,a):Math.round(a)},contain:function(a){a=this.parse(a);return q.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return q.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(q.scale.call(this,a))},getTicks:function(){for(var a=[],f=this._extent,e=f[0];e<=f[1];)a.push(e),e++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,f){this.unionExtent(a.getDataExtent(f,!1))},niceTicks:m.noop,niceExtent:m.noop});k.create=function(){return new k};r.exports=k},function(r,n,a){function m(a){this._setting=a||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}n=a(13);a=m.prototype;a.parse=function(a){return a};a.getSetting=function(a){return this._setting[a]};a.contain=function(a){var k=this._extent;return a>=k[0]&&a<=k[1]};a.normalize=function(a){var k=this._extent;return k[1]===k[0]?.5:(a-k[0])/(k[1]-k[0])};a.scale=function(a){var k=this._extent;return a*(k[1]-k[0])+k[0]};a.unionExtent=function(a){var k=this._extent;a[0]<k[0]&&(k[0]=a[0]);a[1]>k[1]&&(k[1]=a[1])};a.unionExtentFromData=function(a,k){this.unionExtent(a.getDataExtent(k,!0))};a.getExtent=function(){return this._extent.slice()};a.setExtent=function(a,k){var l=this._extent;isNaN(a)||(l[0]=a);isNaN(k)||(l[1]=k)};a.getTicksLabels=function(){for(var a=[],k=this.getTicks(),l=0;l<k.length;l++)a.push(this.getLabel(k[l]));return a};a.isBlank=function(){return this._isBlank};a.setBlank=function(a){this._isBlank=a};n.enableClassExtend(m);n.enableClassManagement(m,{registerWhenExtend:!0});r.exports=m},function(r,n,a){var m=a(7),q=a(6);n=a(103);var k=a(105),l=m.round,f=n.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,c){var d=this._extent;isNaN(a)||(d[0]=parseFloat(a));isNaN(c)||(d[1]=parseFloat(c))},unionExtent:function(a){var c=this._extent;a[0]<c[0]&&(c[0]=a[0]);a[1]>c[1]&&(c[1]=a[1]);f.prototype.setExtent.call(this,c[0],c[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a;this._niceExtent=this._extent.slice();this._intervalPrecision=k.getIntervalPrecision(a)},getTicks:function(){return k.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var a=[],c=this.getTicks(),d=0;d<c.length;d++)a.push(this.getLabel(c[d]));return a},getLabel:function(a,c){if(null==a)return"";var d=c&&c.precision;null==d?d=m.getPrecisionSafe(a)||0:"auto"===d&&(d=this._intervalPrecision);a=l(a,d,!0);return q.addCommas(a)},niceTicks:function(a,c){a=a||5;var d=this._extent,b=d[1]-d[0];isFinite(b)&&(0>b&&d.reverse(),d=k.intervalScaleNiceTicks(d,a,c),this._intervalPrecision=d.intervalPrecision,this._interval=d.interval,this._niceExtent=d.niceTickExtent)},niceExtent:function(a){var c=this._extent;if(c[0]===c[1])if(0!==c[0]){var d=c[0];a.fixMax||(c[1]+=d/2);c[0]-=d/2}else c[1]=1;isFinite(c[1]-c[0])||(c[0]=0,c[1]=1);this.niceTicks(a.splitNumber,a.minInterval);d=this._interval;a.fixMin||(c[0]=l(Math.floor(c[0]/d)*d));a.fixMax||(c[1]=l(Math.ceil(c[1]/d)*d))}});f.create=function(){return new f};r.exports=f},function(r,n,a){var m=a(7),q=m.round,k={intervalScaleNiceTicks:function(a,f,e){var c={};f=c.interval=m.nice((a[1]-a[0])/f,!0);null!=e&&f<e&&(f=c.interval=e);e=c.intervalPrecision=k.getIntervalPrecision(f);e=c.niceTickExtent=[q(Math.ceil(a[0]/f)*f,e),q(Math.floor(a[1]/f)*f,e)];k.fixExtent(e,a);return c},getIntervalPrecision:function(a){return m.getPrecisionSafe(a)+2},fixExtent:function(a,f){!isFinite(a[0])&&(a[0]=f[0]);!isFinite(a[1])&&(a[1]=f[1]);a[0]=Math.max(Math.min(a[0],f[1]),f[0]);a[1]=Math.max(Math.min(a[1],f[1]),f[0]);a[0]>a[1]&&(a[0]=a[1])},intervalScaleGetTicks:function(a,f,e,c){var d=[];if(!a)return d;f[0]<e[0]&&d.push(f[0]);for(var b=e[0];b<=e[1];){d.push(b);b=q(b+a,c);if(b===d[d.length-1])break;if(1E4<d.length)return[]}f[1]>(d.length?d[d.length-1]:e[1])&&d.push(f[1]);return d}};r.exports=k},function(r,n,a){n=a(4);var m=a(7),q=a(6),k=a(105);a=a(104);var l=a.prototype,f=Math.ceil,e=Math.floor,c=a.extend({type:"time",getLabel:function(b){return q.formatTime(this._stepLvl[0],new Date(b),this.getSetting("useUTC"))},niceExtent:function(b){var c=this._extent;c[0]===c[1]&&(c[0]-=864E5,c[1]+=864E5);if(-Infinity===c[1]&&Infinity===c[0]){var a=new Date;c[1]=new Date(a.getFullYear(),a.getMonth(),a.getDate());c[0]=c[1]-864E5}this.niceTicks(b.splitNumber);a=this._interval;b.fixMin||(c[0]=m.round(e(c[0]/a)*a));b.fixMax||(c[1]=m.round(f(c[1]/a)*a))},niceTicks:function(b){var c=this.getSetting("useUTC")?0:6E4*m.getTimezoneOffset();b=b||10;for(var a=this._extent,h=a[1]-a[0],t=d.length,l=0,z=t;l<z;){var v=l+z>>>1;d[v][2]<h/b?l=v+1:z=v}t=d[Math.min(l,t-1)];l=t[2];"year"===t[0]&&(b=m.nice(h/l/b,!0),l*=b);c=[Math.round(f((a[0]-c)/l)*l+c),Math.round(e((a[1]-c)/l)*l+c)];k.fixExtent(c,a);this._stepLvl=t;this._interval=l;this._niceExtent=c},parse:function(b){return+m.parseDate(b)}});n.each(["contain","normalize"],function(b){c.prototype[b]=function(c){return l[b].call(this,this.parse(c))}});var d=[["hh:mm:ss",1,1E3],["hh:mm:ss",5,5E3],["hh:mm:ss",10,1E4],["hh:mm:ss",15,15E3],["hh:mm:ss",30,3E4],["hh:mm\nMM-dd",1,6E4],["hh:mm\nMM-dd",5,3E5],["hh:mm\nMM-dd",10,6E5],["hh:mm\nMM-dd",15,9E5],["hh:mm\nMM-dd",30,18E5],["hh:mm\nMM-dd",1,36E5],["hh:mm\nMM-dd",2,72E5],["hh:mm\nMM-dd",6,216E5],["hh:mm\nMM-dd",12,432E5],["MM-dd\nyyyy",1,864E5],["week",7,6048E5],["month",1,26784E5],["quarter",3,8208E6],["half-year",6,16416E6],["year",1,32832E6]];c.create=function(b){return new c({useUTC:b.ecModel.get("useUTC")})};r.exports=c},function(r,n,a){var m=a(4),q=a(103),k=a(7),l=a(104),f=q.prototype,e=l.prototype,c=k.getPrecisionSafe,d=k.round,b=Math.floor,g=Math.ceil,p=Math.pow,h=Math.log,t=q.extend({type:"log",base:10,$constructor:function(){q.apply(this,arguments);this._originalScale=new l},getTicks:function(){var b=this._originalScale,a=this._extent,g=b.getExtent();return m.map(e.getTicks.call(this),function(h){var e=k.round(p(this.base,h)),e=h===a[0]&&b.__fixMin?d(e,c(g[0])):e;return e=h===a[1]&&b.__fixMax?d(e,c(g[1])):e},this)},getLabel:e.getLabel,scale:function(b){b=f.scale.call(this,b);return p(this.base,b)},setExtent:function(b,c){var a=this.base;b=h(b)/h(a);c=h(c)/h(a);e.setExtent.call(this,b,c)},getExtent:function(){var b=this.base,a=f.getExtent.call(this);a[0]=p(b,a[0]);a[1]=p(b,a[1]);var b=this._originalScale,g=b.getExtent();b.__fixMin&&(a[0]=d(a[0],c(g[0])));b.__fixMax&&(a[1]=d(a[1],c(g[1])));return a},unionExtent:function(b){this._originalScale.unionExtent(b);var c=this.base;b[0]=h(b[0])/h(c);b[1]=h(b[1])/h(c);f.unionExtent.call(this,b)},unionExtentFromData:function(b,c){this.unionExtent(b.getDataExtent(c,!0,function(b){return 0<b}))},niceTicks:function(c){c=c||10;var a=this._extent,d=a[1]-a[0];if(!(Infinity===d||0>=d)){var h=k.quantity(d);for(.5>=c/d*h&&(h*=10);!isNaN(h)&&1>Math.abs(h)&&0<Math.abs(h);)h*=10;c=[k.round(g(a[0]/h)*h),k.round(b(a[1]/h)*h)];this._interval=h;this._niceExtent=c}},niceExtent:function(b){e.niceExtent.call(this,b);var c=this._originalScale;c.__fixMin=b.fixMin;c.__fixMax=b.fixMax}});m.each(["contain","normalize"],function(b){t.prototype[b]=function(c){c=h(c)/h(this.base);return f[b].call(this,c)}});t.create=function(){return new t};r.exports=t},function(r,n,a){var m=a(109);n=a(111);var q=a(101),k=a(112),l=a(12),f=a(4);r.exports={createList:function(a){var c=a.get("data");return m(c,a,a.ecModel)},completeDimensions:a(110),createSymbol:n.createSymbol,createScale:function(a,c){var d=c;c instanceof l||(d=new l(c),f.mixin(d,k));var b=q.createScaleByModel(d);b.setExtent(a[0],a[1]);q.niceScaleExtent(b,d);return b},mixinAxisModelCommonMethods:function(a){f.mixin(a,k)}}},function(r,n,a){function m(b){for(var a=0;a<b.length&&null==b[a];)a++;b=b[a];return null!=b&&!c.isArray(g(b))}function q(b){return"category"!==b&&"time"!==b}function k(b){return"category"===b?"ordinal":"time"===b?"time":"float"}function l(b,a){var d=[],g=b&&b.dimensions[b.categoryIndex],h;g&&(h=b.categoryAxesModels[g.name]);if(h&&(g=h.getCategories()))if(h=a.length,c.isArray(a[0])&&1<a[0].length)for(var d=[],e=0;e<h;e++)d[e]=g[a[e][b.categoryIndex||0]];else d=g.slice(0);return d}var f=a(98),e=a(110),c=a(4),d=a(5),b=a(76),g=d.getDataItemValue,p=d.converDataValue,h={cartesian2d:function(b,a,d,g){var h=c.map(["xAxis","yAxis"],function(b){return d.queryComponents({mainType:b,index:a.get(b+"Index"),id:a.get(b+"Id")})[0]}),p=h[0],h=h[1];if(!p)throw Error('xAxis "'+c.retrieve(a.get("xAxisIndex"),a.get("xAxisId"),0)+'" not found');if(!h)throw Error('yAxis "'+c.retrieve(a.get("xAxisIndex"),a.get("yAxisId"),0)+'" not found');var f=p.get("type"),t=h.get("type"),l=[{name:"x",type:k(f),stackable:q(f)},{name:"y",type:k(t),stackable:q(t)}],f="category"===f,t="category"===t,l=e(l,b,g);b={};f&&(b.x=p);t&&(b.y=h);return{dimensions:l,categoryIndex:f?0:t?1:-1,categoryAxesModels:b}},singleAxis:function(b,c,a,d){c=a.queryComponents({mainType:"singleAxis",index:c.get("singleAxisIndex"),id:c.get("singleAxisId")})[0];if(!c)throw Error("singleAxis should be specified.");var g=c.get("type");a="category"===g;g=[{name:"single",type:k(g),stackable:q(g)}];g=e(g,b,d);b={};a&&(b.single=c);return{dimensions:g,categoryIndex:a?0:-1,categoryAxesModels:b}},polar:function(b,c,a,d){a=a.queryComponents({mainType:"polar",index:c.get("polarIndex"),id:c.get("polarId")})[0];c=a.findAxisModel("angleAxis");a=a.findAxisModel("radiusAxis");if(!c)throw Error("angleAxis option not found");if(!a)throw Error("radiusAxis option not found");var g=a.get("type"),h=c.get("type"),p=[{name:"radius",type:k(g),stackable:q(g)},{name:"angle",type:k(h),stackable:q(h)}],h="category"===h,g="category"===g,p=e(p,b,d);b={};g&&(b.radius=a);h&&(b.angle=c);return{dimensions:p,categoryIndex:h?1:g?0:-1,categoryAxesModels:b}},geo:function(b,c,a,d){return{dimensions:e([{name:"lng"},{name:"lat"}],b,d)}}};r.exports=function(a,k,z){a=a||[];if(!c.isArray(a))throw Error("Invalid data.");var t=k.get("coordinateSystem"),u=h[t],t=b.get(t),w={encodeDef:k.get("encode"),dimsDef:k.get("dimensions")},q=u&&u(a,k,z,w),D=q&&q.dimensions;D||(D=t&&(t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice())||["x","y"],D=e(D,a,w));var A=q?q.categoryIndex:-1,n=new f(D,k);k=l(q,a);var r={};z=0<=A&&m(a)?function(b,c,a,h){d.isDataItemOption(b)&&(n.hasItemOption=!0);return h===A?a:p(g(b),D[h])}:function(b,a,h,e){h=g(b);e=p(h&&h[e],D[e]);d.isDataItemOption(b)&&(n.hasItemOption=!0);(b=q&&q.categoryAxesModels)&&b[a]&&"string"===typeof e&&(r[a]=r[a]||b[a].getCategories(),e=c.indexOf(r[a],e),0>e&&!isNaN(e)&&(e=+e));return e};n.hasItemOption=!1;n.initData(a,k,z);return n}},function(r,n,a){function m(a,p,h){function g(b,c,a){d[c]?b.otherDims[c]=a:(b.coordDim=c,b.coordDimIndex=a,x.set(c,!0))}function w(b,c,a){if(a||null!=c.get(b)){for(a=0;null!=c.get(b+a);)a++;b+=a}c.set(b,!0);return b}p=p||[];h=h||{};a=(a||[]).slice();var m=(h.dimsDef||[]).slice(),v=k.createHashMap(h.encodeDef),u=k.createHashMap(),x=k.createHashMap(),y=[],D=h.dimCount;if(null==D){var A=q(p[0]),D=Math.max(k.isArray(A)&&A.length||1,a.length,m.length);l(a,function(b){(b=b.dimsDef)&&(D=Math.max(D,b.length))})}for(var n=0;n<D;n++){var r=f(m[n])?{name:m[n]}:m[n]||{},L=r.name,A=y[n]={otherDims:{}};null!=L&&null==u.get(L)&&(A.name=A.tooltipName=L,u.set(L,n));null!=r.type&&(A.type=r.type)}v.each(function(b,a){b=v.set(a,c(b).slice());l(b,function(c,d){f(c)&&(c=u.get(c));null!=c&&c<D&&(b[d]=c,g(y[c],a,d))})});var E=0;l(a,function(b,a){var d,h,p;f(b)?(d=b,b={}):(d=b.name,b=k.clone(b),h=b.dimsDef,p=b.otherDims,b.name=b.coordDim=b.coordDimIndex=b.dimsDef=b.otherDims=null);var t=c(v.get(d));if(!t.length)for(var u=0;u<(h&&h.length||1);u++){for(;E<y.length&&null!=y[E].coordDim;)E++;E<y.length&&t.push(E++)}l(t,function(c,a){var f=y[c];g(e(f,b),d,a);null==f.name&&h&&(f.name=f.tooltipName=h[a]);p&&e(f.otherDims,p)})});a=h.extraPrefix||"value";for(m=0;m<D;m++)A=y[m]=y[m]||{},null==A.coordDim&&(A.coordDim=w(a,x,h.extraFromZero),A.coordDimIndex=0,A.isExtraCoord=!0),null==A.name&&(A.name=w(A.coordDim,u)),null==A.type&&b(p,m)&&(A.type="ordinal");return y}function q(b){return k.isArray(b)?b:k.isObject(b)?b.value:b}var k=a(4);n=a(5);var l=k.each,f=k.isString,e=k.defaults,c=n.normalizeToArray,d={tooltip:1,label:1,itemName:1},b=m.guessOrdinal=function(b,c){for(var a=0,d=b.length;a<d;a++){var g=q(b[a]);if(!k.isArray(g))break;g=g[c];if(null!=g&&isFinite(g))break;else if(f(g)&&"-"!==g)return!0}return!1};r.exports=m},function(r,n,a){var m=a(18),q=a(9);n=m.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,c){var a=c.cx,d=c.cy,g=c.width/2,e=c.height/2;b.moveTo(a,d-e);b.lineTo(a+g,d+e);b.lineTo(a-g,d+e);b.closePath()}});a=m.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,c){var a=c.cx,d=c.cy,g=c.width/2,e=c.height/2;b.moveTo(a,d-e);b.lineTo(a+g,d);b.lineTo(a,d+e);b.lineTo(a-g,d);b.closePath()}});var k=m.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,c){var a=c.x,d=c.y,g=c.width/5*3,e=Math.max(g,c.height),f=g/2,g=f*f/(e-f),e=d-e+f+g,p=Math.asin(g/f),k=Math.cos(p)*f,l=Math.sin(p),m=Math.cos(p);b.arc(a,e,f,Math.PI-p,2*Math.PI+p);p=.6*f;f*=.7;b.bezierCurveTo(a+k-l*p,e+g+m*p,a,d-f,a,d);b.bezierCurveTo(a,d-f,a-k+l*p,e+g+m*p,a-k,e+g);b.closePath()}}),l=m.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,c){var a=c.height,d=c.x,g=c.y,e=c.width/3*2;b.moveTo(d,g);b.lineTo(d+e,g+a);b.lineTo(d,g+a/4*3);b.lineTo(d-e,g+a);b.lineTo(d,g);b.closePath()}});n={line:m.Line,rect:m.Rect,roundRect:m.Rect,square:m.Rect,circle:m.Circle,diamond:a,pin:k,arrow:l,triangle:n};var f={line:function(b,c,a,d,e){e.x1=b;e.y1=c+d/2;e.x2=b+a;e.y2=c+d/2},rect:function(b,c,a,d,e){e.x=b;e.y=c;e.width=a;e.height=d},roundRect:function(b,c,a,d,e){e.x=b;e.y=c;e.width=a;e.height=d;e.r=Math.min(a,d)/4},square:function(b,c,a,d,e){a=Math.min(a,d);e.x=b;e.y=c;e.width=a;e.height=a},circle:function(b,c,a,d,e){e.cx=b+a/2;e.cy=c+d/2;e.r=Math.min(a,d)/2},diamond:function(b,c,a,d,e){e.cx=b+a/2;e.cy=c+d/2;e.width=a;e.height=d},pin:function(b,c,a,d,e){e.x=b+a/2;e.y=c+d/2;e.width=a;e.height=d},arrow:function(b,c,a,d,e){e.x=b+a/2;e.y=c+d/2;e.width=a;e.height=d},triangle:function(b,c,a,d,e){e.cx=b+a/2;e.cy=c+d/2;e.width=a;e.height=d}},e={},c;for(c in n)n.hasOwnProperty(c)&&(e[c]=new n[c]);var d=m.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var b=this.style;"pin"===this.shape.symbolType&&"inside"===b.textPosition&&(b.textPosition=["50%","40%"],b.textAlign="center",b.textVerticalAlign="middle")},buildPath:function(b,c,a){var d=c.symbolType,g=e[d];"none"!==c.symbolType&&(g||(d="rect",g=e[d]),f[d](c.x,c.y,c.width,c.height,g.shape),g.buildPath(b,g.shape,a))}}),b=function(b){if("image"!==this.type){var c=this.style,a=this.shape;a&&"line"===a.symbolType?c.stroke=b:this.__isEmptyBrush?(c.stroke=b,c.fill="#fff"):(c.fill&&(c.fill=b),c.stroke&&(c.stroke=b));this.dirty(!1)}};r.exports={createSymbol:function(c,a,h,e,f,k){var g=0===c.indexOf("empty");g&&(c=c.substr(5,1).toLowerCase()+c.substr(6));c=0===c.indexOf("image://")?new m.Image({style:{image:c.slice(8),x:a,y:h,width:e,height:f}}):0===c.indexOf("path://")?m.makePath(c.slice(7),{},new q(a,h,e,f)):new d({shape:{symbolType:c,x:a,y:h,width:e,height:f}});c.__isEmptyBrush=g;c.setColor=b;c.setColor(k);return c}}},function(r,n,a){function m(a){return q.isObject(a)&&null!=a.value?a.value:a+""}var q=a(4),k=a(101);r.exports={getFormattedLabels:function(){return k.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&q.map(this.get("data"),m)},getMin:function(a){var f=this.option;a=a||null==f.rangeStart?f.min:f.rangeStart;this.axis&&null!=a&&"dataMin"!==a&&!q.eqNaN(a)&&(a=this.axis.scale.parse(a));return a},getMax:function(a){var f=this.option;a=a||null==f.rangeEnd?f.max:f.rangeEnd;this.axis&&null!=a&&"dataMax"!==a&&!q.eqNaN(a)&&(a=this.axis.scale.parse(a));return a},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},getCoordSysModel:q.noop,setRange:function(a,f){this.option.rangeStart=a;this.option.rangeEnd=f},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},function(r,n,a){r=a(4);n=a(1);var m=n.PRIORITY;a(114);a(115);n.registerVisual(r.curry(a(121),"line","circle","line"));n.registerLayout(r.curry(a(122),"line"));n.registerProcessor(m.PROCESSOR.STATISTIC,r.curry(a(123),"line"));a(124)},function(r,n,a){var m=a(109);n=a(78);r.exports=n.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,k){var l=a.coordinateSystem;if("polar"!==l&&"cartesian2d"!==l)throw Error("Line not support coordinateSystem besides cartesian and polar");return m(a.data,this,k)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}})},function(r,n,a){function m(b,c){if(b.length===c.length){for(var a=0;a<b.length;a++){var d=b[a],g=c[a];if(d[0]!==g[0]||d[1]!==g[1])return}return!0}}function q(b){return"number"===typeof b?b:b?.3:0}function k(b){var c=b.getGlobalExtent();if(b.onBand){b=b.getBandWidth()/2-1;var a=c[1]>c[0]?1:-1;c[0]+=a*b;c[1]-=a*b}return c}function l(b){return 0<=b?1:-1}function f(b,c){var a=b.getBaseAxis(),d=b.getOtherAxis(a),g=a.onZero?0:d.scale.getExtent()[0],h=d.dim,e="x"===h||"radius"===h?1:0;return c.mapArray([h],function(d,f){for(var p,t=c.stackedOn;t&&l(t.get(h,f))===l(d);){p=t;break}t=[];t[e]=c.get(a.dim,f);t[1-e]=p?p.get(h,f,!0):g;return b.dataToPoint(t)},!0)}function e(b,c,a){if("polar"===b.type){var d=b.getAngleAxis(),g=b.getRadiusAxis().getExtent(),h=d.getExtent(),e=Math.PI/180;b=new t.Sector({shape:{cx:b.cx,cy:b.cy,r0:g[0],r:g[1],startAngle:-h[0]*e,endAngle:-h[1]*e,clockwise:d.inverse}});c&&(b.shape.endAngle=-h[0]*e,t.initProps(b,{shape:{endAngle:-h[1]*e}},a));c=b}else{d=k(b.getAxis("x"));g=k(b.getAxis("y"));b=b.getBaseAxis().isHorizontal();var h=Math.min(d[0],d[1]),e=Math.min(g[0],g[1]),d=Math.max(d[0],d[1])-h,g=Math.max(g[0],g[1])-e,f=a.get("lineStyle.normal.width")||2,f=a.get("clipOverflow")?f/2:Math.max(d,g);b?(e-=f,g+=2*f):(h-=f,d+=2*f);h=new t.Rect({shape:{x:h,y:e,width:d,height:g}});c&&(h.shape[b?"width":"height"]=0,t.initProps(h,{shape:{width:d,height:g}},a));c=h}return c}function c(b,c,a){c=c.getBaseAxis();c="x"===c.dim||"radius"===c.dim?0:1;for(var d=[],g=0;g<b.length-1;g++){var h=b[g+1],e=b[g];d.push(e);var f=[];switch(a){case "end":f[c]=h[c];f[1-c]=e[1-c];d.push(f);break;case "middle":var p=[];f[c]=p[c]=(e[c]+h[c])/2;f[1-c]=e[1-c];p[1-c]=h[1-c];d.push(f);d.push(p);break;default:f[c]=e[c],f[1-c]=h[1-c],d.push(f)}}b[g]&&d.push(b[g]);return d}function d(c,a){var d=c.getVisual("visualMeta");if(d&&d.length&&c.count()){for(var g,h=d.length-1;0<=h;h--)if(2>d[h].dimension){g=d[h];break}if(g&&"cartesian2d"===a.type){var d=c.dimensions[g.dimension],e=a.getAxis(d),h=b.map(g.stops,function(b){return{coord:e.toGlobalCoord(e.dataToCoord(b.value)),color:b.color}}),f=h.length,p=g.outerColors.slice();f&&h[0].coord>h[f-1].coord&&(h.reverse(),p.reverse());var k=h[0].coord-10;g=h[f-1].coord+10;var l=g-k;if(.001>l)return"transparent";b.each(h,function(b){b.offset=(b.coord-k)/l});h.push({offset:f?h[f-1].offset:.5,color:p[1]||"transparent"});h.unshift({offset:f?h[0].offset:.5,color:p[0]||"transparent"});h=new t.LinearGradient(0,0,0,0,h,!0);h[d]=k;h[d+"2"]=g;return h}console.warn("Visual map on line style only support x or y dimension.")}}var b=a(4),g=a(116),p=a(117),h=a(119),t=a(18),w=a(5),z=a(120),v=a(80);r.exports=v.extend({type:"line",init:function(){var b=new t.Group,c=new g;this.group.add(c.group);this._symbolDraw=c;this._lineGroup=b},render:function(a,g,h){g=a.coordinateSystem;var p=this.group,t=a.getData(),k=a.getModel("lineStyle.normal"),l=a.getModel("areaStyle.normal"),u=t.mapArray(t.getItemLayout,!0),v="polar"===g.type,w=this._coordSys,x=this._symbolDraw,z=this._polyline,y=this._polygon,n=this._lineGroup,r=a.get("animation"),I=!l.isEmpty(),G=f(g,t),O=a.get("showSymbol"),Q=O&&!v&&!a.get("showAllSymbol")&&this._getSymbolIgnoreFunc(t,g),T=this._data;T&&T.eachItemGraphicEl(function(b,c){b.__temp&&(p.remove(b),T.setItemGraphicEl(c,null))});O||x.remove();p.add(n);v=!v&&a.get("step");z&&w.type===g.type&&v===this._step?(I&&!y?y=this._newPolygon(u,G,g,r):y&&!I&&(n.remove(y),y=this._polygon=null),n.setClipPath(e(g,!1,a)),O&&x.updateData(t,Q),t.eachItemGraphicEl(function(b){b.stopAnimation(!0)}),m(this._stackedOnPoints,G)&&m(this._points,u)||(r?this._updateAnimation(t,G,g,h,v):(v&&(u=c(u,g,v),G=c(G,g,v)),z.setShape({points:u}),y&&y.setShape({points:u,stackedOnPoints:G})))):(O&&x.updateData(t,Q),v&&(u=c(u,g,v),G=c(G,g,v)),z=this._newPolyline(u,g,r),I&&(y=this._newPolygon(u,G,g,r)),n.setClipPath(e(g,!0,a)));h=d(t,g)||t.getVisual("color");z.useStyle(b.defaults(k.getLineStyle(),{fill:"none",stroke:h,lineJoin:"bevel"}));k=a.get("smooth");k=q(a.get("smooth"));z.setShape({smooth:k,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")});y&&(z=t.stackedOn,w=0,y.useStyle(b.defaults(l.getAreaStyle(),{fill:h,opacity:.7,lineJoin:"bevel"})),z&&(w=q(z.hostModel.get("smooth"))),y.setShape({smooth:k,stackedOnSmooth:w,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}));this._data=t;this._coordSys=g;this._stackedOnPoints=G;this._points=u;this._step=v},dispose:function(){},highlight:function(b,c,a,d){var g=b.getData(),h=w.queryDataIndex(g,d);if(!(h instanceof Array)&&null!=h&&0<=h){c=g.getItemGraphicEl(h);if(!c){a=g.getItemLayout(h);if(!a)return;c=new p(g,h);c.position=a;c.setZ(b.get("zlevel"),b.get("z"));c.ignore=isNaN(a[0])||isNaN(a[1]);c.__temp=!0;g.setItemGraphicEl(h,c);c.stopSymbolAnimation(!0);this.group.add(c)}c.highlight()}else v.prototype.highlight.call(this,b,c,a,d)},downplay:function(b,c,a,d){var g=b.getData(),h=w.queryDataIndex(g,d);if(null!=h&&0<=h){if(b=g.getItemGraphicEl(h))b.__temp?(g.setItemGraphicEl(h,null),this.group.remove(b)):b.downplay()}else v.prototype.downplay.call(this,b,c,a,d)},_newPolyline:function(b){var c=this._polyline;c&&this._lineGroup.remove(c);c=new z.Polyline({shape:{points:b},silent:!0,z2:10});this._lineGroup.add(c);return this._polyline=c},_newPolygon:function(b,c){var a=this._polygon;a&&this._lineGroup.remove(a);a=new z.Polygon({shape:{points:b,stackedOnPoints:c},silent:!0});this._lineGroup.add(a);return this._polygon=a},_getSymbolIgnoreFunc:function(c,a){var d=a.getAxesByScale("ordinal")[0];if(d&&d.isLabelIgnored)return b.bind(d.isLabelIgnored,d)},_updateAnimation:function(b,a,d,g,e){var f=this._polyline;g=this._polygon;var p=b.hostModel;a=h(this._data,b,this._stackedOnPoints,a,this._coordSys,d);var k=a.current,l=a.stackedOnCurrent,u=a.next,v=a.stackedOnNext;e&&(k=c(a.current,d,e),l=c(a.stackedOnCurrent,d,e),u=c(a.next,d,e),v=c(a.stackedOnNext,d,e));f.shape.__points=a.current;f.shape.points=k;t.updateProps(f,{shape:{points:u}},p);g&&(g.setShape({points:k,stackedOnPoints:l}),t.updateProps(g,{shape:{points:u,stackedOnPoints:v}},p));var w=[];d=a.status;for(e=0;e<d.length;e++)"\x3d"===d[e].cmd&&(g=b.getItemGraphicEl(d[e].idx1))&&w.push({el:g,ptIdx:e});f.animators&&f.animators.length&&f.animators[0].during(function(){for(var b=0;b<w.length;b++)w[b].el.attr("position",f.shape.__points[w[b].ptIdx])})},remove:function(b){var c=this.group,a=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);a&&a.eachItemGraphicEl(function(b,d){b.__temp&&(c.remove(b),a.setItemGraphicEl(d,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(r,n,a){function m(a){this.group=new k.Group;this._symbolCtor=a||l}function q(a,e,c){var d=a.getItemLayout(e);return d&&!isNaN(d[0])&&!isNaN(d[1])&&!(c&&c(e))&&"none"!==a.getItemVisual(e,"symbol")}var k=a(18),l=a(117);n=m.prototype;n.updateData=function(a,e){var c=this.group,d=a.hostModel,b=this._data,g=this._symbolCtor,f={itemStyle:d.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:d.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:d.get("symbolRotate"),symbolOffset:d.get("symbolOffset"),hoverAnimation:d.get("hoverAnimation"),labelModel:d.getModel("label.normal"),hoverLabelModel:d.getModel("label.emphasis"),cursorStyle:d.get("cursor")};a.diff(b).add(function(b){var d=a.getItemLayout(b);if(q(a,b,e)){var h=new g(a,b,f);h.attr("position",d);a.setItemGraphicEl(b,h);c.add(h)}}).update(function(h,p){var t=b.getItemGraphicEl(p),l=a.getItemLayout(h);q(a,h,e)?(t?(t.updateData(a,h,f),k.updateProps(t,{position:l},d)):(t=new g(a,h),t.attr("position",l)),c.add(t),a.setItemGraphicEl(h,t)):c.remove(t)}).remove(function(a){var d=b.getItemGraphicEl(a);d&&d.fadeOut(function(){c.remove(d)})}).execute();this._data=a};n.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(e,c){var d=a.getItemLayout(c);e.attr("position",d)})};n.remove=function(a){var e=this.group,c=this._data;c&&(a?c.eachItemGraphicEl(function(c){c.fadeOut(function(){e.remove(c)})}):e.removeAll())};r.exports=m},function(r,n,a){function m(b,c,a){f.Group.call(this);this.updateData(b,c,a)}function q(b,c){this.parent.drift(b,c)}var k=a(4),l=a(111),f=a(18),e=a(7),c=a(118);n=m.prototype;n._createSymbol=function(b,c,a,d){this.removeAll();var g=c.hostModel;c=c.getItemVisual(a,"color");c=l.createSymbol(b,-1,-1,2,2,c);c.attr({z2:100,culling:!0,scale:[0,0]});c.drift=q;f.initProps(c,{scale:[d[0]/2,d[1]/2]},g,a);this._symbolType=b;this.add(c)};n.stopSymbolAnimation=function(b){this.childAt(0).stopAnimation(b)};n.getSymbolPath=function(){return this.childAt(0)};n.getScale=function(){return this.childAt(0).scale};n.highlight=function(){this.childAt(0).trigger("emphasis")};n.downplay=function(){this.childAt(0).trigger("normal")};n.setZ=function(b,c){var a=this.childAt(0);a.zlevel=b;a.z=c};n.setDraggable=function(b){var c=this.childAt(0);c.draggable=b;c.cursor=b?"move":"pointer"};n.updateData=function(b,c,a){this.silent=!1;var d=b.getItemVisual(c,"symbol")||"circle",g=b.hostModel,h;h=b.getItemVisual(c,"symbolSize");h=h instanceof Array?h.slice():[+h,+h];d!==this._symbolType?this._createSymbol(d,b,c,h):(d=this.childAt(0),d.silent=!1,f.updateProps(d,{scale:[h[0]/2,h[1]/2]},g,c));this._updateCommon(b,c,h,a);this._seriesModel=g};var d=["itemStyle","normal"],b=["itemStyle","emphasis"],g=["label","normal"],p=["label","emphasis"];n._updateCommon=function(a,t,l,m){var h=this.childAt(0),u=a.hostModel,w=a.getItemVisual(t,"color");"image"!==h.type&&h.useStyle({strokeNoScale:!0});var q=(m=m||null)&&m.itemStyle,z=m&&m.hoverItemStyle,A=m&&m.symbolRotate,n=m&&m.symbolOffset,r=m&&m.labelModel,L=m&&m.hoverLabelModel,E=m&&m.hoverAnimation,M=m&&m.cursorStyle;!m||a.hasItemOption?(m=a.getItemModel(t),q=m.getModel(d).getItemStyle(["color"]),z=m.getModel(b).getItemStyle(),A=m.getShallow("symbolRotate"),n=m.getShallow("symbolOffset"),r=m.getModel(g),L=m.getModel(p),E=m.getShallow("hoverAnimation"),M=m.getShallow("cursor")):z=k.extend({},z);m=h.style;h.attr("rotation",(A||0)*Math.PI/180||0);n&&h.attr("position",[e.parsePercent(n[0],l[0]),e.parsePercent(n[1],l[1])]);M&&h.attr("cursor",M);h.setColor(w);h.setStyle(q);q=a.getItemVisual(t,"opacity");null!=q&&(m.opacity=q);q=c.findLabelValueDim(a);c.setTextToStyle(a,t,q,m,u,r,w);c.setTextToStyle(a,t,q,z,u,L,w);h.off("mouseover").off("mouseout").off("emphasis").off("normal");h.hoverStyle=z;f.setHoverStyle(h);var N=[l[0]/2,l[1]/2];E&&u.isAnimationEnabled()&&(a=function(){this.animateTo({scale:[Math.max(1.1*N[0],N[0]+3),Math.max(1.1*N[1],N[1]+N[1]/N[0]*3)]},400,"elasticOut")},t=function(){this.animateTo({scale:N},400,"elasticOut")},h.on("mouseover",a).on("mouseout",t).on("emphasis",a).on("normal",t))};n.fadeOut=function(b){var c=this.childAt(0);this.silent=c.silent=!0;c.style.text="";f.updateProps(c,{scale:[0,0]},this._seriesModel,this.dataIndex,b)};k.inherits(m,f.Group);r.exports=m},function(r,n,a){var m=a(18),q=a(4),k=a(5);r.exports={findLabelValueDim:function(a){var f,e=k.otherDimToDataDim(a,"label");if(e.length)f=e[0];else for(var e=a.dimensions.slice(),c;e.length&&(f=e.pop(),c=a.getDimensionInfo(f).type,"ordinal"===c||"time"===c););return f},setTextToStyle:function(a,f,e,c,d,b,g){null!=e&&b.getShallow("show")?(m.setText(c,b,g),c.text=q.retrieve(d.getFormattedLabel(f,"normal"),a.get(e,f))):c.text=""}}},function(r,n){function a(a){return 0<=a?1:-1}function m(k,l,f){for(var e=k.getBaseAxis(),c=k.getOtherAxis(e),d=e.onZero?0:c.scale.getExtent()[0],c=c.dim,b="x"===c||"radius"===c?1:0,g,p=l.stackedOn,h=l.get(c,f);p&&a(p.get(c,f))===a(h);){g=p;break}p=[];p[b]=l.get(e.dim,f);p[1-b]=g?g.get(c,f,!0):d;return k.dataToPoint(p)}function q(a,l){var f=[];l.diff(a).add(function(a){f.push({cmd:"+",idx:a})}).update(function(a,c){f.push({cmd:"\x3d",idx:c,idx1:a})}).remove(function(a){f.push({cmd:"-",idx:a})}).execute();return f}r.exports=function(a,l,f,e,c,d){for(var b=q(a,l),g=[],p=[],h=[],t=[],k=[],z=[],v=[],u=d.dimensions,x=0;x<b.length;x++){var y=b[x],D=!0;switch(y.cmd){case "\x3d":var A=a.getItemLayout(y.idx),n=l.getItemLayout(y.idx1);if(isNaN(A[0])||isNaN(A[1]))A=n.slice();g.push(A);p.push(n);h.push(f[y.idx]);t.push(e[y.idx1]);v.push(l.getRawIndex(y.idx1));break;case "+":A=y.idx;g.push(c.dataToPoint([l.get(u[0],A,!0),l.get(u[1],A,!0)]));p.push(l.getItemLayout(A).slice());h.push(m(c,l,A));t.push(e[A]);v.push(l.getRawIndex(A));break;case "-":A=y.idx,n=a.getRawIndex(A),n!==A?(g.push(a.getItemLayout(A)),p.push(d.dataToPoint([a.get(u[0],A,!0),a.get(u[1],A,!0)])),h.push(f[A]),t.push(m(d,a,A)),v.push(n)):D=!1}D&&(k.push(y),z.push(z.length))}z.sort(function(b,c){return v[b]-v[c]});a=[];l=[];f=[];e=[];c=[];for(x=0;x<z.length;x++)A=z[x],a[x]=g[A],l[x]=p[A],f[x]=h[A],e[x]=t[A],c[x]=k[A];return{current:a,next:l,stackedOnCurrent:f,stackedOnNext:e,status:c}}},function(r,n,a){function m(b){return isNaN(b[0])||isNaN(b[1])}function q(a,t,k,q,v,u,x,y,D,A,n){for(var h=0,w=k,z=0;z<q;z++){var r=t[w];if(w>=v||0>w)break;if(m(r)){if(n){w+=u;continue}break}if(w===k)a[0<u?"moveTo":"lineTo"](r[0],r[1]),d(g,r);else if(0<D){var C=w+u,F=t[C];if(n)for(;F&&m(t[C]);)C+=u,F=t[C];var J=.5,h=t[h],F=t[C];!F||m(F)?d(p,r):(m(F)&&!n&&(F=r),l.sub(b,F,h),"x"===A||"y"===A?(J="x"===A?0:1,C=Math.abs(r[J]-h[J]),F=Math.abs(r[J]-F[J])):(C=l.dist(r,h),F=l.dist(r,F)),J=F/(F+C),c(p,r,b,-D*(1-J)));f(g,g,y);e(g,g,x);f(p,p,y);e(p,p,x);a.bezierCurveTo(g[0],g[1],p[0],p[1],r[0],r[1]);c(g,r,b,D*J)}else a.lineTo(r[0],r[1]);h=w;w+=u}return z}function k(b,c){var a=[Infinity,Infinity],d=[-Infinity,-Infinity];if(c)for(var g=0;g<b.length;g++){var h=b[g];h[0]<a[0]&&(a[0]=h[0]);h[1]<a[1]&&(a[1]=h[1]);h[0]>d[0]&&(d[0]=h[0]);h[1]>d[1]&&(d[1]=h[1])}return{min:c?a:d,max:c?d:a}}n=a(20);var l=a(10),f=l.min,e=l.max,c=l.scaleAndAdd,d=l.copy,b=[],g=[],p=[];r.exports={Polyline:n.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(b,c){var a=c.points,d=0,g=a.length,h=k(a,c.smoothConstraint);if(c.connectNulls){for(;0<g&&m(a[g-1]);g--);for(;d<g&&m(a[d]);d++);}for(;d<g;)d+=q(b,a,d,g,g,1,h.min,h.max,c.smooth,c.smoothMonotone,c.connectNulls)+1}}),Polygon:n.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(b,c){var a=c.points,d=c.stackedOnPoints,g=0,h=a.length,e=c.smoothMonotone,f=k(a,c.smoothConstraint),p=k(d,c.smoothConstraint);if(c.connectNulls){for(;0<h&&m(a[h-1]);h--);for(;g<h&&m(a[g]);g++);}for(;g<h;){var t=q(b,a,g,h,h,1,f.min,f.max,c.smooth,e,c.connectNulls);q(b,d,g+t-1,t,h,-1,p.min,p.max,c.stackedOnSmooth,e,c.connectNulls);g+=t+1;b.closePath()}}})}},function(r,n){r.exports=function(a,m,q,k,l){k.eachRawSeriesByType(a,function(a){var e=a.getData(),c=a.get("symbol")||m,d=a.get("symbolSize");e.setVisual({legendSymbol:q||c,symbol:c,symbolSize:d});k.isSeriesFiltered(a)||("function"===typeof d&&e.each(function(b){var c=a.getRawValue(b),f=a.getDataParams(b);e.setItemVisual(b,"symbolSize",d(c,f))}),e.each(function(b){var c=e.getItemModel(b),a=c.getShallow("symbol",!0),c=c.getShallow("symbolSize",!0);null!=a&&e.setItemVisual(b,"symbol",a);null!=c&&e.setItemVisual(b,"symbolSize",c)}))})}},function(r,n){r.exports=function(a,m){m.eachSeriesByType(a,function(a){var k=a.getData(),l=a.coordinateSystem;if(l){for(var f=[],e=l.dimensions,c=0;c<e.length;c++)f.push(a.coordDimToDataDim(l.dimensions[c])[0]);1===f.length?k.each(f[0],function(c,b){k.setItemLayout(b,isNaN(c)?[NaN,NaN]:l.dataToPoint(c))}):2===f.length&&k.each(f,function(c,b,a){k.setItemLayout(a,isNaN(c)||isNaN(b)?[NaN,NaN]:l.dataToPoint([c,b]))},!0)}})}},function(r,n){var a={average:function(a){for(var k=0,l=0,f=0;f<a.length;f++)isNaN(a[f])||(k+=a[f],l++);return 0===l?NaN:k/l},sum:function(a){for(var k=0,l=0;l<a.length;l++)k+=a[l]||0;return k},max:function(a){for(var k=-Infinity,l=0;l<a.length;l++)a[l]>k&&(k=a[l]);return k},min:function(a){for(var k=Infinity,l=0;l<a.length;l++)a[l]<k&&(k=a[l]);return k},nearest:function(a){return a[0]}},m=function(a,k){return Math.round(a.length/2)};r.exports=function(q,k,l){k.eachSeriesByType(q,function(f){var e=f.getData(),c=f.get("sampling"),d=f.coordinateSystem;if("cartesian2d"===d.type&&c){var b=d.getBaseAxis(),d=d.getOtherAxis(b),b=b.getExtent(),b=b[1]-b[0],b=Math.round(e.count()/b);if(1<b){var g;"string"===typeof c?g=a[c]:"function"===typeof c&&(g=c);g&&(e=e.downSample(d.dim,1/b,g,m),f.setData(e))}}},this)}},function(r,n,a){var m=a(18),q=a(4);r=a(1);a(125);a(133);r.extendComponentView({type:"grid",render:function(a,l){this.group.removeAll();a.get("show")&&this.group.add(new m.Rect({shape:a.coordinateSystem.getRect(),style:q.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}});r.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})},function(r,n,a){function m(b,a,c){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(b,a,c);this.model=b}function q(b,a){var c=b.getExtent(),d=c[0]+c[1];b.toGlobalCoord="x"===b.dim?function(b){return b+a}:function(b){return d-b+a};b.toLocalCoord="x"===b.dim?function(b){return b-a}:function(b){return d-b+a}}function k(b,a){return c.map(t,function(a){var d=b.getReferringComponents(a)[0];if(!d)throw Error(a+' "'+c.retrieve(b.get(a+"Index"),b.get(a+"Id"),0)+'" not found');return d})}function l(b){return"cartesian2d"===b.get("coordinateSystem")}var f=a(71),e=a(101),c=a(4),d=a(126),b=a(128),g=c.each,p=e.ifAxisCrossZero,h=e.niceScaleExtent;a(129);n=m.prototype;n.type="grid";n.axisPointerEnabled=!0;n.getRect=function(){return this._rect};n.update=function(b,a){function c(b){b=d[b];for(var a in b)if(b.hasOwnProperty(a)){var c=b[a];if(c&&("category"===c.type||"time"===c.type||!p(c)))return!0}return!1}var d=this._axesMap;this._updateScale(b,this.model);g(d.x,function(b){h(b.scale,b.model)});g(d.y,function(b){h(b.scale,b.model)});g(d.x,function(b){c("y")&&(b.onZero=!1)});g(d.y,function(b){c("x")&&(b.onZero=!1)});this.resize(this.model,a)};n.resize=function(b,a,c){function d(){g(e,function(b){var a=b.isHorizontal(),c=a?[0,h.width]:[0,h.height],d=b.inverse?1:0;b.setExtent(c[d],c[1-d]);q(b,a?h.x:h.y)})}var h=f.getLayoutRect(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()});this._rect=h;var e=this._axesList;d();!c&&b.get("containLabel")&&(g(e,function(b){if(!b.model.get("axisLabel.inside")){var a,c=b.model;a=c.getFormattedLabels();var c=c.getModel("axisLabel.textStyle"),d,g=1,e=a.length;40<e&&(g=Math.ceil(e/40));for(var f=0;f<e;f+=g)if(!b.isLabelIgnored(f)){var p=c.getTextRect(a[f]);d?d.union(p):d=p}if(a=d)d=b.isHorizontal()?"height":"width",c=b.model.get("axisLabel.margin"),h[d]-=a[d]+c,"top"===b.position?h.y+=a.height+c:"left"===b.position&&(h.x+=a.width+c)}}),d())};n.getAxis=function(b,a){var c=this._axesMap[b];if(null!=c){if(null==a)for(var d in c)if(c.hasOwnProperty(d))return c[d];return c[a]}};n.getAxes=function(){return this._axesList.slice()};n.getCartesian=function(b,a){if(null!=b&&null!=a)return this._coordsMap["x"+b+"y"+a];c.isObject(b)&&(a=b.yAxisIndex,b=b.xAxisIndex);for(var d=0,g=this._coordsList;d<g.length;d++)if(g[d].getAxis("x").index===b||g[d].getAxis("y").index===a)return g[d]};n.getCartesians=function(){return this._coordsList.slice()};n.convertToPixel=function(b,a,c){b=this._findConvertTarget(b,a);return b.cartesian?b.cartesian.dataToPoint(c):b.axis?b.axis.toGlobalCoord(b.axis.dataToCoord(c)):null};n.convertFromPixel=function(b,a,c){b=this._findConvertTarget(b,a);return b.cartesian?b.cartesian.pointToData(c):b.axis?b.axis.coordToData(b.axis.toLocalCoord(c)):null};n._findConvertTarget=function(b,a){var d=a.seriesModel,g=a.xAxisModel||d&&d.getReferringComponents("xAxis")[0],h=a.yAxisModel||d&&d.getReferringComponents("yAxis")[0],e=a.gridModel,f=this._coordsList,p,t;d?(p=d.coordinateSystem,0>c.indexOf(f,p)&&(p=null)):g&&h?p=this.getCartesian(g.componentIndex,h.componentIndex):g?t=this.getAxis("x",g.componentIndex):h?t=this.getAxis("y",h.componentIndex):e&&e.coordinateSystem===this&&(p=this._coordsList[0]);return{cartesian:p,axis:t}};n.containPoint=function(b){var a=this._coordsList[0];if(a)return a.containPoint(b)};n._initCartesian=function(a,c,h){function f(c){return function(d,g){if(d.getCoordSysModel()===a){var h=d.get("position");"x"===c?"top"!==h&&"bottom"!==h&&(h="bottom",p[h]&&(h="top"===h?"bottom":"top")):"left"!==h&&"right"!==h&&(h="left",p[h]&&(h="left"===h?"right":"left"));p[h]=!0;h=new b(c,e.createScaleByModel(d),[0,0],d.get("type"),h);h.onBand="category"===h.type&&d.get("boundaryGap");h.inverse=d.get("inverse");h.onZero=d.get("axisLine.onZero");d.axis=h;h.model=d;h.grid=this;h.index=g;this._axesList.push(h);t[c][g]=h;k[c]++}}}var p={left:!1,right:!1,top:!1,bottom:!1},t={x:{},y:{}},k={x:0,y:0};c.eachComponent("xAxis",f("x"),this);c.eachComponent("yAxis",f("y"),this);k.x&&k.y?(this._axesMap=t,g(t.x,function(b,c){g(t.y,function(g,h){var e="x"+c+"y"+h,f=new d(e);f.grid=this;f.model=a;this._coordsMap[e]=f;this._coordsList.push(f);f.addAxis(b);f.addAxis(g)},this)},this)):(this._axesMap={},this._axesList=[])};n._updateScale=function(b,a){function d(b,a,c){g(c.coordDimToDataDim(a.dim),function(c){a.scale.unionExtentFromData(b,c)})}c.each(this._axesList,function(b){b.scale.setExtent(Infinity,-Infinity)});b.eachSeries(function(c){if(l(c)){var g=k(c,b),h=g[0],g=g[1],e;(e=h.getCoordSysModel()!==a)||(e=g.getCoordSysModel()!==a);e||(e=this.getCartesian(h.componentIndex,g.componentIndex),h=c.getData(),g=e.getAxis("x"),e=e.getAxis("y"),"list"===h.type&&(d(h,g,c),d(h,e,c)))}},this)};n.getTooltipAxes=function(b){var a=[],d=[];g(this.getCartesians(),function(g){var h=null!=b&&"auto"!==b?g.getAxis(b):g.getBaseAxis();g=g.getOtherAxis(h);0>c.indexOf(a,h)&&a.push(h);0>c.indexOf(d,g)&&d.push(g)});return{baseAxes:a,otherAxes:d}};var t=["xAxis","yAxis"];m.create=function(b,a){var d=[];b.eachComponent("grid",function(c,g){var h=new m(c,b,a);h.name="grid_"+g;h.resize(c,a,!0);c.coordinateSystem=h;d.push(h)});b.eachSeries(function(a){if(l(a)){var d=k(a,b),g=d[0],d=d[1],h=g.getCoordSysModel();if(!h)throw Error('Grid "'+c.retrieve(g.get("gridIndex"),g.get("gridId"),0)+'" not found');if(g.getCoordSysModel()!==d.getCoordSysModel())throw Error("xAxis and yAxis must use the same grid");a.coordinateSystem=h.coordinateSystem.getCartesian(g.componentIndex,d.componentIndex)}});return d};m.dimensions=m.prototype.dimensions=d.prototype.dimensions;a(76).register("cartesian2d",m);r.exports=m},function(r,n,a){function m(a){q.call(this,a)}n=a(4);var q=a(127);m.prototype={constructor:m,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var k=this.getAxis("x"),f=this.getAxis("y");return k.contain(k.toLocalCoord(a[0]))&&f.contain(f.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoints:function(a,l){return a.mapArray(["x","y"],function(a,e){return this.dataToPoint([a,e])},l,this)},dataToPoint:function(a,l){var f=this.getAxis("x"),e=this.getAxis("y");return[f.toGlobalCoord(f.dataToCoord(a[0],l)),e.toGlobalCoord(e.dataToCoord(a[1],l))]},pointToData:function(a,l){var f=this.getAxis("x"),e=this.getAxis("y");return[f.coordToData(f.toLocalCoord(a[0]),l),e.coordToData(e.toLocalCoord(a[1]),l)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}};n.inherits(m,q);r.exports=m},function(r,n,a){function m(a){return this._axes[a]}var q=a(4);n=function(a){this._axes={};this._dimList=[];this.name=a||""};n.prototype={constructor:n,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return q.map(this._dimList,m,this)},getAxesByScale:function(a){a=a.toLowerCase();return q.filter(this.getAxes(),function(k){return k.scale.type===a})},addAxis:function(a){var k=a.dim;this._axes[k]=a;this._dimList.push(k)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,l){for(var f=this._dimList,e=a instanceof Array?[]:{},c=0;c<f.length;c++){var d=f[c];e[d]=this._axes[d][l](a[d])}return e}};r.exports=n},function(r,n,a){n=a(4);var m=a(100);a=function(a,k,l,f,e){m.call(this,a,k,l);this.type=f||"value";this.position=e||"bottom"};a.prototype={constructor:a,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var k=this.getExtent();k[0]=this.toGlobalCoord(k[0]);k[1]=this.toGlobalCoord(k[1]);a&&k[0]>k[1]&&k.reverse();return k},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(a){if("category"===this.type){var k=this.getLabelInterval();return"function"===typeof k&&!k(a,this.scale.getLabel(a))||a%(k+1)}},pointToData:function(a,k){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),k)},toLocalCoord:null,toGlobalCoord:null};n.inherits(a,m);r.exports=a},function(r,n,a){a(130);n=a(69);r.exports=n.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(r,n,a){function m(a,e){return e.type||(e.data?"category":"value")}var q=a(69),k=a(4);n=a(131);var l=q.extend({type:"cartesian2dAxis",axis:null,init:function(){l.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){l.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){l.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});k.merge(l.prototype,a(112));a={offset:0};n("x",l,m,a);n("y",l,m,a);r.exports=l},function(r,n,a){var m=a(132),q=a(4),k=a(69),l=a(71),f=["value","category","time","log"];r.exports=function(a,c,d,b){q.each(f,function(g){c.extend({type:a+"Axis."+g,mergeDefaultAndTheme:function(b,c){var h=this.layoutMode,e=h?l.getLayoutParams(b):{},f=c.getTheme();q.merge(b,f.get(g+"Axis"));q.merge(b,this.getDefaultOption());b.type=d(a,b);h&&l.mergeLayoutParam(b,e,h)},defaultOption:q.mergeAll([{},m[g+"Axis"],b],!0)})});k.registerSubTypeDefaulter(a+"Axis",q.curry(d,a))}},function(r,n,a){a=a(4);var m={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};n=a.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},m);var m=a.merge({boundaryGap:[0,0],splitNumber:5},m),q=a.defaults({scale:!0,min:"dataMin",max:"dataMax"},m);a=a.defaults({scale:!0,logBase:10},m);r.exports={categoryAxis:n,valueAxis:m,timeAxis:q,logAxis:a}},function(r,n,a){a(130);a(134)},function(r,n,a){var m=a(4),q=a(18),k=a(135);r=a(136);var l=a(138),f=k.ifIgnoreOnTick,e=k.getInterval,c=["axisLine","axisLabel","axisTick","axisName"],d=["splitArea","splitLine"],b=r.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(a,e,h,f){this.group.removeAll();var g=this._axisGroup;this._axisGroup=new q.Group;this.group.add(this._axisGroup);if(a.get("show")){var p=a.getCoordSysModel(),t=l.layout(p,a),u=new k(a,t);m.each(c,u.add,u);this._axisGroup.add(u.getGroup());m.each(d,function(b){if(a.get(b+".show"))this["_"+b](a,p,t.labelInterval)},this);q.groupTransition(g,this._axisGroup,a);b.superCall(this,"render",a,e,h,f)}},_splitLine:function(b,a,c){var d=b.axis;if(!d.scale.isBlank()){var g=b.getModel("splitLine"),h=g.getModel("lineStyle");b=h.get("color");c=e(g,c);b=m.isArray(b)?b:[b];a=a.coordinateSystem.getRect();for(var g=d.isHorizontal(),p=0,k=d.getTicksCoords(),l=d.scale.getTicks(),y=[],D=[],h=h.getLineStyle(),A=0;A<k.length;A++)if(!f(d,A,c)){var n=d.toGlobalCoord(k[A]);g?(y[0]=n,y[1]=a.y,D[0]=n,D[1]=a.y+a.height):(y[0]=a.x,y[1]=n,D[0]=a.x+a.width,D[1]=n);n=p++%b.length;this._axisGroup.add(new q.Line(q.subPixelOptimizeLine({anid:"line_"+l[A],shape:{x1:y[0],y1:y[1],x2:D[0],y2:D[1]},style:m.defaults({stroke:b[n]},h),silent:!0})))}}},_splitArea:function(b,a,c){var d=b.axis;if(!d.scale.isBlank()){var g=b.getModel("splitArea"),h=g.getModel("areaStyle");b=h.get("color");a=a.coordinateSystem.getRect();var p=d.getTicksCoords(),k=d.scale.getTicks(),l=d.toGlobalCoord(p[0]),y=d.toGlobalCoord(p[0]),D=0;c=e(g,c);h=h.getAreaStyle();b=m.isArray(b)?b:[b];for(g=1;g<p.length;g++)if(!f(d,g,c)){var A=d.toGlobalCoord(p[g]),n;d.isHorizontal()?(y=a.y,n=A-l,A=a.height):(l=a.x,n=a.width,A-=y);var r=D++%b.length;this._axisGroup.add(new q.Rect({anid:"area_"+k[g],shape:{x:l,y:y,width:n,height:A},style:m.defaults({fill:b[r]},h),silent:!0}));l+=n;y+=A}}}});b.extend({type:"xAxis"});b.extend({type:"yAxis"})},function(r,n,a){function m(b){var a={componentType:b.mainType};a[b.mainType+"Index"]=b.componentIndex;return a}function q(b,a,c,d){b=g(c-b.rotation);d=d[0]>d[1];d="start"===a&&!d||"start"!==a&&d;p(b-z/2)?(a=d?"bottom":"top",d="center"):p(b-1.5*z)?(a=d?"top":"bottom",d="center"):(a="middle",d=b<1.5*z&&b>z/2?d?"left":"right":d?"right":"left");return{rotation:b,textAlign:d,textVerticalAlign:a}}function k(b){var a=b.get("tooltip");return b.get("silent")||!(b.get("triggerEvent")||a&&a.show)}function l(b,a){var c=b.get("axisLabel.showMinLabel"),d=b.get("axisLabel.showMaxLabel"),g=a[0],h=a[1],e=a[a.length-1],p=a[a.length-2];!1===c?g.ignore=!0:null!=b.getMin()&&f(g,h)&&(c?h.ignore=!0:g.ignore=!0);!1===d?e.ignore=!0:null!=b.getMax()&&f(p,e)&&(d?p.ignore=!0:e.ignore=!0)}function f(b,a,c){c=b&&b.getBoundingRect().clone();var d=a&&a.getBoundingRect().clone();if(c&&d){var g=h.identity([]);h.rotate(g,g,-b.rotation);c.applyTransform(h.mul([],g,b.getLocalTransform()));d.applyTransform(h.mul([],g,a.getLocalTransform()));return c.intersect(d)}}var e=a(4),c=a(6),d=a(18),b=a(12);n=a(7);var g=n.remRadian,p=n.isRadianAroundZero;n=a(10);var h=a(11),t=n.applyTransform,w=e.retrieve,z=Math.PI;a=function(b,a){this.opt=a;this.axisModel=b;e.defaults(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new d.Group;var c=new d.Group({position:a.position.slice(),rotation:a.rotation});c.updateTransform();this._transform=c.transform;this._dumbGroup=c};a.prototype={constructor:a,hasBuilder:function(b){return!!v[b]},add:function(b){v[b].call(this)},getGroup:function(){return this.group}};var v={axisLine:function(){var b=this.opt,a=this.axisModel;if(a.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),g=this._transform,h=[c[0],0],c=[c[1],0];g&&(t(h,h,g),t(c,c,g));this.group.add(new d.Line(d.subPixelOptimizeLine({anid:"line",shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:e.extend({lineCap:"round"},a.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:b.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var b=this.axisModel,a=b.axis;if(b.get("axisTick.show")&&!a.scale.isBlank())for(var c=b.getModel("axisTick"),g=this.opt,h=c.getModel("lineStyle"),f=c.get("length"),p=y(c,g.labelInterval),c=a.getTicksCoords(c.get("alignWithLabel")),k=a.scale.getTicks(),l=[],u=[],m=this._transform,v=0;v<c.length;v++)if(!x(a,v,p)){var w=c[v];l[0]=w;l[1]=0;u[0]=w;u[1]=g.tickDirection*f;m&&(t(l,l,m),t(u,u,m));this.group.add(new d.Line(d.subPixelOptimizeLine({anid:"tick_"+k[v],shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:e.defaults(h.getLineStyle(),{stroke:b.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){var a=this.opt,c=this.axisModel,g=c.axis;if(w(a.axisLabelShow,c.get("axisLabel.show"))&&!g.scale.isBlank()){var h=c.getModel("axisLabel"),f=h.getModel("textStyle"),p=h.get("margin"),t=g.scale.getTicks(),v=c.getFormattedLabels(),h=(w(a.labelRotate,h.get("rotate"))||0)*z/180,q=u(a.rotation,h,a.labelDirection),y=c.get("data"),n=[],r=k(c),I=c.get("triggerEvent");e.each(t,function(h,e){if(!x(g,e,a.labelInterval)){var t=f;y&&y[h]&&y[h].textStyle&&(t=new b(y[h].textStyle,f,c.ecModel));var k=t.getTextColor()||c.get("axisLine.lineStyle.color"),l=[g.dataToCoord(h),a.labelOffset+a.labelDirection*p],u=g.scale.getLabel(h),t=new d.Text({anid:"label_"+h,style:{text:v[e],textAlign:t.get("align",!0)||q.textAlign,textVerticalAlign:t.get("baseline",!0)||q.textVerticalAlign,textFont:t.getFont(),fill:"function"===typeof k?k("category"===g.type?u:"value"===g.type?h+"":h,e):k},position:l,rotation:q.rotation,silent:r,z2:10});I&&(t.eventData=m(c),t.eventData.targetType="axisLabel",t.eventData.value=u);this._dumbGroup.add(t);t.updateTransform();n.push(t);this.group.add(t);t.decomposeTransform()}},this);l(c,n)}},axisName:function(){var b=this.opt,a=this.axisModel,g=w(b.axisName,a.get("name"));if(g){var h=a.get("nameLocation"),f=b.nameDirection,p=a.getModel("nameTextStyle"),t=a.get("nameGap")||0,l=this.axisModel.axis.getExtent(),v=l[0]>l[1]?-1:1,t=["start"===h?l[0]-v*t:"end"===h?l[1]+v*t:(l[0]+l[1])/2,"middle"===h?b.labelOffset+f*t:0],v=a.get("nameRotate");null!=v&&(v=v*z/180);var x;"middle"===h?h=u(b.rotation,null!=v?v:b.rotation,f):(h=q(b,h,v||0,l),x=b.axisNameAvailableWidth,null!=x&&(x=Math.abs(x/Math.sin(h.rotation)),!isFinite(x)&&(x=null)));f=p.getFont();l=a.get("nameTruncate",!0)||{};v=l.ellipsis;b=w(b.nameTruncateMaxWidth,l.maxWidth,x);b=null!=v&&null!=b?c.truncateText(g,b,f,v,{minChar:2,placeholder:l.placeholder}):g;x=a.get("tooltip",!0);l=a.mainType;v={componentType:l,name:g,$vars:["name"]};v[l+"Index"]=a.componentIndex;p=new d.Text({anid:"name",__fullText:g,__truncatedText:b,style:{text:b,textFont:f,fill:p.getTextColor()||a.get("axisLine.lineStyle.color"),textAlign:h.textAlign,textVerticalAlign:h.textVerticalAlign},position:t,rotation:h.rotation,silent:k(a),z2:1,tooltip:x&&x.show?e.extend({content:g,formatter:function(){return g},formatterParams:v},x):null});a.get("triggerEvent")&&(p.eventData=m(a),p.eventData.targetType="axisName",p.eventData.name=g);this._dumbGroup.add(p);p.updateTransform();this.group.add(p);p.decomposeTransform()}}},u=a.innerTextLayout=function(b,a,c){b=g(a-b);p(b)?(a=0<c?"top":"bottom",c="center"):p(b-z)?(a=0<c?"bottom":"top",c="center"):(a="middle",c=0<b&&b<z?0<c?"right":"left":0<c?"left":"right");return{rotation:b,textAlign:c,textVerticalAlign:a}},x=a.ifIgnoreOnTick=function(b,a,c){var d;b=b.scale;return"ordinal"===b.type&&("function"===typeof c?(d=b.getTicks()[a],!c(d,b.getLabel(d))):a%(c+1))},y=a.getInterval=function(b,a){var c=b.get("interval");if(null==c||"auto"==c)c=a;return c};r.exports=a},function(r,n,a){function m(a,e,c,d,b,g){if(c=k.getAxisPointerClass(a.axisPointerClass))(b=q.getAxisPointerModel(e))?(a._axisPointer||(a._axisPointer=new c)).render(e,b,d,g):((e=a._axisPointer)&&e.dispose(d,void 0),a._axisPointer=null)}var q=a(137),k=a(1).extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,e,c,d){this.axisPointerClass&&q.fixValue(a);k.superApply(this,"render",arguments);m(this,a,e,c,d,!0)},updateAxisPointer:function(a,e,c,d,b){m(this,a,e,c,d,!1)},remove:function(a,e){var c=this._axisPointer;c&&c.remove(e);k.superApply(this,"remove",arguments)},dispose:function(a,e){var c=this._axisPointer;c&&c.dispose(e,void 0);this._axisPointer=null;k.superApply(this,"dispose",arguments)}}),l=[];k.registerAxisPointerClass=function(a,e){if(l[a])throw Error("axisPointer "+a+" exists");l[a]=e};k.getAxisPointerClass=function(a){return a&&l[a]};r.exports=k},function(r,n,a){function m(b,a,e){var h=a.getComponent("tooltip"),f=a.getComponent("axisPointer"),p=f.get("link",!0)||[],t=[];c(e.getCoordinateSystems(),function(e){function k(c,d,h){var k=h.model.getModel("axisPointer",f),u=k.get("show");if(u&&("auto"!==u||c||k.get("handle.show"))){null==d&&(d=k.get("triggerTooltip"));var k=c?q(h,v,f,a,c,d):k,w=k.get("snap");c=g(h.model);u=d||w||"category"===h.type;d=b.axesInfo[c]={key:c,axis:h,coordSys:e,axisPointerModel:k,triggerTooltip:d,involveSeries:u,snap:w,useHandle:!!k.get("handle.show"),seriesModels:[]};m[c]=d;b.seriesInvolved|=u;a:{k=h.model;h=h.dim;for(u=0;u<p.length;u++)if(w=p[u]||{},l(w[h+"AxisId"],k.id)||l(w[h+"AxisIndex"],k.componentIndex)||l(w[h+"AxisName"],k.name)){h=u;break a}h=void 0}null!=h&&(k=t[h]||(t[h]={axesInfo:{}}),k.axesInfo[c]=d,k.mapper=p[h].mapper,d.linkGroup=k)}}if(e.axisPointerEnabled){var u=g(e.model),m=b.coordSysAxesInfo[u]={};b.coordSysMap[u]=e;var v=e.model.getModel("tooltip",h);c(e.getAxes(),d(k,!1,null));if(e.getTooltipAxes&&h&&v.get("show")){var u="axis"===v.get("trigger"),w="cross"===v.get("axisPointer.type"),x=e.getTooltipAxes(v.get("axisPointer.axis"));(u||w)&&c(x.baseAxes,d(k,w?"cross":!0,u));w&&c(x.otherAxes,d(k,"cross",!1))}}})}function q(b,a,d,g,k,l){var h=a.getModel("axisPointer"),p={};c("type snap lineStyle shadowStyle label animation animationDurationUpdate animationEasingUpdate z".split(" "),function(b){p[b]=f.clone(h.get(b))});p.snap="category"!==b.type&&!!l;"cross"===h.get("type")&&(p.type="line");a=p.label||(p.label={});null==a.show&&(a.show=!1);"cross"===k&&(a.show=!0,l||(k=p.lineStyle=h.get("crossStyle"))&&f.defaults(a.textStyle||(a.textStyle={}),k.textStyle));return b.model.getModel("axisPointer",new e(p,d,g))}function k(b,a){a.eachSeries(function(a){var d=a.coordinateSystem,h=a.get("tooltip.trigger",!0),e=a.get("tooltip.show",!0);d&&"none"!==h&&!1!==h&&"item"!==h&&!1!==e&&!1!==a.get("axisPointer.show",!0)&&c(b.coordSysAxesInfo[g(d.model)],function(b){var c=b.axis;d.getAxis(c.dim)===c&&(b.seriesModels.push(a),null==b.seriesDataCount&&(b.seriesDataCount=0),b.seriesDataCount+=a.getData().count())})},this)}function l(b,a){return"all"===b||f.isArray(b)&&0<=f.indexOf(b,a)||b===a}var f=a(4),e=a(12),c=f.each,d=f.curry,b={collect:function(b,a){var c={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};m(c,b,a);c.seriesInvolved&&k(c,b);return c},fixValue:function(a){if(a=b.getAxisInfo(a)){var c=a.axisPointerModel,d=a.axis.scale,g=c.option,e=c.get("status"),f=c.get("value");null!=f&&(f=d.parse(f));c=!!c.get("handle.show");null==e&&(g.status=c?"show":"hide");d=d.getExtent().slice();d[0]>d[1]&&d.reverse();if(null==f||f>d[1])f=d[1];f<d[0]&&(f=d[0]);g.value=f;c&&(g.status=a.axis.scale.isBlank()?"hide":"show")}},getAxisInfo:function(b){var a=(b.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return a&&a.axesInfo[g(b)]},getAxisPointerModel:function(a){return(a=b.getAxisInfo(a))&&a.axisPointerModel}},g=b.makeKey=function(b){return b.type+"||"+b.id};r.exports=b},function(r,n,a){var m=a(4);r.exports={layout:function(a,k,l){function f(b,a){var c=e.getAxis(b);return c.toGlobalCoord(c.dataToCoord(0))}l=l||{};var e=a.coordinateSystem;a=k.axis;var c={},d=a.position,b=a.onZero?"onZero":d,g=a.dim,p=e.getRect(),p=[p.x,p.x+p.width,p.y,p.y+p.height],h=k.get("offset")||0,h={x:{top:p[2]-h,bottom:p[3]+h},y:{left:p[0]-h,right:p[1]+h}};h.x.onZero=Math.max(Math.min(f("y"),h.x.bottom),h.x.top);h.y.onZero=Math.max(Math.min(f("x"),h.y.right),h.y.left);c.position=["y"===g?h.y[b]:p[0],"x"===g?h.x[b]:p[3]];c.rotation=Math.PI/2*("x"===g?0:1);c.labelDirection=c.tickDirection=c.nameDirection={top:-1,bottom:1,left:-1,right:1}[d];c.labelOffset=a.onZero?h[g][d]-h[g].onZero:0;k.get("axisTick.inside")&&(c.tickDirection=-c.tickDirection);m.retrieve(l.labelInside,k.get("axisLabel.inside"))&&(c.labelDirection=-c.labelDirection);k=k.get("axisLabel.rotate");c.labelRotate="top"===b?-k:k;c.labelInterval=a.getLabelInterval();c.z2=1;return c}}},function(r,n,a){r=a(4);a(125);a(140);a(142);n=a(145);var m=a(1);m.registerLayout(r.curry(n,"bar"));m.registerVisual(function(a){a.eachSeriesByType("bar",function(a){a.getData().setVisual("legendSymbol","roundRect")})});a(124)},function(r,n,a){r.exports=a(141).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"})},function(r,n,a){n=a(78);var m=a(109);r.exports=n.extend({type:"series.__base_bar__",getInitialData:function(a,k){return m(a.data,this,k)},getMarkerPosition:function(a){var k=this.coordinateSystem;if(k){a=k.dataToPoint(a,!0);var l=this.getData(),f=l.getLayout("offset"),l=l.getLayout("size"),k=k.getBaseAxis().isHorizontal()?0:1;a[k]+=f+l/2;return a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{normal:{},emphasis:{}}}})},function(r,n,a){function m(b,a,c){c.style.text="";f.updateProps(c,{shape:{width:0}},a,b,function(){c.parent&&c.parent.remove(c)})}function q(b,a,c){c.style.text="";f.updateProps(c,{shape:{r:c.shape.r0}},a,b,function(){c.parent&&c.parent.remove(c)})}function k(b,a,c,d,k,m,v,u){var g=a.getItemVisual(c,"color"),h=a.getItemVisual(c,"opacity"),p=d.getModel("itemStyle.normal");a=d.getModel("itemStyle.emphasis").getBarItemStyle();u||b.setShape("r",p.get("barBorderRadius")||0);b.useStyle(l.defaults({fill:g,opacity:h},p.getBarItemStyle()));(h=d.getShallow("cursor"))&&b.attr("cursor",h);k=v?0<k.height?"bottom":"top":0<k.width?"left":"right";u||e.setLabel(b.style,a,d,g,m,c,k);f.setHoverStyle(b,a)}var l=a(4),f=a(18),e=a(143),c=["itemStyle","normal","barBorderWidth"];l.extend(a(12).prototype,a(144));n=a(1).extendChartView({type:"bar",render:function(b,a,c){var d=b.get("coordinateSystem");"cartesian2d"===d||"polar"===d?this._render(b,a,c):console.warn("Only cartesian2d and polar supported for bar.");return this.group},dispose:l.noop,_render:function(a,c,h){var g=this.group,e=a.getData(),p=this._data,l=a.coordinateSystem;c=l.getBaseAxis();var u;"cartesian2d"===l.type?u=c.isHorizontal():"polar"===l.type&&(u="angle"===c.dim);var x=a.isAnimationEnabled()?a:null;e.diff(p).add(function(c){if(e.hasValue(c)){var h=e.getItemModel(c),f=b[l.type](e,c,h),p=d[l.type](e,c,h,f,u,x);e.setItemGraphicEl(c,p);g.add(p);k(p,e,c,h,f,a,u,"polar"===l.type)}}).update(function(c,h){var t=p.getItemGraphicEl(h);if(e.hasValue(c)){var m=e.getItemModel(c),v=b[l.type](e,c,m);t?f.updateProps(t,{shape:v},x,c):t=d[l.type](e,c,m,v,u,x,!0);e.setItemGraphicEl(c,t);g.add(t);k(t,e,c,m,v,a,u,"polar"===l.type)}else g.remove(t)}).remove(function(b){var a=p.getItemGraphicEl(b);"cartesian2d"===l.type?a&&m(b,x,a):a&&q(b,x,a)}).execute();this._data=e},remove:function(b,a){var c=this.group,d=this._data;b.get("animation")?d&&d.eachItemGraphicEl(function(a){"sector"===a.type?q(a.dataIndex,b,a):m(a.dataIndex,b,a)}):c.removeAll()}});var d={cartesian2d:function(b,a,c,d,e,k,m){b=new f.Rect({shape:l.extend({},d)});k&&(e=e?"height":"width",c={},b.shape[e]=0,c[e]=d[e],f[m?"updateProps":"initProps"](b,{shape:c},k,a));return b},polar:function(b,a,c,d,e,k,m){b=new f.Sector({shape:l.extend({},d)});if(k){c=e?"r":"endAngle";var g={};b.shape[c]=e?0:d.startAngle;g[c]=d[c];f[m?"updateProps":"initProps"](b,{shape:g},k,a)}return b}},b={cartesian2d:function(b,a,d){b=b.getItemLayout(a);d=d.get(c)||0;d=Math.min(d,Math.abs(b.width),Math.abs(b.height));a=0<b.width?1:-1;var g=0<b.height?1:-1;return{x:b.x+a*d/2,y:b.y+g*d/2,width:b.width-a*d,height:b.height-g*d}},polar:function(b,a,c){b=b.getItemLayout(a);return{cx:b.cx,cy:b.cy,r0:b.r0,r:b.r,startAngle:b.startAngle,endAngle:b.endAngle}}};r.exports=n},function(r,n,a){var m=a(4),q=a(18);r.exports={setLabel:function(a,l,f,e,c,d,b){var g=f.getModel("label.normal");f=f.getModel("label.emphasis");if(g.get("show")){var p=m.retrieve(c.getFormattedLabel(d,"normal"),c.getRawValue(d));q.setText(a,g,e);a.text=p;"outside"===a.textPosition&&(a.textPosition=b)}else a.text="";f.get("show")?(a=m.retrieve(c.getFormattedLabel(d,"emphasis"),c.getRawValue(d)),q.setText(l,f,e),l.text=a,"outside"===l.textPosition&&(l.textPosition=b)):l.text=""}}},function(r,n,a){var m=a(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);r.exports={getBarItemStyle:function(a){a=m.call(this,a);if(this.getBorderLineDash){var k=this.getBorderLineDash();k&&(a.lineDash=k)}return a}}},function(r,n,a){function m(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function q(a,d){var b=f.map(a,function(b){var a=b.getData(),c=b.coordinateSystem.getBaseAxis(),d=c.getExtent(),a="category"===c.type?c.getBandWidth():Math.abs(d[1]-d[0])/a.count(),d=e(b.get("barWidth"),a),g=e(b.get("barMaxWidth"),a),f=b.get("barGap"),k=b.get("barCategoryGap");return{bandWidth:a,barWidth:d,barMaxWidth:g,barGap:f,barCategoryGap:k,axisKey:c.dim+c.index,stackId:m(b)}});return k(b,d)}function k(a,d){var b={};f.each(a,function(a,c){var d=a.axisKey,g=a.bandWidth,g=b[d]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=g.stacks;b[d]=g;d=a.stackId;h[d]||g.autoWidthCount++;h[d]=h[d]||{width:0,maxWidth:0};var e=a.barWidth;e&&!h[d].width&&(e=Math.min(g.remainedWidth,e),h[d].width=e,g.remainedWidth-=e);(e=a.barMaxWidth)&&(h[d].maxWidth=e);h=a.barGap;null!=h&&(g.gap=h);h=a.barCategoryGap;null!=h&&(g.categoryGap=h)});var c={};f.each(b,function(b,a){c[a]={};var d=b.stacks,g=e(b.categoryGap,b.bandWidth),h=e(b.gap,1),p=b.remainedWidth,k=b.autoWidthCount,l=(p-g)/(k+(k-1)*h),l=Math.max(l,0);f.each(d,function(b,a){var c=b.maxWidth;c&&c<l&&(c=Math.min(c,p),b.width&&(c=Math.min(c,b.width)),p-=c,b.width=c,k--)});var l=(p-g)/(k+(k-1)*h),l=Math.max(l,0),m=0,q;f.each(d,function(b,a){b.width||(b.width=l);q=b;m+=b.width*(1+h)});q&&(m-=q.width*h);var n=-m/2;f.each(d,function(b,d){c[a][d]=c[a][d]||{offset:n,width:b.width};n+=b.width*(1+h)})});return c}function l(a,d,b){var c=q(f.filter(d.getSeriesByType(a),function(b){return!d.isSeriesFiltered(b)&&b.coordinateSystem&&"cartesian2d"===b.coordinateSystem.type})),e={},h={};d.eachSeriesByType(a,function(b){if("cartesian2d"===b.coordinateSystem.type){var a=b.getData(),d=b.coordinateSystem,g=d.getBaseAxis(),f=m(b),p=c[g.dim+g.index][f],k=p.offset,l=p.width,t=d.getOtherAxis(g),q=b.get("barMinHeight")||0,n=g.onZero?t.toGlobalCoord(t.dataToCoord(0)):t.getGlobalExtent()[0],r=d.dataToPoints(a,!0);e[f]=e[f]||[];h[f]=h[f]||[];a.setLayout({offset:k,size:l});a.each(t.dim,function(b,c){if(!isNaN(b)){e[f][c]||(e[f][c]={p:n,n:n},h[f][c]={p:n,n:n});var d=0<=b?"p":"n",g=r[c],p=e[f][c][d],u=h[f][c][d],m,v;t.isHorizontal()?(m=p,p=g[1]+k,v=g[0]-u,g=l,h[f][c][d]+=v,Math.abs(v)<q&&(v=(0>v?-1:1)*q),e[f][c][d]+=v):(m=g[0]+k,v=l,g=g[1]-u,h[f][c][d]+=g,Math.abs(g)<q&&(g=(0>=g?-1:1)*q),e[f][c][d]+=g);a.setItemLayout(c,{x:m,y:p,width:v,height:g})}},!0)}},this)}var f=a(4),e=a(7).parsePercent;l.getLayoutOnAxis=function(a,d){var b=[],c=a.axis;if("category"===c.type){for(var e=c.getBandWidth(),c=0;c<a.count;c++)b.push(f.defaults({bandWidth:e,axisKey:"axis0",stackId:"__ec_stack_"+c},a));b=k(b,d);e=[];for(c=0;c<a.count;c++){var h=b.axis0["__ec_stack_"+c];h.offsetCenter=h.offset+h.width/2;e.push(h)}return e}};r.exports=l},function(r,n,a){r=a(4);n=a(1);a(147);a(149);a(150)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);n.registerVisual(r.curry(a(151),"pie"));n.registerLayout(r.curry(a(152),"pie"));n.registerProcessor(r.curry(a(154),"pie"))},function(r,n,a){var m=a(98);n=a(4);var q=a(5),k=a(7),l=a(110),f=a(148),e=a(1).extendSeriesModel({type:"series.pie",init:function(a){e.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(a.data);this._defaultLabelLine(a)},mergeOption:function(a){e.superCall(this,"mergeOption",a);this.updateSelectedMap(this.option.data)},getInitialData:function(a,d){var b=l(["value"],a.data),b=new m(b,this);b.initData(a.data);return b},getDataParams:function(a){var c=this.getData(),b=e.superCall(this,"getDataParams",a),g=[];c.each("value",function(b){g.push(b)});b.percent=k.getPercentWithPrecision(g,a,c.hostModel.get("percentPrecision"));b.$vars.push("percent");return b},_defaultLabelLine:function(a){q.defaultEmphasis(a.labelLine,["show"]);var c=a.labelLine.normal,b=a.labelLine.emphasis;c.show=c.show&&a.label.normal.show;b.show=b.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});n.mixin(e,f);r.exports=e},function(r,n,a){var m=a(4);r.exports={updateSelectedMap:function(a){this._selectTargetMap=m.reduce(a||[],function(a,l){a.set(l.name,l);return a},m.createHashMap())},select:function(a){var k=this._selectTargetMap;a=k.get(a);"single"===this.get("selectedMode")&&k.each(function(a){a.selected=!1});a&&(a.selected=!0)},unSelect:function(a){(a=this._selectTargetMap.get(a))&&(a.selected=!1)},toggleSelected:function(a){var k=this._selectTargetMap.get(a);if(null!=k)return this[k.selected?"unSelect":"select"](a),k.selected},isSelected:function(a){return(a=this._selectTargetMap.get(a))&&a.selected}}},function(r,n,a){function m(a,d,b,g){var c=d.getData(),h=c.getName(this.dataIndex),e=d.get("selectedOffset");g.dispatchAction({type:"pieToggleSelect",from:a,name:h,seriesId:d.id});c.each(function(a){q(c.getItemGraphicEl(a),c.getItemLayout(a),d.isSelected(c.getName(a)),e,b)})}function q(a,d,b,g,e){d=(d.startAngle+d.endAngle)/2;b=b?g:0;b=[Math.cos(d)*b,Math.sin(d)*b];e?a.animate().when(200,{position:b}).start("bounceOut"):a.attr("position",b)}function k(a,d){function b(){h.ignore=h.hoverIgnore;k.ignore=k.hoverIgnore}function c(){h.ignore=h.normalIgnore;k.ignore=k.normalIgnore}f.Group.call(this);var e=new f.Sector({z2:2}),h=new f.Polyline,k=new f.Text;this.add(e);this.add(h);this.add(k);this.updateData(a,d,!0);this.on("emphasis",b).on("normal",c).on("mouseover",b).on("mouseout",c)}function l(a,d,b,g,f){g=g.getModel("textStyle");f="inside"===f||"inner"===f;return{fill:g.getTextColor()||(f?"#fff":a.getItemVisual(d,"color")),opacity:a.getItemVisual(d,"opacity"),textFont:g.getFont(),text:e.retrieve(a.hostModel.getFormattedLabel(d,b),a.getName(d))}}var f=a(18),e=a(4);n=k.prototype;n.updateData=function(a,d,b){function c(){h.stopAnimation(!0);h.animateTo({shape:{r:m.r+10}},300,"elasticOut")}function p(){h.stopAnimation(!0);h.animateTo({shape:{r:m.r}},300,"elasticOut")}var h=this.childAt(0),k=a.hostModel,l=a.getItemModel(d),m=a.getItemLayout(d),v=e.extend({},m);v.label=null;b?(h.setShape(v),"scale"===k.getShallow("animationType")?(h.shape.r=m.r0,f.initProps(h,{shape:{r:m.r}},k,d)):(h.shape.endAngle=m.startAngle,f.updateProps(h,{shape:{endAngle:m.endAngle}},k,d))):f.updateProps(h,{shape:v},k,d);b=l.getModel("itemStyle");v=a.getItemVisual(d,"color");h.useStyle(e.defaults({lineJoin:"bevel",fill:v},b.getModel("normal").getItemStyle()));h.hoverStyle=b.getModel("emphasis").getItemStyle();(b=l.getShallow("cursor"))&&h.attr("cursor",b);q(this,a.getItemLayout(d),l.get("selected"),k.get("selectedOffset"),k.get("animation"));h.off("mouseover").off("mouseout").off("emphasis").off("normal");if(l.get("hoverAnimation")&&k.isAnimationEnabled())h.on("mouseover",c).on("mouseout",p).on("emphasis",c).on("normal",p);this._updateLabel(a,d);f.setHoverStyle(this)};n._updateLabel=function(a,d){var b=this.childAt(1),c=this.childAt(2),e=a.hostModel,h=a.getItemModel(d),k=a.getItemLayout(d).label,m=a.getItemVisual(d,"color");f.updateProps(b,{shape:{points:k.linePoints||[[k.x,k.y],[k.x,k.y],[k.x,k.y]]}},e,d);f.updateProps(c,{style:{x:k.x,y:k.y}},e,d);c.attr({style:{textVerticalAlign:k.verticalAlign,textAlign:k.textAlign,textFont:k.font},rotation:k.rotation,origin:[k.x,k.y],z2:10});var e=h.getModel("label.normal"),k=h.getModel("label.emphasis"),q=h.getModel("labelLine.normal"),h=h.getModel("labelLine.emphasis"),v=e.get("position")||k.get("position");c.setStyle(l(a,d,"normal",e,v));c.ignore=c.normalIgnore=!e.get("show");c.hoverIgnore=!k.get("show");b.ignore=b.normalIgnore=!q.get("show");b.hoverIgnore=!h.get("show");b.setStyle({stroke:m,opacity:a.getItemVisual(d,"opacity")});b.setStyle(q.getModel("lineStyle").getLineStyle());c.hoverStyle=l(a,d,"emphasis",k,v);b.hoverStyle=h.getModel("lineStyle").getLineStyle();(c=q.get("smooth"))&&!0===c&&(c=.4);b.setShape({smooth:c})};e.inherits(k,f.Group);a=a(80).extend({type:"pie",init:function(){this._sectorGroup=new f.Group},render:function(a,d,b,g){if(!g||g.from!==this.uid){var c=a.getData(),h=this._data,f=this.group;d=d.get("animation");var l=!h,q=a.get("animationType"),v=e.curry(m,this.uid,a,d,b),u=a.get("selectedMode");c.diff(h).add(function(b){var a=new k(c,b);l&&"scale"!==q&&a.eachChild(function(b){b.stopAnimation(!0)});u&&a.on("click",v);c.setItemGraphicEl(b,a);f.add(a)}).update(function(b,a){var d=h.getItemGraphicEl(a);d.updateData(c,b);d.off("click");u&&d.on("click",v);f.add(d);c.setItemGraphicEl(b,d)}).remove(function(b){b=h.getItemGraphicEl(b);f.remove(b)}).execute();d&&l&&0<c.count()&&"scale"!==q&&(d=c.getItemLayout(0),b=Math.max(b.getWidth(),b.getHeight())/2,g=e.bind(f.removeClipPath,f),f.setClipPath(this._createClipPath(d.cx,d.cy,b,d.startAngle,d.clockwise,g,a)));this._data=c}},dispose:function(){},_createClipPath:function(a,d,b,g,e,h,k){a=new f.Sector({shape:{cx:a,cy:d,r0:0,r:b,startAngle:g,endAngle:g,clockwise:e}});f.initProps(a,{shape:{endAngle:g+(e?1:-1)*Math.PI*2}},k,h);return a},containPoint:function(a,d){var b=d.getData().getItemLayout(0);if(b){var c=a[0]-b.cx,e=a[1]-b.cy,c=Math.sqrt(c*c+e*e);return c<=b.r&&c>=b.r0}}});r.exports=a},function(r,n,a){var m=a(1),q=a(4);r.exports=function(a,l){q.each(l,function(f){f.update="updateView";m.registerAction(f,function(e,c){var d={};c.eachComponent({mainType:"series",subType:a,query:e},function(b){if(b[f.method])b[f.method](e.name);var a=b.getData();a.each(function(c){c=a.getName(c);d[c]=b.isSelected(c)||!1})});return{name:e.name,selected:d}})})}},function(r,n){r.exports=function(a,m){var q={};m.eachRawSeriesByType(a,function(a){var k=a.getRawData(),f={};if(!m.isSeriesFiltered(a)){var e=a.getData();e.each(function(a){var c=e.getRawIndex(a);f[c]=a});k.each(function(c){var d=f[c],b=null!=d&&e.getItemVisual(d,"color",!0);b?k.setItemVisual(c,"color",b):(b=k.getItemModel(c).get("itemStyle.normal.color")||a.getColorFromPalette(k.getName(c),q),k.setItemVisual(c,"color",b),null!=d&&e.setItemVisual(d,"color",b))})}})}},function(r,n,a){var m=a(7),q=m.parsePercent,k=a(153),l=a(4),f=2*Math.PI,e=Math.PI/180;r.exports=function(a,d,b,g){d.eachSeriesByType(a,function(a){var c=a.get("center"),d=a.get("radius");l.isArray(d)||(d=[0,d]);l.isArray(c)||(c=[c,c]);var g=b.getWidth(),p=b.getHeight(),v=Math.min(g,p),u=q(c[0],g),x=q(c[1],p),y=q(d[0],v/2),n=q(d[1],v/2),A=a.getData(),r=-a.get("startAngle")*e,B=a.get("minAngle")*e,L=0;A.each("value",function(b){!isNaN(b)&&L++});var E=A.getSum("value"),M=Math.PI/(E||L)*2,N=a.get("clockwise"),F=a.get("roseType"),J=a.get("stillShowZeroSum"),H=A.getDataExtent("value");H[0]=0;var K=f,I=0,G=r,O=N?1:-1;A.each("value",function(b,a){var c;if(isNaN(b))A.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:N,cx:u,cy:x,r0:y,r:F?NaN:n});else{c="area"!==F?0===E&&J?M:b*M:f/L;c<B?(c=B,K-=B):I+=b;var d=G+O*c;A.setItemLayout(a,{angle:c,startAngle:G,endAngle:d,clockwise:N,cx:u,cy:x,r0:y,r:F?m.linearMap(b,H,[y,n]):n});G=d}},!0);if(K<f&&L)if(.001>=K){var Q=f/L;A.each("value",function(b,a){if(!isNaN(b)){var c=A.getItemLayout(a);c.angle=Q;c.startAngle=r+O*a*Q;c.endAngle=r+O*(a+1)*Q}})}else M=K/I,G=r,A.each("value",function(b,a){if(!isNaN(b)){var c=A.getItemLayout(a),d=c.angle===B?B:b*M;c.startAngle=G;c.endAngle=G+O*d;G+=O*d}});k(a,n,g,p)})}},function(r,n,a){function m(a,f,e,c,d,b,g){function p(b,c,d,g){for(g=b;g<c;g++)if(a[g].y+=d,g>b&&g+1<c&&a[g+1].y>a[g].y+a[g].height){h(g,d/2);return}h(c-1,d/2)}function h(b,c){for(var d=b;0<=d&&!(a[d].y-=c,0<d&&a[d].y>a[d-1].y+a[d-1].height);d--);}function k(b,a,c,d,g,h){for(var e=a?Number.MAX_VALUE:0,f=0,p=b.length;f<p;f++)if("center"!==b[f].position){var k=Math.abs(b[f].y-d),l=b[f].len,t=b[f].len2,k=k<g+l?Math.sqrt((g+l+t)*(g+l+t)-k*k):Math.abs(b[f].x-c);a&&k>=e&&(k=e-10);!a&&k<=e&&(k=e+10);b[f].x=c+k*h;e=k}}a.sort(function(b,a){return b.y-a.y});var l=0;b=a.length;for(var m=[],v=[],u=0;u<b;u++)l=a[u].y-l,0>l&&p(u,b,-l,d),l=a[u].y+a[u].height;0>g-l&&h(b-1,l-g);for(u=0;u<b;u++)a[u].y>=e?v.push(a[u]):m.push(a[u]);k(m,!1,f,e,c,d);k(v,!0,f,e,c,d)}function q(a,f,e,c,d,b){for(var g=[],p=[],h=0;h<a.length;h++)a[h].x<f?g.push(a[h]):p.push(a[h]);m(p,f,e,c,1,d,b);m(g,f,e,c,-1,d,b);for(h=0;h<a.length;h++)if(e=a[h].linePoints)c=e[1][0]-e[2][0],e[2][0]=a[h].x<f?a[h].x+3:a[h].x-3,e[1][1]=e[2][1]=a[h].y,e[1][0]=e[2][0]+c}var k=a(8);r.exports=function(a,f,e,c){var d=a.getData(),b=[],g,p,h=!1;d.each(function(c){var e=d.getItemLayout(c),l=d.getItemModel(c),t=l.getModel("label.normal"),u=t.get("position")||l.get("label.emphasis.position"),m=l.getModel("labelLine.normal"),l=m.get("length"),m=m.get("length2"),q=(e.startAngle+e.endAngle)/2,n=Math.cos(q),A=Math.sin(q),r,B,L,E;g=e.cx;p=e.cy;var M="inside"===u||"inner"===u;if("center"===u)r=e.cx,B=e.cy,E="center";else{E=(M?(e.r+e.r0)/2*n:e.r*n)+g;var N=(M?(e.r+e.r0)/2*A:e.r*A)+p;r=E+3*n;B=N+3*A;if(!M){L=E+n*(l+f-e.r);var A=N+A*(l+f-e.r),F=L+(0>n?-1:1)*m;r=F+(0>n?-5:5);B=A;L=[[E,N],[L,A],[F,A]]}E=M?"center":0<n?"left":"right"}N=t.getModel("textStyle").getFont();t=t.get("rotate")?0>n?-q+Math.PI:-q:0;c=a.getFormattedLabel(c,"normal")||d.getName(c);c=k.getBoundingRect(c,N,E,"top");h=!!t;e.label={x:r,y:B,position:u,height:c.height,len:l,len2:m,linePoints:L,textAlign:E,verticalAlign:"middle",font:N,rotation:t};M||b.push(e.label)});!h&&a.get("avoidLabelOverlap")&&q(b,g,p,f,e,c)}},function(r,n){r.exports=function(a,m){var q=m.findComponents({mainType:"legend"});q&&q.length&&m.eachSeriesByType(a,function(a){var k=a.getData();k.filterSelf(function(a){a=k.getName(a);for(var e=0;e<q.length;e++)if(!q[e].isSelected(a))return!1;return!0},this)},this)}},function(r,n,a){r=a(4);n=a(1);a(156);a(157);n.registerVisual(r.curry(a(121),"scatter","circle",null));n.registerLayout(r.curry(a(122),"scatter"));a(124)},function(r,n,a){var m=a(109);n=a(78);r.exports=n.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,k){return m(a.data,this,k)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2E3,itemStyle:{normal:{opacity:.8}}}})},function(r,n,a){var m=a(116),q=a(158);a(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new m;this._largeSymbolDraw=new q},render:function(a,l,f){l=a.getData();f=this._largeSymbolDraw;var e=this._normalSymbolDraw,c=this.group;this._symbolDraw=a=a.get("large")&&l.count()>a.get("largeThreshold")?f:e;a.updateData(l);c.add(a.group);c.remove(a===f?e.group:f.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,l){this._symbolDraw&&this._symbolDraw.remove(l,!0)},dispose:function(){}})},function(r,n,a){function m(){this.group=new q.Group;this._symbolEl=new l({})}var q=a(18),k=a(111),l=q.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,e){for(var c=e.points,d=e.sizes,b=this.symbolProxy,g=b.shape,f=0;f<c.length;f++){var h=c[f];if(!isNaN(h[0])&&!isNaN(h[1])){var k=d[f];4>k[0]?a.rect(h[0]-k[0]/2,h[1]-k[1]/2,k[0],k[1]):(g.x=h[0]-k[0]/2,g.y=h[1]-k[1]/2,g.width=k[0],g.height=k[1],b.buildPath(a,g,!0))}}},findDataIndex:function(a,e){for(var c=this.shape,d=c.points,c=c.sizes,b=d.length-1;0<=b;b--){var g=d[b],f=c[b],h=g[0]-f[0]/2,g=g[1]-f[1]/2;if(a>=h&&e>=g&&a<=h+f[0]&&e<=g+f[1])return b}return-1}});n=m.prototype;n.updateData=function(a){this.group.removeAll();var e=this._symbolEl,c=a.hostModel;e.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){b=a.getItemVisual(b,"symbolSize");b instanceof Array||(b=[b,b]);return b})});e.symbolProxy=k.createSymbol(a.getVisual("symbol"),0,0,0,0);e.setColor=e.symbolProxy.setColor;e.useStyle(c.getModel("itemStyle.normal").getItemStyle(["color"]));var d=a.getVisual("color");d&&e.setColor(d);e.seriesIndex=c.seriesIndex;e.on("mousemove",function(b){e.dataIndex=null;b=e.findDataIndex(b.offsetX,b.offsetY);0<=b&&(e.dataIndex=b)});this.group.add(e)};n.updateLayout=function(a){a=a.getData();this._symbolEl.setShape({points:a.mapArray(a.getItemLayout)})};n.remove=function(){this.group.removeAll()};r.exports=m},function(r,n,a){r=a(4);n=a(1);a(160);a(165);a(166);n.registerVisual(r.curry(a(151),"radar"));n.registerVisual(r.curry(a(121),"radar","circle",null));n.registerLayout(a(167));n.registerProcessor(r.curry(a(154),"radar"));n.registerPreprocessor(a(168))},function(r,n,a){a(161);a(163);a(164)},function(r,n,a){function m(a,d,b){this._model=a;this.dimensions=[];this._indicatorAxes=q.map(a.getIndicatorModels(),function(b,a){var c="indicator_"+a,d=new k(c,new l);d.name=b.get("name");d.model=b;b.axis=d;this.dimensions.push(c);return d},this);this.resize(a,b)}var q=a(4),k=a(162),l=a(104),f=a(7),e=a(101);m.prototype.getIndicatorAxes=function(){return this._indicatorAxes};m.prototype.dataToPoint=function(a,d){return this.coordToPoint(this._indicatorAxes[d].dataToCoord(a),d)};m.prototype.coordToPoint=function(a,d){var b=this._indicatorAxes[d].angle;return[this.cx+a*Math.cos(b),this.cy-a*Math.sin(b)]};m.prototype.pointToData=function(a){var c=a[0]-this.cx,b=a[1]-this.cy;a=Math.sqrt(c*c+b*b);for(var c=Math.atan2(-(b/a),c/a),b=Infinity,g,e=-1,h=0;h<this._indicatorAxes.length;h++){var f=this._indicatorAxes[h],k=Math.abs(c-f.angle);k<b&&(g=f,e=h,b=k)}return[e,+(g&&g.coodToData(a))]};m.prototype.resize=function(a,d){var b=a.get("center"),c=d.getWidth(),e=d.getHeight(),h=Math.min(c,e)/2;this.cx=f.parsePercent(b[0],c);this.cy=f.parsePercent(b[1],e);this.startAngle=a.get("startAngle")*Math.PI/180;this.r=f.parsePercent(a.get("radius"),h);q.each(this._indicatorAxes,function(b,a){b.setExtent(0,this.r);var c=this.startAngle+a*Math.PI*2/this._indicatorAxes.length,c=Math.atan2(Math.sin(c),Math.cos(c));b.angle=c},this)};m.prototype.update=function(a,d){function b(b){var a=Math.pow(10,Math.floor(Math.log(b)/Math.LN10));b/=a;return(2===b?5:2*b)*a}var c=this._indicatorAxes,p=this._model;q.each(c,function(b){b.scale.setExtent(Infinity,-Infinity)});a.eachSeriesByType("radar",function(b,d){if("radar"===b.get("coordinateSystem")&&a.getComponent("radar",b.get("radarIndex"))===p){var g=b.getData();q.each(c,function(b){b.scale.unionExtentFromData(g,b.dim)})}},this);var h=p.get("splitNumber");q.each(c,function(a,c){var d=e.getScaleExtent(a.scale,a.model);e.niceScaleExtent(a.scale,a.model);var g=a.model,p=a.scale,k=g.getMin(),l=g.getMax(),g=p.getInterval();if(null!=k&&null!=l)p.setExtent(+k,+l),p.setInterval((l-k)/h);else if(null!=k){do l=k+g*h,p.setExtent(+k,l),p.setInterval(g),g=b(g);while(l<d[1]&&isFinite(l)&&isFinite(d[1]))}else if(null!=l){do k=l-g*h,p.setExtent(k,+l),p.setInterval(g),g=b(g);while(k>d[0]&&isFinite(k)&&isFinite(d[0]))}else p.getTicks().length-1>h&&(g=b(g)),d=Math.round((d[0]+d[1])/2/g)*g,k=Math.round(h/2),p.setExtent(f.round(d-k*g),f.round(d+(h-k)*g)),p.setInterval(g)})};m.dimensions=[];m.create=function(a,d){var b=[];a.eachComponent("radar",function(c){var g=new m(c,a,d);b.push(g);c.coordinateSystem=g});a.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=b[a.get("radarIndex")||0])});return b};a(76).register("radar",m);r.exports=m},function(r,n,a){function m(a,l,f){q.call(this,a,l,f);this.type="value";this.angle=0;this.name=""}n=a(4);var q=a(100);n.inherits(m,q);r.exports=m},function(r,n,a){n=a(132).valueAxis;var m=a(12),q=a(4),k=a(112);a=a(1).extendComponentModel({type:"radar",optionUpdated:function(){var a=this.get("boundaryGap"),f=this.get("splitNumber"),e=this.get("scale"),c=this.get("axisLine"),d=this.get("axisTick"),b=this.get("axisLabel"),g=this.get("name.textStyle"),p=this.get("name.show"),h=this.get("name.formatter"),t=this.get("nameGap"),w=this.get("triggerEvent"),z=q.map(this.get("indicator")||[],function(l){null!=l.max&&0<l.max&&!l.min?l.min=0:null!=l.min&&0>l.min&&!l.max&&(l.max=0);l=q.merge(q.clone(l),{boundaryGap:a,splitNumber:f,scale:e,axisLine:c,axisTick:d,axisLabel:b,name:l.text,nameLocation:"end",nameGap:t,nameTextStyle:g,triggerEvent:w},!1);p||(l.name="");if("string"===typeof h){var u=l.name;l.name=h.replace("{value}",null!=u?u:"")}else"function"===typeof h&&(l.name=h(l.name,l));l=q.extend(new m(l,null,this.ecModel),k);l.mainType="radar";l.componentIndex=this.componentIndex;return l},this);this.getIndicatorModels=function(){return z}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:q.merge({lineStyle:{color:"#bbb"}},n.axisLine),axisLabel:q.defaults({show:!1},n.axisLabel),axisTick:q.defaults({show:!1},n.axisTick),splitLine:q.defaults({show:!0},n.splitLine),splitArea:q.defaults({show:!0},n.splitArea),indicator:[]}});r.exports=a},function(r,n,a){var m=a(135),q=a(4),k=a(18),l=["axisLine","axisLabel","axisTick","axisName"];r.exports=a(1).extendComponentView({type:"radar",render:function(a,e,c){this.group.removeAll();this._buildAxes(a);this._buildSplitLineAndArea(a)},_buildAxes:function(a){var e=a.coordinateSystem;a=e.getIndicatorAxes();a=q.map(a,function(a){return new m(a.model,{position:[e.cx,e.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});q.each(a,function(a){q.each(l,a.add,a);this.group.add(a.getGroup())},this)},_buildSplitLineAndArea:function(a){function e(b,a,c){a=c%a.length;b[a]=b[a]||[];return a}var c=a.coordinateSystem,d=c.getIndicatorAxes();if(d.length){var b=a.get("shape"),g=a.getModel("splitLine"),f=a.getModel("splitArea");a=g.getModel("lineStyle");var h=f.getModel("areaStyle"),g=g.get("show"),f=f.get("show"),l=a.get("color"),m=h.get("color"),l=q.isArray(l)?l:[l],m=q.isArray(m)?m:[m],z=[],v=[];if("circle"===b)for(var d=d[0].getTicksCoords(),u=c.cx,x=c.cy,b=0;b<d.length;b++){if(g){var y=e(z,l,b);z[y].push(new k.Circle({shape:{cx:u,cy:x,r:d[b]}}))}f&&b<d.length-1&&(y=e(v,m,b),v[y].push(new k.Ring({shape:{cx:u,cy:x,r0:d[b],r:d[b+1]}})))}else for(var n,u=q.map(d,function(b,a){var d=b.getTicksCoords();n=null==n?d.length-1:Math.min(d.length-1,n);return q.map(d,function(b){return c.coordToPoint(b,a)})}),x=[],b=0;b<=n;b++){for(var A=[],y=0;y<d.length;y++)A.push(u[y][b]);A[0]?A.push(A[0].slice()):console.error("Can't draw value axis "+b);g&&(y=e(z,l,b),z[y].push(new k.Polyline({shape:{points:A}})));f&&x&&(y=e(v,m,b-1),v[y].push(new k.Polygon({shape:{points:A.concat(x)}})));x=A.slice().reverse()}var r=a.getLineStyle(),B=h.getAreaStyle();q.each(v,function(b,a){this.group.add(k.mergePath(b,{style:q.defaults({stroke:"none",fill:m[a%m.length]},B),silent:!0}))},this);q.each(z,function(b,a){this.group.add(k.mergePath(b,{style:q.defaults({fill:"none",stroke:l[a%l.length]},r),silent:!0}))},this)}}})},function(r,n,a){n=a(78);var m=a(98),q=a(110),k=a(4),l=a(6).encodeHTML,f=n.extend({type:"series.radar",dependencies:["radar"],init:function(a){f.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(a,c){var d=a.data||[],b=q([],d,{extraPrefix:"indicator_",extraFromZero:!0}),b=new m(b,this);b.initData(d);return b},formatTooltip:function(a){var c=this.getRawValue(a),d=this.coordinateSystem.getIndicatorAxes();a=this.getData().getName(a);return l(""===a?this.name:a)+"\x3cbr/\x3e"+k.map(d,function(b,a){return l(b.name+" : "+c[a])}).join("\x3cbr /\x3e")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});r.exports=f},function(r,n,a){function m(a){k.isArray(a)||(a=[+a,+a]);return a}var q=a(18),k=a(4),l=a(111);r.exports=a(1).extendChartView({type:"radar",render:function(a,e,c){function d(b,c,d,g,e,h){d.removeAll();for(var f=0;f<c.length-1;f++){var p;p=g;var k=e,t=p.getItemVisual(k,"symbol")||"circle",u=p.getItemVisual(k,"color");"none"===t?p=void 0:(t=l.createSymbol(t,-.5,-.5,1,1,u),t.attr({style:{strokeNoScale:!0},z2:100,scale:m(p.getItemVisual(k,"symbolSize"))}),p=t);p&&(p.__dimIdx=f,b[f]?(p.attr("position",b[f]),q[h?"initProps":"updateProps"](p,{position:c[f]},a,e)):p.attr("position",c[f]),d.add(p))}}function b(b){return k.map(b,function(b){return[g.cx,g.cy]})}var g=a.coordinateSystem,f=this.group,h=a.getData(),t=this._data;h.diff(t).add(function(c){var g=h.getItemLayout(c);if(g){var e=new q.Polygon,f=new q.Polyline,p={shape:{points:g}};e.shape.points=b(g);f.shape.points=b(g);q.initProps(e,p,a,c);q.initProps(f,p,a,c);var p=new q.Group,k=new q.Group;p.add(f);p.add(e);p.add(k);d(f.shape.points,g,k,h,c,!0);h.setItemGraphicEl(c,p)}}).update(function(b,c){var g=t.getItemGraphicEl(c),e=g.childAt(0),f=g.childAt(1),p=g.childAt(2),k={shape:{points:h.getItemLayout(b)}};k.shape.points&&(d(e.shape.points,k.shape.points,p,h,b,!1),q.updateProps(e,k,a),q.updateProps(f,k,a),h.setItemGraphicEl(b,g))}).remove(function(b){f.remove(t.getItemGraphicEl(b))}).execute();h.eachItemGraphicEl(function(b,c){function d(){l.attr("ignore",n)}function g(){l.attr("ignore",z)}var e=h.getItemModel(c),p=b.childAt(0),l=b.childAt(1),t=b.childAt(2),m=h.getItemVisual(c,"color");f.add(b);p.useStyle(k.defaults(e.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:m}));p.hoverStyle=e.getModel("lineStyle.emphasis").getLineStyle();var p=e.getModel("areaStyle.normal"),w=e.getModel("areaStyle.emphasis"),z=p.isEmpty()&&p.parentModel.isEmpty(),n=w.isEmpty()&&w.parentModel.isEmpty(),n=n&&z;l.ignore=z;l.useStyle(k.defaults(p.getAreaStyle(),{fill:m,opacity:.7}));l.hoverStyle=w.getAreaStyle();var r=e.getModel("itemStyle.normal").getItemStyle(["color"]),N=e.getModel("itemStyle.emphasis").getItemStyle(),F=e.getModel("label.normal"),J=e.getModel("label.emphasis");t.eachChild(function(b){b.setStyle(r);b.hoverStyle=k.clone(N);var d=h.get(h.dimensions[b.__dimIdx],c);q.setText(b.style,F,m);b.setStyle({text:F.get("show")?k.retrieve(a.getFormattedLabel(c,"normal",null,b.__dimIdx),d):""});q.setText(b.hoverStyle,J,m);b.hoverStyle.text=J.get("show")?k.retrieve(a.getFormattedLabel(c,"emphasis",null,b.__dimIdx),d):""});b.off("mouseover").off("mouseout").off("normal").off("emphasis");b.on("emphasis",d).on("mouseover",d).on("normal",g).on("mouseout",g);q.setHoverStyle(b)});this._data=h},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}})},function(r,n){r.exports=function(a){a.eachSeriesByType("radar",function(a){function m(a,d){l[d]=l[d]||[];l[d][e]=f.dataToPoint(a,e)}var k=a.getData(),l=[],f=a.coordinateSystem;if(f){for(var e=0;e<f.getIndicatorAxes().length;e++)k.each(k.dimensions[e],m);k.each(function(a){l[a][0]&&l[a].push(l[a][0].slice());k.setItemLayout(a,l[a])})}})}},function(r,n,a){var m=a(4);r.exports=function(a){var k=a.polar;if(k){m.isArray(k)||(k=[k]);var l=[];m.each(k,function(f,e){f.indicator?(f.type&&!f.shape&&(f.shape=f.type),a.radar=a.radar||[],m.isArray(a.radar)||(a.radar=[a.radar]),a.radar.push(f)):l.push(f)});a.polar=l}m.each(a.series,function(a){"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}},function(r,n,a){r=a(1);n=r.PRIORITY;a(170);a(181);a(187);a(171);r.registerLayout(a(189));r.registerVisual(a(190));r.registerProcessor(n.PROCESSOR.STATISTIC,a(191));r.registerPreprocessor(a(192));a(150)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(r,n,a){var m=a(98);n=a(78);var q=a(4),k=a(110),l=a(6),f=l.encodeHTML,e=l.addCommas,l=a(148),c=a(171),d=n.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(b){this.option=b=this._fillOption(b,this.getMapType());d.superApply(this,"init",arguments);this.updateSelectedMap(b.data)},getInitialData:function(b){var a=k(["value"],b.data||[]),a=new m(a,this);a.initData(b.data);return a},mergeOption:function(b){b.data&&(b=this._fillOption(b,this.getMapType()));d.superCall(this,"mergeOption",b);this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var b=this.option.geoIndex;return null!=b?this.dependentModels.geo[b]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(b,a){b=q.extend({},b);b.data=c.getFilledRegions(b.data,a);return b},getRawValue:function(b){return this.getData().get("value",b)},getRegionModel:function(b){var a=this.getData();return a.getItemModel(a.indexOfName(b))},formatTooltip:function(b){var a=this.getData(),c=e(this.getRawValue(b));b=a.getName(b);for(var a=this.seriesGroup,d=[],k=0;k<a.length;k++){var l=a[k].originalData.indexOfName(b);isNaN(a[k].originalData.get("value",l))||d.push(f(a[k].name))}return d.join(", ")+"\x3cbr /\x3e"+f(b+" : "+c)},getTooltipPosition:function(b){if(null!=b){var a=this.getData().getName(b);b=this.coordinateSystem;return(a=b.getRegion(a))&&b.dataToPoint(a.center)}},setZoom:function(b){this.option.zoom=b},setCenter:function(b){this.option.center=b},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});q.mixin(d,l);r.exports=d},function(r,n,a){function m(b,a){var c=b.get("boundingCoords");if(null!=c){var d=c[0],c=c[1];isNaN(d[0])||isNaN(d[1])||isNaN(c[0])||isNaN(c[1])?console.error("Invalid boundingCoords"):this.setBoundingRect(d[0],d[1],c[0]-d[0],c[1]-d[1])}var g=this.getBoundingRect(),d=b.get("layoutCenter"),c=b.get("layoutSize"),f=a.getWidth(),p=a.getHeight(),k=b.get("aspectScale")||.75,g=g.width/g.height*k,k=!1;d&&c&&(d=[e.parsePercent(d[0],f),e.parsePercent(d[1],p)],c=e.parsePercent(c,Math.min(f,p)),isNaN(d[0])||isNaN(d[1])||isNaN(c)?console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):k=!0);k?(f={},1<g?(f.width=c,f.height=c/g):(f.height=c,f.width=c*g),f.y=d[1]-f.height/2,f.x=d[0]-f.width/2):(d=b.getBoxLayoutParams(),d.aspect=g,f=l.getLayoutRect(d,{width:f,height:p}));this.setViewRect(f.x,f.y,f.width,f.height);this.setCenter(b.get("center"));this.setZoom(b.get("zoom"))}function q(b,a){f.each(a.get("geoCoord"),function(a,c){b.addGeoCoord(c,a)})}var k=a(172),l=a(71),f=a(4),e=a(7),c={},d=function(b){console.error("Map "+b+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")},b={dimensions:k.prototype.dimensions,create:function(b,a){var g=[];b.eachComponent("geo",function(b,e){var h=b.get("map"),f=c[h];f||d(h);h=new k(h+e,h,f&&f.geoJson,f&&f.specialAreas,b.get("nameMap"));h.zoomLimit=b.get("scaleLimit");g.push(h);q(h,b);b.coordinateSystem=h;h.model=b;h.resize=m;h.resize(b,a)});b.eachSeries(function(b){if("geo"===b.get("coordinateSystem")){var a=b.get("geoIndex")||0;b.coordinateSystem=g[a]}});var e={};b.eachSeriesByType("map",function(b){if(!b.getHostGeoModel()){var a=b.getMapType();e[a]=e[a]||[];e[a].push(b)}});f.each(e,function(b,e){var h=c[e];h||d(b[0].get("map"));var p=f.map(b,function(b){return b.get("nameMap")}),l=new k(e,e,h&&h.geoJson,h&&h.specialAreas,f.mergeAll(p));l.zoomLimit=f.retrieve.apply(null,f.map(b,function(b){return b.get("scaleLimit")}));g.push(l);l.resize=m;l.resize(b[0],a);f.each(b,function(b){b.coordinateSystem=l;q(l,b)})});return g},registerMap:function(b,a,d){a.geoJson&&!a.features&&(d=a.specialAreas,a=a.geoJson);"string"===typeof a&&(a="undefined"!==typeof JSON&&JSON.parse?JSON.parse(a):(new Function("return ("+a+");"))());c[b]={geoJson:a,specialAreas:d}},getMap:function(b){return c[b]},getFilledRegions:function(a,c){var g=(a||[]).slice(),e=b.getMap(c),p=e&&e.geoJson;if(!p)return d(c),a;for(var e=f.createHashMap(),p=p.features,k=0;k<g.length;k++)e.set(g[k].name,g[k]);for(k=0;k<p.length;k++){var l=p[k].properties.name;e.get(l)||g.push({name:l})}return g}};n=a(1);n.registerMap=b.registerMap;n.getMap=b.getMap;n.parseGeoJSON=a(173);n.loadMap=function(){};n.registerCoordinateSystem("geo",b);r.exports=b},function(r,n,a){function m(a,b,c,f,h){e.call(this,a);this.map=b;this._nameCoordMap=l.createHashMap();this.loadGeoJson(c,f,h)}function q(a,b,c,e){b=c.geoModel;c=c.seriesModel;c=b?b.coordinateSystem:c?c.coordinateSystem||(c.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return c===this?c[a](e):null}var k=a(173),l=a(4),f=a(9),e=a(176),c=[a(177),a(178),a(179),a(180)];m.prototype={constructor:m,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return!0;return!1},loadGeoJson:function(a,b,g){try{this.regions=a?k(a):[]}catch(w){throw"Invalid geoJson format\n"+w.message;}b=b||{};g=g||{};a=this.regions;for(var d=l.createHashMap(),e=0;e<a.length;e++){var f=a[e].name,f=g.hasOwnProperty(f)?g[f]:f;a[e].name=f;d.set(f,a[e]);this.addGeoCoord(f,a[e].center);(f=b[f])&&a[e].transformTo(f.left,f.top,f.width,f.height)}this._regionsMap=d;this._rect=null;l.each(c,function(b){b(this)},this)},transformTo:function(a,b,c,e){var d=this.getBoundingRect(),d=d.clone();d.y=-d.y-d.height;var g=this._viewTransform;g.transform=d.calculateTransform(new f(a,b,c,e));g.decomposeTransform();a=g.scale;a[1]=-a[1];g.updateTransform();this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return b[c]},addGeoCoord:function(a,b){this._nameCoordMap.set(a,b)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},getBoundingRect:function(){if(this._rect)return this._rect;for(var a,b=this.regions,c=0;c<b.length;c++){var e=b[c].getBoundingRect();a=a||e.clone();a.union(e)}return this._rect=a||new f(0,0,0,0)},dataToPoints:function(a){var b=[];return a.mapArray(["lng","lat"],function(a,c){b[0]=a;b[1]=c;return this.dataToPoint(b)},this)},dataToPoint:function(a){"string"===typeof a&&(a=this.getGeoCoord(a));if(a)return e.prototype.dataToPoint.call(this,a)},convertToPixel:l.curry(q,"dataToPoint"),convertFromPixel:l.curry(q,"pointToData")};l.mixin(m,e);r.exports=m},function(r,n,a){function m(a){if(!a.UTF8Encoding)return a;var e=a.UTF8Scale;null==e&&(e=1024);for(var c=a.features,d=0;d<c.length;d++)for(var b=c[d].geometry,g=b.coordinates,f=b.encodeOffsets,h=0;h<g.length;h++){var k=g[h];if("Polygon"===b.type)g[h]=q(k,f[h],e);else if("MultiPolygon"===b.type)for(var l=0;l<k.length;l++)k[l]=q(k[l],f[h][l],e)}a.UTF8Encoding=!1;return a}function q(a,e,c){var d=[],b=e[0];e=e[1];for(var g=0;g<a.length;g+=2){var f=a.charCodeAt(g)-64,h=a.charCodeAt(g+1)-64,f=f>>1^-(f&1),h=h>>1^-(h&1),f=f+b,h=h+e,b=f;e=h;d.push([f/c,h/c])}return d}var k=a(4),l=a(174);r.exports=function(a){m(a);return k.map(k.filter(a.features,function(a){return a.geometry&&a.properties&&0<a.geometry.coordinates.length}),function(a){var c=a.properties;a=a.geometry;var d=a.coordinates,b=[];"Polygon"===a.type&&b.push({type:"polygon",exterior:d[0],interiors:d.slice(1)});"MultiPolygon"===a.type&&k.each(d,function(a){a[0]&&b.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})});a=new l(c.name,b,c.cp);a.properties=c;return a})}},function(r,n,a){function m(a,c,d){this.name=a;this.geometries=c;d?d=[d[0],d[1]]:(a=this.getBoundingRect(),d=[a.x+a.width/2,a.y+a.height/2]);this.center=d}var q=a(175),k=a(9),l=a(38),f=a(10);m.prototype={constructor:m,properties:null,getBoundingRect:function(){var a=this._rect;if(a)return a;for(var c=Number.MAX_VALUE,a=[c,c],c=[-c,-c],d=[],b=[],g=this.geometries,p=0;p<g.length;p++)"polygon"===g[p].type&&(l.fromPoints(g[p].exterior,d,b),f.min(a,a,d),f.max(c,c,b));0===p&&(a[0]=a[1]=c[0]=c[1]=0);return this._rect=new k(a[0],a[1],c[0]-a[0],c[1]-a[1])},contain:function(a){var c=this.getBoundingRect(),d=this.geometries;if(!c.contain(a[0],a[1]))return!1;var c=0,b=d.length;a:for(;c<b;c++)if("polygon"===d[c].type){var g=d[c].interiors;if(q.contain(d[c].exterior,a[0],a[1])){for(var e=0;e<(g?g.length:0);e++)if(q.contain(g[e]))continue a;return!0}}return!1},transformTo:function(a,c,d,b){var g=this.getBoundingRect(),e=g.width/g.height;d?b||(b=d/e):d=e*b;a=new k(a,c,d,b);g=g.calculateTransform(a);c=this.geometries;for(d=0;d<c.length;d++)if("polygon"===c[d].type){var h=c[d].exterior;b=c[d].interiors;for(e=0;e<h.length;e++)f.applyTransform(h[e],h[e],g);for(h=0;h<(b?b.length:0);h++)for(e=0;e<b[h].length;e++)f.applyTransform(b[h][e],b[h][e],g)}g=this._rect;g.copy(a);this.center=[g.x+g.width/2,g.y+g.height/2]}};r.exports=m},function(r,n,a){var m=a(45);r.exports={contain:function(a,k,l){var f=0,e=a[0];if(!e)return!1;for(var c=1;c<a.length;c++)var d=a[c],f=f+m(e[0],e[1],d[0],d[1],k,l),e=d;a=a[0];1E-8>Math.abs(e[0]-a[0])&&1E-8>Math.abs(e[1]-a[1])||(f+=m(e[0],e[1],a[0],a[1],k,l));return 0!==f}}},function(r,n,a){function m(){e.call(this)}function q(b){this.name=b;e.call(this);this._roamTransform=new m;this._viewTransform=new m;this._center;this._zoom}function k(b,a,c,d){a=(a=c.seriesModel)?a.coordinateSystem:null;return a===this?a[b](d):null}var l=a(10),f=a(11),e=a(26);n=a(4);var c=a(9),d=l.applyTransform;n.mixin(m,e);q.prototype={constructor:q,type:"view",dimensions:["x","y"],setBoundingRect:function(b,a,d,e){return this._rect=new c(b,a,d,e)},getBoundingRect:function(){return this._rect},setViewRect:function(b,a,d,e){this.transformTo(b,a,d,e);this._viewRect=new c(b,a,d,e)},transformTo:function(b,a,d,e){var g=this.getBoundingRect(),h=this._viewTransform;h.transform=g.calculateTransform(new c(b,a,d,e));h.decomposeTransform();this._updateTransform()},setCenter:function(b){b&&(this._center=b,this._updateCenterAndZoom())},setZoom:function(b){b=b||1;var a=this.zoomLimit;a&&(null!=a.max&&(b=Math.min(a.max,b)),null!=a.min&&(b=Math.max(a.min,b)));this._zoom=b;this._updateCenterAndZoom()},getDefaultCenter:function(){var b=this.getBoundingRect();return[b.x+b.width/2,b.y+b.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var b=this._viewTransform.getLocalTransform(),a=this._roamTransform,c=this.getDefaultCenter(),d=this.getCenter(),e=this.getZoom(),d=l.applyTransform([],d,b),c=l.applyTransform([],c,b);a.origin=d;a.position=[c[0]-d[0],c[1]-d[1]];a.scale=[e,e];this._updateTransform()},_updateTransform:function(){var b=this._roamTransform,a=this._viewTransform;a.parent=b;b.updateTransform();a.updateTransform();a.transform&&f.copy(this.transform||(this.transform=[]),a.transform);this.transform?(this.invTransform=this.invTransform||[],f.invert(this.invTransform,this.transform)):this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var b=this.getBoundingRect().clone();b.applyTransform(this.transform);return b},dataToPoint:function(b){var a=this.transform;return a?d([],b,a):[b[0],b[1]]},pointToData:function(b){var a=this.invTransform;return a?d([],b,a):[b[0],b[1]]},convertToPixel:n.curry(k,"dataToPoint"),convertFromPixel:n.curry(k,"pointToData"),containPoint:function(b){return this.getViewRectAfterRoam().contain(b[0],b[1])}};n.mixin(q,e);r.exports=q},function(r,n,a){var m=a(174),q=a(4),k=[126,25],l=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(n=0;n<l.length;n++)for(a=0;a<l[n].length;a++)l[n][a][0]/=10.5,l[n][a][1]/=-14,l[n][a][0]+=k[0],l[n][a][1]+=k[1];r.exports=function(a){"china"===a.map&&a.regions.push(new m("\u5357\u6d77\u8bf8\u5c9b",q.map(l,function(a){return{type:"polygon",exterior:a}}),k))}},function(r,n,a){var m=a(4),q={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};r.exports=function(a){m.each(a.regions,function(a){var f=q[a.name];f&&(a=a.center,a[0]+=f[0]/10.5,a[1]+=-f[1]/14)})}},function(r,n,a){var m=a(4),q={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};r.exports=function(a){m.each(a.regions,function(a){var f=q[a.name];f&&(a=a.center,a[0]=f[0],a[1]=f[1])})}},function(r,n,a){a(174);a(4);var m=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];r.exports=function(a){if("china"===a.map)for(var k=0,l=a.regions.length;k<l;++k)"\u53f0\u6e7e"===a.regions[k].name&&a.regions[k].geometries.push({type:"polygon",exterior:m[0]})}},function(r,n,a){var m=a(18),q=a(182);a(1).extendChartView({type:"map",render:function(a,l,f,e){if(!e||"mapToggleSelect"!==e.type||e.from!==this.uid){var c=this.group;c.removeAll();if(!a.getHostGeoModel()){if(e&&"geoRoam"===e.type&&"series"===e.componentType&&e.seriesId===a.id)(d=this._mapDraw)&&c.add(d.group);else if(a.needsDrawMap){var d=this._mapDraw||new q(f,!0);c.add(d.group);d.draw(a,l,f,this,e);this._mapDraw=d}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&l.getComponent("legend")&&this._renderSymbols(a,l,f)}}},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(a,l,f){var e=a.originalData,c=this.group;e.each("value",function(d,b){if(!isNaN(d)){var g=e.getItemLayout(b);if(g&&g.point){var f=g.point,g=g.offset,h=new m.Circle({style:{fill:a.getData().getVisual("color")},shape:{cx:f[0]+9*g,cy:f[1],r:3},silent:!0,z2:10});if(!g){var f=a.mainSeries.getData(),k=e.getName(b),g=f.indexOfName(k),l=e.getItemModel(b),q=l.getModel("label.normal"),v=l.getModel("label.emphasis"),u=q.getModel("textStyle"),x=v.getModel("textStyle"),f=f.getItemGraphicEl(g);h.setStyle({textPosition:"bottom"});g=function(){h.setStyle({text:v.get("show")?k:"",textFill:x.getTextColor(),textFont:x.getFont()})};l=function(){h.setStyle({text:q.get("show")?k:"",textFill:u.getTextColor(),textFont:u.getFont()})};f.on("mouseover",g).on("mouseout",l).on("emphasis",g).on("normal",l);l()}c.add(h)}}})}})},function(r,n,a){function m(a,b){var c=a.getItemStyle(),d=a.get("areaColor");null!=d&&(c.fill=d);return c}function q(a,c,d,e,f){d.off("click");d.off("mousedown");c.get("selectedMode")&&(d.on("mousedown",function(){a._mouseDownFlag=!0}),d.on("click",function(g){if(a._mouseDownFlag){a._mouseDownFlag=!1;for(g=g.target;!g.__regions;)g=g.parent;g&&(g={type:("geo"===c.mainType?"geo":"map")+"ToggleSelect",batch:b.map(g.__regions,function(a){return{name:a.name,from:f.uid}})},g[c.mainType+"Id"]=c.id,e.dispatchAction(g),k(c,d))}}))}function k(a,c){c.eachChild(function(c){b.each(c.__regions,function(b){c.trigger(a.isSelected(b.name)?"emphasis":"normal")})})}function l(a,b){var c=new d.Group;this._controller=new f(a.getZr());this._controllerHost={target:b?c:null};this.group=c;this._updateGroup=b}var f=a(183),e=a(185),c=a(186),d=a(18),b=a(4);l.prototype={constructor:l,draw:function(a,c,e,f,l){var g="geo"===a.mainType,h=a.getData&&a.getData();g&&c.eachComponent({mainType:"series",subType:"map"},function(b){h||b.getHostGeoModel()!==a||(h=b.getData())});var p=a.coordinateSystem,t=this.group,w=p.scale,n={position:p.position,scale:w};!t.childAt(0)||l?t.attr(n):d.updateProps(t,n,a);t.removeAll();var r=["itemStyle","normal"],C=["itemStyle","emphasis"],B=["label","normal"],L=["label","emphasis"],E=b.createHashMap();b.each(p.regions,function(c){var e=E.get(c.name)||E.set(c.name,new d.Group),f=new d.CompoundPath({shape:{paths:[]}});e.add(f);var p=a.getRegionModel(c.name)||a,k=p.getModel(r),l=p.getModel(C),u=m(k,w),l=m(l,w),v=p.getModel(B),q=p.getModel(L),x;h&&(x=h.indexOfName(c.name),p=h.getItemVisual(x,"color",!0))&&(u.fill=p);p=v.getModel("textStyle");k=q.getModel("textStyle");b.each(c.geometries,function(a){if("polygon"===a.type){f.shape.paths.push(new d.Polygon({shape:{points:a.exterior}}));for(var b=0;b<(a.interiors?a.interiors.length:0);b++)f.shape.paths.push(new d.Polygon({shape:{points:a.interiors[b]}}))}});f.setStyle(u);f.style.strokeNoScale=!0;f.culling=!0;var u=v.get("show"),v=q.get("show"),q=h&&isNaN(h.get("value",x)),n=h&&h.getItemLayout(x);if(g||q&&(u||v)||n&&n.showLabel)n=h?x:c.name,q=a.getFormattedLabel(n,"normal"),n=a.getFormattedLabel(n,"emphasis"),p=new d.Text({style:{text:u?q||c.name:"",fill:p.getTextColor(),textFont:p.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:v?n||c.name:"",fill:k.getTextColor(),textFont:k.getFont()},position:c.center.slice(),scale:[1/w[0],1/w[1]],z2:10,silent:!0}),e.add(p);h?h.setItemGraphicEl(x,e):(p=a.getRegionModel(c.name),f.eventData={componentType:"geo",geoIndex:a.componentIndex,name:c.name,region:p&&p.option||{}});(e.__regions||(e.__regions=[])).push(c);d.setHoverStyle(e,l,{hoverSilentOnTouch:!!a.get("selectedMode")});t.add(e)});this._updateController(a,c,e);q(this,a,t,e,f);k(a,t)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(a,d,h){function g(){var b={type:"geoRoam",componentType:k};b[k+"Id"]=a.id;return b}var f=a.coordinateSystem;d=this._controller;var p=this._controllerHost;p.zoomLimit=a.get("scaleLimit");p.zoom=f.getZoom();d.enable(a.get("roam")||!1);var k=a.mainType;d.off("pan").on("pan",function(a,c){this._mouseDownFlag=!1;e.updateViewOnPan(p,a,c);h.dispatchAction(b.extend(g(),{dx:a,dy:c}))},this);d.off("zoom").on("zoom",function(a,c,d){this._mouseDownFlag=!1;e.updateViewOnZoom(p,a,c,d);h.dispatchAction(b.extend(g(),{zoom:a,originX:c,originY:d}));if(this._updateGroup){a=this.group;var f=a.scale;a.traverse(function(a){"text"===a.type&&a.attr("scale",[1/f[0],1/f[1]])})}},this);d.setPointerChecker(function(b,d,g){return f.getViewRectAfterRoam().contain(d,g)&&!c.onIrrelevantElement(b,h,a)})}};r.exports=l},function(r,n,a){function m(a){this._zr=a;this._opt={};var c=b.bind,g=c(q,this),h=c(k,this),p=c(l,this),m=c(f,this),x=c(e,this);d.call(this);this.setPointerChecker=function(a){this.pointerChecker=a};this.enable=function(c,d){this.disable();this._opt=b.defaults(b.clone(d)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0});null==c&&(c=!0);if(!0===c||"move"===c||"pan"===c)a.on("mousedown",g),a.on("mousemove",h),a.on("mouseup",p);if(!0===c||"scale"===c||"zoom"===c)a.on("mousewheel",m),a.on("pinch",x)};this.dispose=this.disable=function(){a.off("mousedown",g);a.off("mousemove",h);a.off("mouseup",p);a.off("mousewheel",m);a.off("pinch",x)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}function q(a){if(!a.target||!a.target.draggable){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function k(a){if(c(this,"moveOnMouseMove",a)&&this._dragging&&"pinch"!==a.gestureEvent&&!p.isTaken(this._zr,"globalPan")){var b=a.offsetX,d=a.offsetY,e=this._x,h=this._y,f=b-e,k=d-h;this._x=b;this._y=d;this._opt.preventDefaultMouseMove&&g.stop(a.event);this.trigger("pan",f,k,e,h,b,d)}}function l(a){this._dragging=!1}function f(a){if(c(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var b=0<a.wheelDelta?1.1:1/1.1,d=a.offsetX,e=a.offsetY;this.pointerChecker&&this.pointerChecker(a,d,e)&&(g.stop(a.event),this.trigger("zoom",b,d,e))}}function e(a){if(!p.isTaken(this._zr,"globalPan")){var b=1<a.pinchScale?1.1:1/1.1,c=a.pinchX,d=a.pinchY;this.pointerChecker&&this.pointerChecker(a,c,d)&&(g.stop(a.event),this.trigger("zoom",b,c,d))}}function c(a,c,d){return(a=a._opt[c])&&(!b.isString(a)||d.event[a+"Key"])}var d=a(25),b=a(4),g=a(88),p=a(184);b.mixin(m,d);r.exports=m},function(r,n,a){a(1).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});r.exports={take:function(a,q,k){(a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={}))[q]=k},release:function(a,q,k){a=a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={});a[q]===k&&(a[q]=null)},isTaken:function(a,q){return!!(a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={}))[q]}}},function(r,n){r.exports={updateViewOnPan:function(a,m,q){a=a.target;var k=a.position;k[0]+=m;k[1]+=q;a.dirty()},updateViewOnZoom:function(a,m,q,k){var l=a.target,f=a.zoomLimit,e=l.position,c=l.scale,d=a.zoom=a.zoom||1,d=d*m;f&&(d=Math.max(Math.min(f.max||Infinity,d),f.min||0));m=d/a.zoom;a.zoom=d;e[0]-=(q-e[0])*(m-1);e[1]-=(k-e[1])*(m-1);c[0]*=m;c[1]*=m;l.dirty()}}},function(r,n){var a={},m={axisPointer:1,tooltip:1,brush:1};a.onIrrelevantElement=function(a,k,l){k=(a=k.getComponentByElement(a.topTarget))&&a.coordinateSystem;return a&&a!==l&&!m[a.mainType]&&k&&k.model!==l};r.exports=a},function(r,n,a){var m=a(4),q=a(188);a(1).registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(a,l){var f=a.componentType||"series";l.eachComponent({mainType:f,query:a},function(e){var c=e.coordinateSystem;if("geo"===c.type){var d=q.updateCenterAndZoom(c,a,e.get("scaleLimit"));e.setCenter&&e.setCenter(d.center);e.setZoom&&e.setZoom(d.zoom);"series"===f&&m.each(e.seriesGroup,function(a){a.setCenter(d.center);a.setZoom(d.zoom)})}})})},function(r,n){r.exports={updateCenterAndZoom:function(a,m,q){var k=a.getZoom(),l=a.getCenter(),f=m.zoom,e=a.dataToPoint(l);null!=m.dx&&null!=m.dy&&(e[0]-=m.dx,e[1]-=m.dy,l=a.pointToData(e),a.setCenter(l));null!=f&&(q&&(f=Math.max(Math.min(k*f,q.max||Infinity),q.min||0)/k),a.scale[0]*=f,a.scale[1]*=f,q=a.position,l=(m.originY-q[1])*(f-1),q[0]-=(m.originX-q[0])*(f-1),q[1]-=l,a.updateTransform(),l=a.pointToData(e),a.setCenter(l),a.setZoom(f*k));return{center:a.getCenter(),zoom:a.getZoom()}}}},function(r,n,a){var m=a(4);r.exports=function(a){var k={};a.eachSeriesByType("map",function(l){var f=l.getMapType();if(!l.getHostGeoModel()&&!k[f]){var e={};m.each(l.seriesGroup,function(c){var b=c.coordinateSystem,d=c.originalData;c.get("showLegendSymbol")&&a.getComponent("legend")&&d.each("value",function(a,c){var g=d.getName(c),h=b.getRegion(g);if(h&&!isNaN(a)){var f=e[g]||0,h=b.dataToPoint(h.center);e[g]=f+1;d.setItemLayout(c,{point:h,offset:f})}})});var c=l.getData();c.each(function(a){var b=c.getName(a),d=c.getItemLayout(a)||{};d.showLabel=!e[b];c.setItemLayout(a,d)});k[f]=!0}})}},function(r,n){r.exports=function(a){a.eachSeriesByType("map",function(a){var m=a.get("color"),k=a.getModel("itemStyle.normal"),l=k.get("areaColor"),m=k.get("color")||m[a.seriesIndex%m.length];a.getData().setVisual({areaColor:l,color:m})})}},function(r,n,a){function m(a,l){var f={},e=["value"];q.each(a,function(a){a.each(e,function(c,b){var d="ec-"+a.getName(b);f[d]=f[d]||[];isNaN(c)||f[d].push(c)})});return a[0].map(e,function(c,d){for(var b="ec-"+a[0].getName(d),g=0,e=Infinity,h=-Infinity,k=f[b].length,m=0;m<k;m++)e=Math.min(e,f[b][m]),h=Math.max(h,f[b][m]),g+=f[b][m];b="min"===l?e:"max"===l?h:"average"===l?g/k:g;return 0===k?NaN:b})}var q=a(4);r.exports=function(a){var k={};a.eachSeriesByType("map",function(a){var e=a.getHostGeoModel(),e=e?"o"+e.id:"i"+a.getMapType();(k[e]=k[e]||[]).push(a)});q.each(k,function(a,e){for(var c=m(q.map(a,function(a){return a.getData()}),a[0].get("mapValueCalculation")),d=0;d<a.length;d++)a[d].originalData=a[d].getData();for(d=0;d<a.length;d++)a[d].seriesGroup=a,a[d].needsDrawMap=0===d&&!a[d].getHostGeoModel(),a[d].setData(c.cloneShallow()),a[d].mainSeries=a[0]})}},function(r,n,a){var m=a(4);r.exports=function(a){var k=[];m.each(a.series,function(a){"map"===a.type&&k.push(a)});m.each(k,function(a){a.map=a.map||a.mapType;m.defaults(a,a.mapLocation)})}},function(r,n,a){r=a(1);a(194);a(198);a(201);r.registerVisual(a(202));r.registerLayout(a(204))},function(r,n,a){function m(a){var b=0;f.each(a.children,function(a){m(a);a=a.value;f.isArray(a)&&(a=a[0]);b+=a});var c=a.value;f.isArray(c)&&(c=c[0]);if(null==c||isNaN(c))c=b;0>c&&(c=0);f.isArray(a.value)?a.value[0]=c:a.value=c}function q(a,b){var c=b.get("color");if(c){a=a||[];var d;f.each(a,function(a){a=new e(a);var b=a.get("color");if(a.get("itemStyle.normal.color")||b&&"none"!==b)d=!0});d||((a[0]||(a[0]={})).color=c.slice());return a}}var k=a(78),l=a(195),f=a(4),e=a(12);n=a(6);var c=a(197),d=n.encodeHTML,b=n.addCommas;r.exports=k.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,textStyle:{color:"#fff",ellipsis:!0,baseline:"middle"}},emphasis:{show:!0,position:[0,"50%"],textStyle:{color:"#fff",ellipsis:!0,baseline:"middle"}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,b){var c={name:a.name,children:a.data};m(c);var d=a.levels||[],d=a.levels=q(d,b);return l.createTree(c,this,d).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(a){var c=this.getData(),g=this.getRawValue(a),g=f.isArray(g)?b(g[0]):b(g);a=c.getName(a);return d(a+": "+g)},getDataParams:function(a){var b=k.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(a);b.treePathInfo=c.wrapTreePathInfo(d,this);return b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{};f.extend(this.layoutInfo,a)},mapIdToIndex:function(a){var b=this._idIndexMap;b||(b=this._idIndexMap=f.createHashMap(),this._idIndexMapCount=0);var c=b.get(a);null==c&&b.set(a,c=this._idIndexMapCount++);return c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getData().tree.root;if(!a||a!==b&&!b.contains(a))this._viewRoot=b}})},function(r,n,a){function m(a,b){this._nodes=[];this.hostModel=a;this.levelModels=q.map(b||[],function(b){return new k(b,a,a.ecModel)})}var q=a(4),k=a(12),l=a(98),f=a(196),e=a(110),c=function(a,b){this.name=a||"";this.height=this.depth=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=b};c.prototype={constructor:c,isRemoved:function(){return 0>this.dataIndex},eachNode:function(a,b,c){"function"===typeof a&&(c=b,b=a,a=null);a=a||{};q.isString(a)&&(a={order:a});var d=a.order||"preorder",g=this[a.attr||"children"],e;"preorder"===d&&(e=b.call(c,this));for(var f=0;!e&&f<g.length;f++)g[f].eachNode(a,b,c);"postorder"===d&&b.call(c,this)},updateDepthAndHeight:function(a){var b=0;this.depth=a;for(var c=0;c<this.children.length;c++){var d=this.children[c];d.updateDepthAndHeight(a+1);d.height>b&&(b=d.height)}this.height=b+1},getNodeById:function(a){if(this.getId()===a)return this;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].getNodeById(a);if(e)return e}},contains:function(a){if(a===this)return!0;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].contains(a);if(e)return e}},getAncestors:function(a){var b=[];for(a=a?this:this.parentNode;a;)b.push(a),a=a.parentNode;b.reverse();return b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){if(!(0>this.dataIndex)){var b=this.hostTree,c=b.data.getItemModel(this.dataIndex),d=this.getLevelModel();return c.getModel(a,(d||b.hostModel).getModel(a))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(a,b){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};m.prototype={constructor:m,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){a=this.data.getRawIndex(a);return this._nodes[a]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var a=this.data,b=this._nodes,c=0,e=b.length;c<e;c++)b[c].dataIndex=-1;c=0;for(e=a.count();c<e;c++)b[a.getRawIndex(c)].dataIndex=c},clearLayouts:function(){this.data.clearItemLayouts()}};m.createTree=function(a,b,g){function d(a,b){var e=a.value;w=Math.max(w,q.isArray(e)?e.length:1);k.push(a);e=new c(a.name,h);b?e.parentNode!==b&&(b.children.push(e),e.parentNode=b):h.root=e;h._nodes.push(e);var g=a.children;if(g)for(var f=0;f<g.length;f++)d(g[f],e)}var h=new m(b,g),k=[],w=1;d(a);h.root.updateDepthAndHeight(0);a=e([{name:"value"}],k,{dimCount:w});b=new l(a,b);b.initData(k);f({mainData:b,struct:h,structAttr:"tree"});h.update();return h};r.exports=m},function(r,n,a){function m(a,d){if(this["\x00__link_mainData"]===this){var b=c.extend({},this["\x00__link_datas"]);b[this.dataType]=d;f(d,b,a)}else e(d,this.dataType,this["\x00__link_mainData"],a);return d}function q(a,c){a.struct&&a.struct.update(this);return c}function k(a,c){d(c["\x00__link_datas"],function(b,d){b!==c&&e(b.cloneShallow(),d,c,a)});return c}function l(a){var b=this["\x00__link_mainData"];return null==a||null==b?b:b["\x00__link_datas"][a]}function f(a,c,f){a["\x00__link_datas"]={};d(c,function(b,c){e(b,c,a,f)})}function e(a,c,d,e){d["\x00__link_datas"][c]=a;a["\x00__link_mainData"]=d;a.dataType=c;e.struct&&(a[e.structAttr]=e.struct,e.struct[e.datasAttr[c]]=a);a.getLinkedData=l}var c=a(4),d=c.each;r.exports=function(a){var b=a.mainData,e=a.datas;e||(e={main:b},a.datasAttr={main:"data"});a.datas=a.mainData=null;f(b,e,a);d(e,function(e){d(b.TRANSFERABLE_METHODS,function(b){e.wrapMethod(b,c.curry(m,a))})});b.wrapMethod("cloneShallow",c.curry(k,a));d(b.CHANGABLE_METHODS,function(d){b.wrapMethod(d,c.curry(q,a))});c.assert(e[b.dataType]===b)}},function(r,n,a){var m=a(4),q={retrieveTargetInfo:function(a,l){if(a&&("treemapZoomToNode"===a.type||"treemapRootToNode"===a.type)){var f=l.getData().tree.root,e=a.targetNode;if(e&&f.contains(e))return{node:e};var c=a.targetNodeId;if(null!=c&&(e=f.getNodeById(c)))return{node:e}}},getPathToRoot:function(a){for(var k=[];a;)(a=a.parentNode)&&k.push(a);return k.reverse()},aboveViewRoot:function(a,l){var f=q.getPathToRoot(a);return 0<=m.indexOf(f,l)},wrapTreePathInfo:function(a,l){for(var f=[];a;){var e=a.dataIndex;f.push({name:a.name,dataIndex:e,value:l.getRawValue(e)});a=a.parentNode}f.reverse();return f}};r.exports=q},function(r,n,a){function m(){return{nodeGroup:[],background:[],content:[]}}function q(a,b,c,d,e,g,h,f,p,m){function q(b,c,d){c.dataIndex=h.dataIndex;c.seriesIndex=a.seriesIndex;c.setShape({x:0,y:0,width:B,height:E});var e=h.getVisual("borderColor",!0),g=Z.get("borderColor");z(c,function(){var a={fill:e},b={fill:g};if(d){var h=B-2*L;r(a,b,e,h,M,{x:L,y:0,width:h,height:M})}else a.text=b.text="";c.setStyle(a);l.setHoverStyle(c,b)});b.add(c)}function n(b,c){c.dataIndex=h.dataIndex;c.seriesIndex=a.seriesIndex;var d=Math.max(B-2*L,0),e=Math.max(E-2*L,0);c.culling=!0;c.setShape({x:L,y:L,width:d,height:e});var g=h.getVisual("color",!0);z(c,function(){var a={fill:g},b=Z.getItemStyle();r(a,b,g,d,e);c.setStyle(a);l.setHoverStyle(c,b)});b.add(c)}function z(a,b){N?!a.invisible&&g.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function r(b,c,d,e,g,f){var p=h.getModel(),l=k.retrieve(a.getFormattedLabel(h.dataIndex,"normal",null,null,f?"upperLabel":"label"),p.get("name"));if(!f&&C.isLeafRoot)var t=a.get("drillDownIcon",!0),l=t?t+" "+l:l;A(l,b,p,f?x:v,d,e,g,f);A(l,c,p,f?y:u,d,e,g,f)}function A(a,b,c,d,e,g,h,f){c=c.getModel(d);d=c.getModel("textStyle");l.setText(b,c,e);b.textAlign=d.get("align");b.textVerticalAlign=d.get("baseline");f&&(b.textPositionRect=k.clone(f));e=d.getTextRect(a);!c.getShallow("show")||e.height>h?b.text="":b.text=e.width>g?d.get("ellipsis")?d.truncateText(a,g,null,{minChar:2}):"":a}function D(a,g,f,p){var l=null!=J&&c[a][J],t=e[a];l?(c[a][J]=null,g=l,(t[F]={}).old="nodeGroup"===a?g.position.slice():k.extend({},g.shape)):N||(l=10*f+p,l=new g({z:(l-1)/l}),l.__tmDepth=f,l.__tmStorageName=a,t=t[F]={},!(p=h.parentNode)||d&&"drillDown"!==d.direction||(f=g=0,p=e.background[p.getRawIndex()],!d&&p&&p.old&&(g=p.old.width,f=p.old.height),t.old="nodeGroup"===a?[0,f]:{x:g,y:f,width:0,height:0}),t.fadein="nodeGroup"!==a);return b[a][F]=l}if(h){var C=h.getLayout();if(C&&C.isInView){var B=C.width,E=C.height,L=C.borderWidth,N=C.invisible,F=h.getRawIndex(),J=f&&f.getRawIndex();f=h.viewChildren;var M=C.upperHeight,V=f&&f.length,Z=h.getModel("itemStyle.emphasis");if(f=D("nodeGroup",t)){p.add(f);f.attr("position",[C.x||0,C.y||0]);f.__tmNodeWidth=B;f.__tmNodeHeight=E;if(C.isAboveViewRoot)return f;(p=D("background",w,m,1))&&q(f,p,V&&C.upperHeight);V||(m=D("content",w,m,2))&&n(f,m);return f}}}}var k=a(4),l=a(18),f=a(99),e=a(197),c=a(199),d=a(183),b=a(9),g=a(11),p=a(200),h=k.bind,t=l.Group,w=l.Rect,z=k.each,v=["label","normal"],u=["label","emphasis"],x=["upperLabel","normal"],y=["upperLabel","emphasis"];r.exports=a(1).extendChartView({type:"treemap",init:function(a,b){this._storage=m();this._state="ready"},render:function(a,b,c,d){var g=b.findComponents({mainType:"series",subType:"treemap",query:d});if(!(0>k.indexOf(g,a))){this.seriesModel=a;this.api=c;this.ecModel=b;b=e.retrieveTargetInfo(d,a);var g=d&&d.type,h=a.layoutInfo,f=!this._oldTree,p=this._storage;d="treemapRootToNode"===g&&b&&p?{rootNodeGroup:p.nodeGroup[b.node.getRawIndex()],direction:d.direction}:null;h=this._giveContainerGroup(h);p=this._doRender(h,a,d);f||g&&"treemapZoomToNode"!==g&&"treemapRootToNode"!==g?p.renderFinally():this._doAnimation(h,p,a,d);this._resetController(c);this._renderBreadcrumb(a,c,b)}},_giveContainerGroup:function(a){var b=this._containerGroup;b||(b=this._containerGroup=new t,this._initEvents(b),this.group.add(b));b.attr("position",[a.x,a.y]);return b},_doRender:function(a,b,c){function d(a,b,c,e,g){function h(a){return a.getId()}function p(h,f){var p=null!=h?a[h]:null,k=null!=f?b[f]:null,l=u(p,k,c,g);l&&d(p&&p.viewChildren||[],k&&k.viewChildren||[],l,e,g+1)}e?(b=a,z(a,function(a,b){!a.isRemoved()&&p(b,b)})):(new f(b,a,h,h)).add(p).update(p).remove(k.curry(p,null)).execute()}var e=b.getData().tree,g=this._oldTree,h=m(),p=m(),l=this._storage,t=[],u=k.curry(q,b,p,l,c,h,t);d(e.root?[e.root]:[],g&&g.root?[g.root]:[],a,e===g||!g,0);var v=function(a){var b=m();a&&z(a,function(a,c){var d=b[c];z(a,function(a){a&&(d.push(a),a.__tmWillDelete=1)})});return b}(l);this._oldTree=e;this._storage=p;return{lastsForAnimation:h,willDeleteEls:v,renderFinally:function(){z(v,function(a){z(a,function(a){a.parent&&a.parent.remove(a)})});z(t,function(a){a.invisible=!0;a.dirty()})}}},_doAnimation:function(a,b,c,d){if(c.get("animation")){var e=c.get("animationDurationUpdate"),g=c.get("animationEasing"),f=p.createWrap();z(b.willDeleteEls,function(a,b){z(a,function(a,c){if(!a.invisible){var h=a.parent;if(d&&"drillDown"===d.direction)h=h===d.rootNodeGroup?{shape:{x:0,y:0,width:h.__tmNodeWidth,height:h.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var p=0,k=0;h.__tmWillDelete||(p=h.__tmNodeWidth/2,k=h.__tmNodeHeight/2);h="nodeGroup"===b?{position:[p,k],style:{opacity:0}}:{shape:{x:p,y:k,width:0,height:0},style:{opacity:0}}}h&&f.add(a,h,e,g)}})});z(this._storage,function(a,c){z(a,function(a,d){var h=b.lastsForAnimation[c][d],p={};h&&("nodeGroup"===c?h.old&&(p.position=a.position.slice(),a.attr("position",h.old)):(h.old&&(p.shape=k.extend({},a.shape),a.setShape(h.old)),h.fadein?(a.setStyle("opacity",0),p.style={opacity:1}):1!==a.style.opacity&&(p.style={opacity:1})),f.add(a,p,e,g))})},this);this._state="animating";f.done(h(function(){this._state="ready";b.renderFinally()},this)).start()}},_resetController:function(a){var c=this._controller;c||(c=this._controller=new d(a.getZr()),c.enable(this.seriesModel.get("roam")),c.on("pan",h(this._onPan,this)),c.on("zoom",h(this._onZoom,this)));var e=new b(0,0,a.getWidth(),a.getHeight());c.setPointerChecker(function(a,b,c){return e.contain(b,c)})},_clearController:function(){var a=this._controller;a&&a.dispose()},_onPan:function(a,b){this._mayClick=!1;if("animating"!==this._state&&(3<Math.abs(a)||3<Math.abs(b))){var c=this.seriesModel.getData().tree.root;c&&(c=c.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x+a,y:c.y+b,width:c.width,height:c.height}})}},_onZoom:function(a,c,d){this._mayClick=!1;if("animating"!==this._state){var e=this.seriesModel.getData().tree.root;if(e&&(e=e.getLayout())){var e=new b(e.x,e.y,e.width,e.height),h=this.seriesModel.layoutInfo;c-=h.x;d-=h.y;h=g.create();g.translate(h,h,[-c,-d]);g.scale(h,h,[a,a]);g.translate(h,h,[c,d]);e.applyTransform(h);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x,y:e.y,width:e.width,height:e.height}})}}},_initEvents:function(a){a.on("mousedown",function(a){"ready"===this._state&&(this._mayClick=!0)},this);a.on("mouseup",function(a){if(this._mayClick&&(this._mayClick=!1,"ready"===this._state)){var b=this.seriesModel.get("nodeClick",!0);if(b&&(a=this.findTarget(a.offsetX,a.offsetY))){var c=a.node;c.getLayout().isLeafRoot?this._rootToNode(a):"zoomToNode"===b?this._zoomToNode(a):"link"===b&&(a=c.hostTree.data.getItemModel(c.dataIndex),b=a.get("link",!0),a=a.get("target",!0)||"blank",b&&window.open(b,a))}}},this)},_renderBreadcrumb:function(a,b,d){d||(d=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(b.getWidth()/2,b.getHeight()/2))||(d={node:a.getData().tree.root});(this._breadcrumb||(this._breadcrumb=new c(this.group))).render(a,b,d.node,h(function(b){"animating"!==this._state&&(e.aboveViewRoot(a.getViewRoot(),b)?this._rootToNode({node:b}):this._zoomToNode({node:b}))},this))},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=m();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(a,b){var c;this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var e=this._storage.background[d.getRawIndex()];if(e){var g=e.transformCoordToLocal(a,b),e=e.shape;if(e.x<=g[0]&&g[0]<=e.x+e.width&&e.y<=g[1]&&g[1]<=e.y+e.height)c={node:d,offsetX:g[0],offsetY:g[1]};else return!1}},this);return c}})},function(r,n,a){function m(a){this.group=new q.Group;a.add(this.group)}var q=a(18),k=a(71),l=a(4),f=a(197);m.prototype={constructor:m,render:function(a,c,d,b){var e=a.getModel("breadcrumb"),f=this.group;f.removeAll();if(e.get("show")&&d){var h=e.getModel("itemStyle.normal"),l=h.getModel("textStyle");c={pos:{left:e.get("left"),right:e.get("right"),top:e.get("top"),bottom:e.get("bottom")},box:{width:c.getWidth(),height:c.getHeight()},emptyItemWidth:e.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(d,c,l);this._renderContent(a,c,h,l,b);k.positionElement(f,c.pos,c.box)}},_prepare:function(a,c,d){for(;a;a=a.parentNode){var b=a.getModel().get("name"),e=d.getTextRect(b),e=Math.max(e.width+16,c.emptyItemWidth);c.totalWidth+=e+8;c.renderList.push({node:a,text:b,width:e})}},_renderContent:function(a,c,d,b,g){var e=0,h=c.emptyItemWidth,t=a.get("breadcrumb.height"),m=k.getAvailableSize(c.pos,c.box),n=c.totalWidth;c=c.renderList;for(var v=c.length-1;0<=v;v--){var u=c[v],x=u.node,y=u.width,u=u.text;n>m.width&&(n-=y-h,y=h,u="");var r=q.Polygon,A=e,C=t,B=v===c.length-1,L=[[B?A:A-5,0],[A+y,0],[A+y,0+C],[B?A:A-5,0+C]];0!==v&&L.splice(2,0,[A+y+5,0+C/2]);!B&&L.push([A,0+C/2]);u=new r({shape:{points:L},style:l.defaults(d.getItemStyle(),{lineJoin:"bevel",text:u,textFill:b.getTextColor(),textFont:b.getFont()}),z:10,onclick:l.curry(g,x)});this.group.add(u);u.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:a.componentIndex,seriesName:a.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:x&&x.dataIndex,name:x&&x.name},treePathInfo:x&&f.wrapTreePathInfo(x,a)};e+=y+8}},remove:function(){this.group.removeAll()}};r.exports=m},function(r,n,a){var m=a(4);r.exports={createWrap:function(){var a=[],k={},l;return{add:function(f,e,c,d,b){m.isString(d)&&(b=d,d=0);if(k[f.id])return!1;k[f.id]=1;a.push({el:f,target:e,time:c,delay:d,easing:b});return!0},done:function(a){l=a;return this},start:function(){function f(){e--;e||(a.length=0,k={},l&&l())}for(var e=a.length,c=0,d=a.length;c<d;c++){var b=a[c];b.el.animateTo(b.target,b.time,b.delay,b.easing,f)}return this}}}}},function(r,n,a){r=a(1);var m=a(197);a=function(){};n=["treemapZoomToNode","treemapRender","treemapMove"];for(var q=0;q<n.length;q++)r.registerAction({type:n[q],update:"updateView"},a);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,l){l.eachComponent({mainType:"series",subType:"treemap",query:a},function(f,e){var c=m.retrieveTargetInfo(a,f);if(c){var d=f.getViewRoot();d&&(a.direction=m.aboveViewRoot(d,c.node)?"rollUp":"drillDown");f.resetViewRoot(c.node)}})})},function(r,n,a){function m(a,c,e,g,l,v){var h=a.getModel(),p=a.getLayout();if(p&&!p.invisible&&p.isInView){var t=a.getModel("itemStyle.normal"),w=q(t,c,e[a.depth],g),n=t.get("borderColor");c=t.get("borderColorSaturation");null!=c&&(n=k(w,a),n=null!=n?d.modifyHSL(n,null,null,c):null);a.setVisual("borderColor",n);if((c=a.viewChildren)&&c.length){var z=f(a,h,p,t,w,c);b.each(c,function(a,c){if(a.depth>=l.length||a===l[a.depth]){var d=b.extend({},w);if(z){var f=z.type,p="color"===f&&z.__drColorMappingBy,p="index"===p?c:"id"===p?v.mapIdToIndex(a.getId()):a.getValue(h.get("visualDimension"));d[f]=z.mapValueToVisual(p)}m(a,d,e,g,l,v)}})}else n=k(w,a),a.setVisual("color",n)}}function q(a,c,d,e){var g=b.extend({},c);b.each(["color","colorAlpha","colorSaturation"],function(b){var h=a.get(b,!0);null==h&&d&&(h=d[b]);null==h&&(h=c[b]);null==h&&(h=e.get(b));null!=h&&(g[b]=h)});return g}function k(a){var b=l(a,"color");if(b){var c=l(a,"colorAlpha");(a=l(a,"colorSaturation"))&&(b=d.modifyHSL(b,null,null,a));c&&(b=d.modifyAlpha(b,c));return b}}function l(a,b){var c=a[b];if(null!=c&&"none"!==c)return c}function f(a,b,d,g,f,k){if(k&&k.length&&(a=e(b,"color")||null!=f.color&&"none"!==f.color&&(e(b,"colorAlpha")||e(b,"colorSaturation"))))return g=b.get("visualMin"),f=b.get("visualMax"),d=d.dataExtent.slice(),null!=g&&g<d[0]&&(d[0]=g),null!=f&&f>d[1]&&(d[1]=f),b=b.get("colorMappingBy"),d={type:a.name,dataExtent:d,visual:a.range},"color"!==d.type||"index"!==b&&"id"!==b?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0),d=new c(d),d.__drColorMappingBy=b,d}function e(a,b){var c=a.get(b);return g(c)&&c.length?{name:b,range:c}:null}var c=a(203),d=a(31),b=a(4),g=b.isArray;r.exports=function(a,c,d){a.eachComponent({mainType:"series",subType:"treemap",query:d},function(a){var c=a.getData().tree,d=c.root,e=a.getModel("itemStyle.normal");d.isRemoved()||(c=b.map(c.levelModels,function(a){return a?a.get("itemStyle.normal"):null}),m(d,{},c,e,a.getViewRoot().getAncestors(),a))})}},function(r,n,a){function m(a){var b=a.pieceList;a.hasSpecialVisual=!1;t.each(b,function(b,c){b.originIndex=c;null!=b.visual&&(a.hasSpecialVisual=!0)})}function q(a){var b=a.categories,c=a.visual,d=a.categoryMap={};v(b,function(a,b){d[a]=b});if(!t.isArray(c)){var e=[];t.isObject(c)?v(c,function(a,b){var c=d[b];e[null!=c?c:-1]=a}):e[-1]=c;c=p(a,e)}for(a=b.length-1;0<=a;a--)null==c[a]&&(delete d[b[a]],b.pop())}function k(a,b){var c=a.visual,d=[];t.isObject(c)?v(c,function(a){d.push(a)}):null!=c&&d.push(c);c={color:1,symbol:1};b||1!==d.length||c.hasOwnProperty(a.type)||(d[1]=d[0]);p(a,d)}function l(a){return{applyVisual:function(b,c,d){b=this.mapValueToVisual(b);d("color",a(c("color"),b))},_doMap:b([0,1])}}function f(a){var b=this.option.visual;return b[Math.round(z(a,[0,1],[0,b.length-1],!0))]||{}}function e(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function c(a){var b=this.option.visual;return b[this.option.loop&&-1!==a?a%b.length:a]}function d(){return this.option.visual[0]}function b(a){return{linear:function(b){return z(b,a,this.option.visual,!0)},category:c,piecewise:function(b,c){var d=g.call(this,c);null==d&&(d=z(b,a,this.option.visual,!0));return d},fixed:d}}function g(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual&&(a=x.findPieceIndex(a,c),(c=c[a])&&c.visual))return c.visual[this.type]}function p(a,b){a.visual=b;"color"===a.type&&(a.parsedVisual=t.map(b,function(a){return w.parse(a)}));return b}function h(a,b,c){return a?b<=c:b<c}var t=a(4),w=a(31),z=a(7).linearMap,v=t.each,u=t.isObject,x=function(a){var b=a.mappingMethod,c=a.type;a=this.option=t.clone(a);this.type=c;this.mappingMethod=b;this._normalizeData=D[b];c=y[c];this.applyVisual=c.applyVisual;this.getColorMapper=c.getColorMapper;this._doMap=c._doMap[b];"piecewise"===b?(k(a),m(a)):"category"===b?a.categories?q(a):k(a,!0):(t.assert("linear"!==b||a.dataExtent),k(a))};x.prototype={constructor:x,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return t.bind(this._normalizeData,this)}};var y=x.visualHandlers={color:{applyVisual:e("color"),getColorMapper:function(){var a=this.option;return t.bind("category"===a.mappingMethod?function(a,b){!b&&(a=this._normalizeData(a));return c.call(this,a)}:function(b,c,d){var e=!!d;!c&&(b=this._normalizeData(b));d=w.fastMapToColor(b,a.parsedVisual,d);return e?d:w.stringify(d,"rgba")},this)},_doMap:{linear:function(a){return w.stringify(w.fastMapToColor(a,this.option.parsedVisual),"rgba")},category:c,piecewise:function(a,b){var c=g.call(this,b);null==c&&(c=w.stringify(w.fastMapToColor(a,this.option.parsedVisual),"rgba"));return c},fixed:d}},colorHue:l(function(a,b){return w.modifyHSL(a,b)}),colorSaturation:l(function(a,b){return w.modifyHSL(a,null,b)}),colorLightness:l(function(a,b){return w.modifyHSL(a,null,null,b)}),colorAlpha:l(function(a,b){return w.modifyAlpha(a,b)}),opacity:{applyVisual:e("opacity"),_doMap:b([0,1])},symbol:{applyVisual:function(a,b,c){a=this.mapValueToVisual(a);if(t.isString(a))c("symbol",a);else if(u(a))for(var d in a)a.hasOwnProperty(d)&&c(d,a[d])},_doMap:{linear:f,category:c,piecewise:function(a,b){var c=g.call(this,b);null==c&&(c=f.call(this,a));return c},fixed:d}},symbolSize:{applyVisual:e("symbolSize"),_doMap:b([0,1])}},D={linear:function(a){return z(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList;a=x.findPieceIndex(a,b,!0);if(null!=a)return z(a,[0,b.length-1],[0,1],!0)},category:function(a){a=this.option.categories?this.option.categoryMap[a]:a;return null==a?-1:a},fixed:t.noop};x.listVisualTypes=function(){var a=[];t.each(y,function(b,c){a.push(c)});return a};x.addVisualHandler=function(a,b){y[a]=b};x.isValidType=function(a){return y.hasOwnProperty(a)};x.eachVisual=function(a,b,c){t.isObject(a)?t.each(a,b,c):b.call(c,a)};x.mapVisual=function(a,b,c){var d,e=t.isArray(a)?[]:t.isObject(a)?{}:(d=!0,null);x.eachVisual(a,function(a,g){var h=b.call(c,a,g);d?e=h:e[g]=h});return e};x.retrieveVisuals=function(a){var b={},c;a&&v(y,function(d,e){a.hasOwnProperty(e)&&(b[e]=a[e],c=!0)});return c?b:null};x.prepareVisualTypes=function(a){if(u(a)){var b=[];v(a,function(a,c){b.push(c)});a=b}else if(t.isArray(a))a=a.slice();else return[];a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1});return a};x.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b};x.findPieceIndex=function(a,b,c){function d(b,c){var d=Math.abs(b-a);d<g&&(g=d,e=c)}for(var e,g=Infinity,f=0,p=b.length;f<p;f++){var k=b[f].value;if(null!=k){if(k===a||"string"===typeof k&&k===a+"")return f;c&&d(k,f)}}f=0;for(p=b.length;f<p;f++){var l=b[f],k=l.interval,l=l.close;if(k){if(-Infinity===k[0]){if(h(l[1],a,k[1]))return f}else if(Infinity===k[1]){if(h(l[0],k[0],a))return f}else if(h(l[0],k[0],a)&&h(l[1],a,k[1]))return f;c&&d(k[0],f);c&&d(k[1],f)}}if(c)return Infinity===a?b.length-1:-Infinity===a?0:e};r.exports=x},function(r,n,a){function m(a,b,c,d){var h,f;if(!a.isRemoved()){var p=a.getLayout();h=p.width;f=p.height;var p=a.getModel(),k=p.get(A),l=p.get(C)/2,t=g(p),x=Math.max(k,t),w=k-l,n=x-l,p=a.getModel();a.setLayout({borderWidth:k,upperHeight:x,upperLabelHeight:t},!0);h=v(h-2*w,0);f=v(f-w-n,0);k=h*f;a=q(a,p,k,b,c,d);if(a.length){w={x:w,y:n,width:h,height:f};h=u(h,f);f=Infinity;n=[];t=n.area=0;for(x=a.length;t<x;){var y=a[t];n.push(y);n.area+=y.getLayout().area;for(var z=n,r=h,D=b.squareRatio,y=0,B=Infinity,E=0,L,F=z.length;E<F;E++)if(L=z[E].getLayout().area)L<B&&(B=L),L>y&&(y=L);z=z.area*z.area;r=r*r*D;y=z?v(r*y/z,z/(r*B)):Infinity;y<=f?(t++,f=y):(n.area-=n.pop().getLayout().area,e(n,h,w,l,!1),h=u(w.width,w.height),n.length=n.area=0,f=Infinity)}n.length&&e(n,h,w,l,!0);c||(p=p.get("childrenVisibleMin"),null!=p&&k<p&&(c=!0));t=0;for(x=a.length;t<x;t++)m(a[t],b,c,d+1)}}}function q(a,b,c,d,e,g){var h=a.children||[],t=d.sort;"asc"!==t&&"desc"!==t&&(t=null);d=null!=d.leafDepth&&d.leafDepth<=g;if(e&&!d)return a.viewChildren=[];h=p.filter(h,function(a){return!a.isRemoved()});l(h,t);e=f(b,h,t);if(0===e.sum)return a.viewChildren=[];e.sum=k(b,c,e.sum,t,h);if(0===e.sum)return a.viewChildren=[];b=0;for(t=h.length;b<t;b++)g=h[b].getValue()/e.sum*c,h[b].setLayout({area:g});d&&(h.length&&a.setLayout({isLeafRoot:!0},!0),h.length=0);a.viewChildren=h;a.setLayout({dataExtent:e.dataExtent},!0);return h}function k(a,b,c,d,e){if(!d)return c;a=a.get("visibleMin");for(var g=e.length,h=g,f=g-1;0<=f;f--){var p=e["asc"===d?g-f-1:f].getValue();p/c*b<a&&(h=f,c-=p)}"asc"===d?e.splice(0,g-h):e.splice(h,g-h);return c}function l(a,b){b&&a.sort(function(a,c){var d="asc"===b?a.getValue()-c.getValue():c.getValue()-a.getValue();return 0===d?"asc"===b?a.dataIndex-c.dataIndex:c.dataIndex-a.dataIndex:d});return a}function f(a,b,c){for(var d=0,e=0,g=b.length;e<g;e++)d+=b[e].getValue();var h=a.get("visualDimension"),f;b&&b.length?"value"===h&&c?(f=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&f.reverse()):(f=[Infinity,-Infinity],D(b,function(a){a=a.getValue(h);a<f[0]&&(f[0]=a);a>f[1]&&(f[1]=a)})):f=[NaN,NaN];return{sum:d,dataExtent:f}}function e(a,b,c,d,e){var g=b===c.width?0:1,h=1-g,f=["x","y"],p=["width","height"],k=c[f[g]];b=b?a.area/b:0;if(e||b>c[p[h]])b=c[p[h]];e=0;for(var l=a.length;e<l;e++){var t=a[e],m={},q=b?t.getLayout().area/b:0,x=m[p[h]]=v(b-2*d,0),w=c[f[g]]+c[p[g]]-k,q=e===l-1||w<q?w:q,w=m[p[g]]=v(q-2*d,0);m[f[h]]=c[f[h]]+u(d,x/2);m[f[g]]=k+u(d,w/2);k+=q;t.setLayout(m,!0)}c[f[h]]+=b;c[p[h]]-=b}function c(a,b,c,d,e){var f=(b||{}).node;b=[d,e];if(!f||f===c)return b;c=d*e;for(var p=c*a.option.zoomToNodeRatio;a=f.parentNode;){for(var k=0,l=a.children,t=0,m=l.length;t<m;t++)k+=l[t].getValue();f=f.getValue();if(0===f)return b;p*=k/f;k=a.getModel();f=k.get(A);k=Math.max(f,g(k,f));p+=4*f*f+(3*f+k)*Math.pow(p,.5);p>h.MAX_SAFE_INTEGER&&(p=h.MAX_SAFE_INTEGER);f=a}p<c&&(p=c);b=Math.pow(p/c,.5);return[d*b,e*b]}function d(a,b,c){if(b)return{x:b.x,y:b.y};b={x:0,y:0};if(!c)return b;c=c.node;var d=c.getLayout();if(!d)return b;for(b=[d.width/2,d.height/2];c;)d=c.getLayout(),b[0]+=d.x,b[1]+=d.y,c=c.parentNode;return{x:a.width/2-b[0],y:a.height/2-b[1]}}function b(a,c,d,e,g){var h=a.getLayout(),f=d[g],p=f&&f===a;if(!(f&&!p||g===d.length&&a!==e)){a.setLayout({isInView:!0,invisible:!p&&!c.intersect(h),isAboveViewRoot:p},!0);var k=new z(c.x-h.x,c.y-h.y,c.width,c.height);D(a.viewChildren||[],function(a){b(a,k,d,e,g+1)})}}function g(a){return a.get(B)?a.get(L):0}var p=a(4),h=a(7),t=a(71),w=a(197),z=a(9),w=a(197),v=Math.max,u=Math.min,x=h.parsePercent,y=p.retrieve,D=p.each,A=["itemStyle","normal","borderWidth"],C=["itemStyle","normal","gapWidth"],B=["upperLabel","normal","show"],L=["upperLabel","normal","height"];r.exports=function(a,e,g){a.eachComponent({mainType:"series",subType:"treemap",query:g},function(a){var h=e.getWidth(),f=e.getHeight(),k=a.option,l=t.getLayoutRect(a.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),u=k.size||[],v=x(y(l.width,u[0]),h),q=x(y(l.height,u[1]),f),n=g&&g.type,u=w.retrieveTargetInfo(g,a),r="treemapRender"===n||"treemapMove"===n?g.rootRect:null,A=a.getViewRoot(),C=w.getPathToRoot(A);if("treemapMove"!==n){v="treemapZoomToNode"===n?c(a,u,A,v,q):r?[r.width,r.height]:[v,q];(q=k.sort)&&"asc"!==q&&"desc"!==q&&(q="desc");k={squareRatio:k.squareRatio,sort:q,leafDepth:k.leafDepth};A.hostTree.clearLayouts();var B={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};A.setLayout(B);m(A,k,!1,0);B=A.getLayout();D(C,function(a,b){var c=(C[b+1]||A).getValue();a.setLayout(p.extend({dataExtent:[c,c],borderWidth:0,upperHeight:0},B))})}k=a.getData().tree.root;k.setLayout(d(l,r,u),!0);a.setLayoutInfo(l);b(k,new z(-l.x,-l.y,h,f),C,A,0)})}},function(r,n,a){r=a(1);n=a(4);a(206);a(209);a(214);r.registerProcessor(a(215));r.registerVisual(n.curry(a(121),"graph","circle",null));r.registerVisual(a(216));r.registerVisual(a(217));r.registerLayout(a(218));r.registerLayout(a(221));r.registerLayout(a(223));r.registerCoordinateSystem("graphView",{create:a(225)})},function(r,n,a){var m=a(98),q=a(4),k=a(5),l=a(12),f=a(6),e=a(207),c=a(1).extendSeriesModel({type:"series.graph",init:function(a){c.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeOption:function(a){c.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(a){c.superApply(this,"mergeDefaultAndTheme",arguments);k.defaultEmphasis(a.edgeLabel,k.LABEL_OPTIONS)},getInitialData:function(a,b){function c(a,c){function d(a){return(a=this.parsePath(a))&&"label"===a[0]?g:this.parentModel}a.wrapMethod("getItemModel",function(a){var b=f._categoriesModels,c=a.getShallow("category");if(b=b[c])b.parentModel=a.parentModel,a.parentModel=b;return a});var e=f.getModel("edgeLabel"),g=new l({label:e.option},e.parentModel,b);c.wrapMethod("getItemModel",function(a){a.customizeGetParent(d);return a})}var d=a.edges||a.links||[],h=a.data||a.nodes||[],f=this;if(h&&d)return e(h,d,this,!0,c).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(a,b,e){if("edge"===e){var d=this.getData(),g=this.getDataParams(a,e),k=d.graph.getEdgeByIndex(a),l=d.getName(k.node1.dataIndex),d=d.getName(k.node2.dataIndex),k=[];null!=l&&k.push(l);null!=d&&k.push(d);k=f.encodeHTML(k.join(" \x3e "));g.value&&(k+=" : "+f.encodeHTML(g.value));return k}return c.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=q.map(this.option.categories||[],function(a){return null!=a.value?a:q.extend({value:0},a)}),b=new m(["value"],this);b.initData(a);this._categoriesData=b;this._categoriesModels=b.mapArray(function(a){return b.getItemModel(a,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return c.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});r.exports=c},function(r,n,a){var m=a(98),q=a(208),k=a(196),l=a(110),f=a(76),e=a(4),c=a(109);r.exports=function(a,b,g,p,h){p=new q(p);for(var d=0;d<a.length;d++)p.addNode(e.retrieve(a[d].id,a[d].name,d),d);for(var w=[],n=[],v=0,d=0;d<b.length;d++){var u=b[d],x=u.source,y=u.target;p.addEdge(x,y,v)&&(n.push(u),w.push(e.retrieve(u.id,x+" \x3e "+y)),v++)}b=g.get("coordinateSystem");"cartesian2d"===b||"polar"===b?b=c(a,g,g.ecModel):(b=f.get(b),b=l((b&&"view"!==b.type?b.dimensions||[]:[]).concat(["value"]),a),b=new m(b,g),b.initData(a));a=new m(["value"],g);a.initData(n,w);h&&h(b,a);k({mainData:b,struct:p,structAttr:"graph",datas:{node:b,edge:a},datasAttr:{node:"data",edge:"edgeData"}});p.update();return p}},function(r,n,a){function m(a,f){this.id=null==a?"":a;this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=null==f?-1:f}function q(a,f,e){this.node1=a;this.node2=f;this.dataIndex=null==e?-1:e}n=a(4);var k=function(a){this._directed=a||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={}};a=k.prototype;a.type="graph";a.isDirected=function(){return this._directed};a.addNode=function(a,f){a=a||""+f;var e=this._nodesMap;if(e["_EC_"+a])console.error("Graph nodes have duplicate name or id");else{var c=new m(a,f);c.hostGraph=this;this.nodes.push(c);return e["_EC_"+a]=c}};a.getNodeByIndex=function(a){a=this.data.getRawIndex(a);return this.nodes[a]};a.getNodeById=function(a){return this._nodesMap["_EC_"+a]};a.addEdge=function(a,f,e){var c=this._nodesMap,d=this._edgesMap;"number"===typeof a&&(a=this.nodes[a]);"number"===typeof f&&(f=this.nodes[f]);a instanceof m||(a=c["_EC_"+a]);f instanceof m||(f=c["_EC_"+f]);if(a&&f&&(c=a.id+"-"+f.id,!d[c]))return e=new q(a,f,e),e.hostGraph=this,this._directed&&(a.outEdges.push(e),f.inEdges.push(e)),a.edges.push(e),a!==f&&f.edges.push(e),this.edges.push(e),d[c]=e};a.getEdgeByIndex=function(a){a=this.edgeData.getRawIndex(a);return this.edges[a]};a.getEdge=function(a,f){a instanceof m&&(a=a.id);f instanceof m&&(f=f.id);var e=this._edgesMap;return this._directed?e[a+"-"+f]:e[a+"-"+f]||e[f+"-"+a]};a.eachNode=function(a,f){for(var e=this.nodes,c=e.length,d=0;d<c;d++)0<=e[d].dataIndex&&a.call(f,e[d],d)};a.eachEdge=function(a,f){for(var e=this.edges,c=e.length,d=0;d<c;d++)0<=e[d].dataIndex&&0<=e[d].node1.dataIndex&&0<=e[d].node2.dataIndex&&a.call(f,e[d],d)};a.breadthFirstTraverse=function(a,f,e,c){f instanceof m||(f=this._nodesMap["_EC_"+f]);if(f){e="out"===e?"outEdges":"in"===e?"inEdges":"edges";for(var d=0;d<this.nodes.length;d++)this.nodes[d].__visited=!1;if(!a.call(c,f,null))for(f=[f];f.length;)for(var b=f.shift(),g=b[e],d=0;d<g.length;d++){var p=g[d],p=p.node1===b?p.node2:p.node1;if(!p.__visited){if(a.call(c,p,b))return;f.push(p);p.__visited=!0}}}};a.update=function(){for(var a=this.data,f=this.edgeData,e=this.nodes,c=this.edges,d=0,b=e.length;d<b;d++)e[d].dataIndex=-1;d=0;for(b=a.count();d<b;d++)e[a.getRawIndex(d)].dataIndex=d;f.filterSelf(function(a){a=c[f.getRawIndex(a)];return 0<=a.node1.dataIndex&&0<=a.node2.dataIndex});d=0;for(b=c.length;d<b;d++)c[d].dataIndex=-1;d=0;for(b=f.count();d<b;d++)c[f.getRawIndex(d)].dataIndex=d};a.clone=function(){for(var a=new k(this._directed),f=this.nodes,e=this.edges,c=0;c<f.length;c++)a.addNode(f[c].id,f[c].dataIndex);for(c=0;c<e.length;c++)f=e[c],a.addEdge(f.node1.id,f.node2.id,f.dataIndex);return a};m.prototype={constructor:m,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(0>this.dataIndex))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}};q.prototype.getModel=function(a){if(!(0>this.dataIndex))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)};a=function(a,f){return{getValue:function(e){var c=this[a][f];return c.get(c.getDimension(e||"value"),this.dataIndex)},setVisual:function(e,c){0<=this.dataIndex&&this[a][f].setItemVisual(this.dataIndex,e,c)},getVisual:function(e,c){return this[a][f].getItemVisual(this.dataIndex,e,c)},setLayout:function(e,c){0<=this.dataIndex&&this[a][f].setItemLayout(this.dataIndex,e,c)},getLayout:function(){return this[a][f].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][f].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][f].getRawIndex(this.dataIndex)}}};n.mixin(m,a("hostGraph","data"));n.mixin(q,a("hostGraph","edgeData"));k.Node=m;k.Edge=q;r.exports=k},function(r,n,a){function m(a,b){return a.getVisual("opacity")||a.getModel().get(b)}var q=a(116),k=a(210),l=a(183),f=a(185),e=a(186),c=a(18),d=a(213),b=a(4),g=["itemStyle","normal","opacity"],p=["lineStyle","normal","opacity"];a(1).extendChartView({type:"graph",init:function(a,b){var c=new q,d=new k,e=this.group;this._controller=new l(b.getZr());this._controllerHost={target:e};e.add(c.group);e.add(d.group);this._symbolDraw=c;this._lineDraw=d;this._firstRender=!0},render:function(a,b,e){var g=a.coordinateSystem;this._model=a;this._nodeScaleRatio=a.get("nodeScaleRatio");var h=this._symbolDraw,f=this._lineDraw,p=this.group;"view"===g.type&&(g={position:g.position,scale:g.scale},this._firstRender?p.attr(g):c.updateProps(p,g,a));d(a.getGraph(),this._getNodeGlobalScale(a));var k=a.getData();h.updateData(k);h=a.getEdgeData();f.updateData(h);this._updateNodeAndLinkScale();this._updateController(a,b,e);clearTimeout(this._layoutTimeout);var l=a.forceLayout,t=a.get("force.layoutAnimation");l&&this._startForceLayoutIteration(l,t);k.eachItemGraphicEl(function(b,c){var d=k.getItemModel(c);b.off("drag").off("dragend");var g=k.getItemModel(c).get("draggable");if(g)b.on("drag",function(){l&&(l.warmUp(),!this._layouting&&this._startForceLayoutIteration(l,t),l.setFixed(c),k.setItemLayout(c,b.position))},this).on("dragend",function(){l&&l.setUnfixed(c)},this);b.setDraggable(g&&l);b.off("mouseover",b.__focusNodeAdjacency);b.off("mouseout",b.__unfocusNodeAdjacency);d.get("focusNodeAdjacency")&&(b.on("mouseover",b.__focusNodeAdjacency=function(){e.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,dataIndex:b.dataIndex})}),b.on("mouseout",b.__unfocusNodeAdjacency=function(){e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))},this);var m="circular"===a.get("layout")&&a.get("circular.rotateLabel"),q=k.getLayout("cx"),w=k.getLayout("cy");k.eachItemGraphicEl(function(a,b){var c=a.getSymbolPath();if(m){var d=k.getItemLayout(b),e=Math.atan2(d[1]-w,d[0]-q);0>e&&(e=2*Math.PI+e);(d=d[0]<q)&&(e-=Math.PI);d=d?"left":"right";c.setStyle({textRotation:e,textPosition:d});c.hoverStyle&&(c.hoverStyle.textPosition=d)}else c.setStyle({textRotation:0})});this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(a,c,d,e){function h(a,b){var c=m(a,b),d=a.getGraphicEl();null==c&&(c=1);d.traverse(function(a){a.trigger("normal");"group"!==a.type&&a.setStyle("opacity",.1*c)})}function f(a,b){var c=m(a,b);a.getGraphicEl().traverse(function(a){a.trigger("emphasis");"group"!==a.type&&a.setStyle("opacity",c)})}a=this._model.getData();e=e.dataIndex;if(c=a.getItemGraphicEl(e))a=a.graph,c=c.dataType,null!==e&&"edge"!==c&&(a.eachNode(function(a){h(a,g)}),a.eachEdge(function(a){h(a,p)}),e=a.getNodeByIndex(e),f(e,g),b.each(e.edges,function(a){0>a.dataIndex||(f(a,p),f(a.node1,g),f(a.node2,g))}))},unfocusNodeAdjacency:function(a,b,c,d){a=this._model.getData().graph;a.eachNode(function(a){var b=m(a,g);a.getGraphicEl().traverse(function(a){a.trigger("normal");"group"!==a.type&&a.setStyle("opacity",b)})});a.eachEdge(function(a){var b=m(a,p);a.getGraphicEl().traverse(function(a){a.trigger("normal");"group"!==a.type&&a.setStyle("opacity",b)})})},_startForceLayoutIteration:function(a,b){var c=this;(function v(){a.step(function(a){c.updateLayout(c._model);(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(v,16):v())})})()},_updateController:function(a,b,c){b=this._controller;var g=this._controllerHost,h=this.group;b.setPointerChecker(function(b,d,g){var f=h.getBoundingRect();f.applyTransform(h.transform);return f.contain(d,g)&&!e.onIrrelevantElement(b,c,a)});"view"!==a.coordinateSystem.type?b.disable():(b.enable(a.get("roam")),g.zoomLimit=a.get("scaleLimit"),g.zoom=a.coordinateSystem.getZoom(),b.off("pan").off("zoom").on("pan",function(b,d){f.updateViewOnPan(g,b,d);c.dispatchAction({seriesId:a.id,type:"graphRoam",dx:b,dy:d})}).on("zoom",function(b,e,h){f.updateViewOnZoom(g,b,e,h);c.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:b,originX:e,originY:h});this._updateNodeAndLinkScale();d(a.getGraph(),this._getNodeGlobalScale(a));this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var a=this._model,b=a.getData(),a=this._getNodeGlobalScale(a),c=[a,a];b.eachItemGraphicEl(function(a,b){a.attr("scale",c)})},_getNodeGlobalScale:function(a){a=a.coordinateSystem;if("view"!==a.type)return 1;var b=this._nodeScaleRatio,c=a.scale,c=c&&c[0]||1;return((a.getZoom()-1)*b+1)/c},updateLayout:function(a){d(a.getGraph(),this._getNodeGlobalScale(a));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}})},function(r,n,a){function m(a){return isNaN(a[0])||isNaN(a[1])}function q(a){return!m(a[0])&&!m(a[1])}function k(a){this._ctor=a||f;this.group=new l.Group}var l=a(18),f=a(211);n=k.prototype;n.updateData=function(a){var c=this._lineData,d=this.group,b=this._ctor,e=a.hostModel,f={lineStyle:e.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:e.getModel("lineStyle.emphasis").getLineStyle(),labelModel:e.getModel("label.normal"),hoverLabelModel:e.getModel("label.emphasis")};a.diff(c).add(function(c){if(q(a.getItemLayout(c))){var e=new b(a,c,f);a.setItemGraphicEl(c,e);d.add(e)}}).update(function(e,g){var h=c.getItemGraphicEl(g);q(a.getItemLayout(e))?(h?h.updateData(a,e,f):h=new b(a,e,f),a.setItemGraphicEl(e,h),d.add(h)):d.remove(h)}).remove(function(a){d.remove(c.getItemGraphicEl(a))}).execute();this._lineData=a};n.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(c,d){c.updateLayout(a,d)},this)};n.remove=function(){this.group.removeAll()};r.exports=k},function(r,n,a){function m(a,c,d){var e=c.getItemVisual(d,"color"),g=c.getItemVisual(d,a);c=c.getItemVisual(d,a+"Size");if(g&&"none"!==g)return b.isArray(c)||(c=[c,c]),e=f.createSymbol(g,-c[0]/2,-c[1]/2,c[0],c[1],e),e.name=a,e}function q(a){var b=new c({name:"line"});k(b.shape,a);return b}function k(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0];a.y1=c[1];a.x2=d[0];a.y2=d[1];a.percent=1;e?(a.cpx1=e[0],a.cpy1=e[1]):(a.cpx1=NaN,a.cpy1=NaN)}function l(a,b,c){d.Group.call(this);this._createLine(a,b,c)}var f=a(111),e=a(10),c=a(212),d=a(18),b=a(4),g=a(7),p=["fromSymbol","toSymbol"];n=l.prototype;n.beforeUpdate=function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.childOfName("label");if(a||b||!c.ignore){for(var d=1,g=this.parent;g;)g.scale&&(d/=g.scale[0]),g=g.parent;var f=this.childOfName("line");if(this.__dirty||f.__dirty){var p=f.shape.percent,g=f.pointAt(0),k=f.pointAt(p),l=e.sub([],k,g);e.normalize(l,l);if(a){a.attr("position",g);var m=f.tangentAt(0);a.attr("rotation",Math.PI/2-Math.atan2(m[1],m[0]));a.attr("scale",[d*p,d*p])}b&&(b.attr("position",k),m=f.tangentAt(1),b.attr("rotation",-Math.PI/2-Math.atan2(m[1],m[0])),b.attr("scale",[d*p,d*p]));c.ignore||(c.attr("position",k),a=5*d,"end"===c.__position?(f=[l[0]*a+k[0],l[1]*a+k[1]],a=.8<l[0]?"left":-.8>l[0]?"right":"center",l=.8<l[1]?"top":-.8>l[1]?"bottom":"middle"):"middle"===c.__position?(b=p/2,m=f.tangentAt(b),l=[m[1],-m[0]],f=f.pointAt(b),0<l[1]&&(l[0]=-l[0],l[1]=-l[1]),f=[f[0]+l[0]*a,f[1]+l[1]*a],a="center",l="bottom",m=-Math.atan2(m[1],m[0]),k[0]<g[0]&&(m=Math.PI+m),c.attr("rotation",m)):(f=[-l[0]*a+g[0],-l[1]*a+g[1]],a=.8<l[0]?"right":-.8>l[0]?"left":"center",l=.8<l[1]?"bottom":-.8>l[1]?"top":"middle"),c.attr({style:{textVerticalAlign:c.__verticalAlign||l,textAlign:c.__textAlign||a},position:f,scale:[d,d]}))}}};n._createLine=function(a,c,e){var g=a.hostModel,h=a.getItemLayout(c),h=q(h);h.shape.percent=0;d.initProps(h,{shape:{percent:1}},g,c);this.add(h);g=new d.Text({name:"label"});this.add(g);b.each(p,function(b){var d=m(b,a,c);this.add(d);this["_"+b+"Type"]=a.getItemVisual(c,b)},this);this._updateCommonStl(a,c,e)};n.updateData=function(a,c,e){var g=a.hostModel,h=this.childOfName("line"),f=a.getItemLayout(c),l={shape:{}};k(l.shape,f);d.updateProps(h,l,g,c);b.each(p,function(b){var d=a.getItemVisual(c,b),e="_"+b+"Type";this[e]!==d&&(this.remove(this.childOfName(b)),b=m(b,a,c),this.add(b));this[e]=d},this);this._updateCommonStl(a,c,e)};n._updateCommonStl=function(a,c,e){var h=a.hostModel,f=this.childOfName("line"),k=e&&e.lineStyle,l=e&&e.hoverLineStyle,t=e&&e.labelModel,m=e&&e.hoverLabelModel;if(!e||a.hasItemOption)m=a.getItemModel(c),k=m.getModel("lineStyle.normal").getLineStyle(),l=m.getModel("lineStyle.emphasis").getLineStyle(),t=m.getModel("label.normal"),m=m.getModel("label.emphasis");var q=a.getItemVisual(c,"color"),n=b.retrieve(a.getItemVisual(c,"opacity"),k.opacity,1);f.useStyle(b.defaults({strokeNoScale:!0,fill:"none",stroke:q,opacity:n},k));f.hoverStyle=l;b.each(p,function(a){if(a=this.childOfName(a))a.setColor(q),a.setStyle({opacity:n})},this);var f=t.getShallow("show"),k=m.getShallow("show"),l=this.childOfName("label"),w,r;if(f||k)w=h.getRawValue(c),r=null==w?r=a.getName(c):isFinite(w)?g.round(w):w,w=q||"#000";f?(e=t.getModel("textStyle"),l.setStyle({text:b.retrieve(h.getFormattedLabel(c,"normal",a.dataType),r),textFont:e.getFont(),fill:e.getTextColor()||w}),l.__textAlign=e.get("align"),l.__verticalAlign=e.get("baseline"),l.__position=t.get("position")):l.setStyle("text","");k?(t=m.getModel("textStyle"),l.hoverStyle={text:b.retrieve(h.getFormattedLabel(c,"emphasis",a.dataType),r),textFont:t.getFont(),fill:t.getTextColor()||w}):l.hoverStyle={text:""};l.ignore=!f&&!k;d.setHoverStyle(this)};n.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))};n.setLinePoints=function(a){var b=this.childOfName("line");k(b.shape,a);b.dirty()};b.inherits(l,d.Group);r.exports=l},function(r,n,a){function m(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}n=a(18);var q=a(10),k=n.Line.prototype,l=n.BezierCurve.prototype;r.exports=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,e){(m(e)?k:l).buildPath(a,e)},pointAt:function(a){return m(this.shape)?k.pointAt.call(this,a):l.pointAt.call(this,a)},tangentAt:function(a){var e=this.shape;a=m(e)?[e.x2-e.x1,e.y2-e.y1]:l.tangentAt.call(this,a);return q.normalize(a,a)}})},function(r,n,a){function m(a,p,h){var g=a[0],k=a[1];a=a[2];var m=Infinity,v;h*=h;for(var u=.1,q=.1;.9>=q;q+=.1){l[0]=c(g[0],k[0],a[0],q);l[1]=c(g[1],k[1],a[1],q);var n=b(d(l,p)-h);n<m&&(m=n,v=q)}for(m=0;32>m;m++){n=v+u;f[0]=c(g[0],k[0],a[0],v);f[1]=c(g[1],k[1],a[1],v);e[0]=c(g[0],k[0],a[0],n);e[1]=c(g[1],k[1],a[1],n);n=d(f,p)-h;if(.01>b(n))break;q=d(e,p)-h;u/=2;v=0>n?0<=q?v+u:v-u:0<=q?v-u:v+u}return v}var q=a(37),k=a(10),l=[],f=[],e=[],c=q.quadraticAt,d=k.distSquare,b=Math.abs;r.exports=function(a,b){function c(a){a=a.getVisual("symbolSize");a instanceof Array&&(a=(a[0]+a[1])/2);return a}var d=[],e=q.quadraticSubdivide,g=[[],[],[]],f=[[],[]],p=[];b/=2;a.eachEdge(function(a,h){var l=a.getLayout(),t=a.getVisual("fromSymbol"),u=a.getVisual("toSymbol");l.__original||(l.__original=[k.clone(l[0]),k.clone(l[1])],l[2]&&l.__original.push(k.clone(l[2])));var v=l.__original;null!=l[2]?(k.copy(g[0],v[0]),k.copy(g[1],v[2]),k.copy(g[2],v[1]),t&&"none"!=t&&(t=c(a.node1),t=m(g,v[0],t*b),e(g[0][0],g[1][0],g[2][0],t,d),g[0][0]=d[3],g[1][0]=d[4],e(g[0][1],g[1][1],g[2][1],t,d),g[0][1]=d[3],g[1][1]=d[4]),u&&"none"!=u&&(t=c(a.node2),t=m(g,v[1],t*b),e(g[0][0],g[1][0],g[2][0],t,d),g[1][0]=d[1],g[2][0]=d[2],e(g[0][1],g[1][1],g[2][1],t,d),g[1][1]=d[1],g[2][1]=d[2]),k.copy(l[0],g[0]),k.copy(l[1],g[2]),k.copy(l[2],g[1])):(k.copy(f[0],v[0]),k.copy(f[1],v[1]),k.sub(p,f[1],f[0]),k.normalize(p,p),t&&"none"!=t&&(t=c(a.node1),k.scaleAndAdd(f[0],f[0],p,t*b)),u&&"none"!=u&&(t=c(a.node2),k.scaleAndAdd(f[1],f[1],p,-t*b)),k.copy(l[0],f[0]),k.copy(l[1],f[1]))})}},function(r,n,a){r=a(1);var m=a(188);r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(a,k){k.eachComponent({mainType:"series",query:a},function(k){var f=m.updateCenterAndZoom(k.coordinateSystem,a);k.setCenter&&k.setCenter(f.center);k.setZoom&&k.setZoom(f.zoom)})});r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){})},function(r,n){r.exports=function(a){var m=a.findComponents({mainType:"legend"});m&&m.length&&a.eachSeriesByType("graph",function(a){var k=a.getCategoriesData(),l=a.getGraph().data,f=k.mapArray(k.getName);l.filterSelf(function(a){a=l.getItemModel(a).getShallow("category");if(null!=a){"number"===typeof a&&(a=f[a]);for(var c=0;c<m.length;c++)if(!m[c].isSelected(a))return!1}return!0})},this)}},function(r,n){r.exports=function(a){var m={};a.eachSeriesByType("graph",function(a){var k=a.getCategoriesData(),l=a.getData(),f={};k.each(function(e){var c=k.getName(e);f["ec-"+c]=e;c=k.getItemModel(e).get("itemStyle.normal.color")||a.getColorFromPalette(c,m);k.setItemVisual(e,"color",c)});k.count()&&l.each(function(a){var c=l.getItemModel(a).getShallow("category");null!=c&&("string"===typeof c&&(c=f["ec-"+c]),l.getItemVisual(a,"color",!0)||l.setItemVisual(a,"color",k.getItemVisual(c,"color")))})})}},function(r,n){function a(a){a instanceof Array||(a=[a,a]);return a}r.exports=function(m){m.eachSeriesByType("graph",function(m){var k=m.getGraph(),l=m.getEdgeData(),f=a(m.get("edgeSymbol")),e=a(m.get("edgeSymbolSize")),c=["lineStyle","normal","color"],d=["lineStyle","normal","opacity"];l.setVisual("fromSymbol",f&&f[0]);l.setVisual("toSymbol",f&&f[1]);l.setVisual("fromSymbolSize",e&&e[0]);l.setVisual("toSymbolSize",e&&e[1]);l.setVisual("color",m.get(c));l.setVisual("opacity",m.get(d));l.each(function(b){var e=l.getItemModel(b);b=k.getEdgeByIndex(b);var f=a(e.getShallow("symbol",!0)),h=a(e.getShallow("symbolSize",!0)),m=e.get(c),e=e.get(d);switch(m){case "source":m=b.node1.getVisual("color");break;case "target":m=b.node2.getVisual("color")}f[0]&&b.setVisual("fromSymbol",f[0]);f[1]&&b.setVisual("toSymbol",f[1]);h[0]&&b.setVisual("fromSymbolSize",h[0]);h[1]&&b.setVisual("toSymbolSize",h[1]);b.setVisual("color",m);b.setVisual("opacity",e)})})}},function(r,n,a){var m=a(219),q=a(220);r.exports=function(a,l){a.eachSeriesByType("graph",function(a){var e=a.get("layout"),c=a.coordinateSystem;if(c&&"view"!==c.type){var d=a.getData(),b=c.dimensions;d.each(b,function(){for(var a,e=arguments,h=[],f=0;f<b.length;f++)isNaN(e[f])||(a=!0),h.push(e[f]);e=e[e.length-1];a?d.setItemLayout(e,c.dataToPoint(h)):d.setItemLayout(e,[NaN,NaN])});q(d.graph)}else e&&"none"!==e||m(a)})}},function(r,n,a){var m=a(220);r.exports=function(a){var k=a.coordinateSystem;k&&"view"!==k.type||(a=a.getGraph(),a.eachNode(function(a){var f=a.getModel();a.setLayout([+f.get("x"),+f.get("y")])}),m(a))}},function(r,n,a){var m=a(10);r.exports=function(a){a.eachEdge(function(a){var k=a.getModel().get("lineStyle.normal.curveness")||0,f=m.clone(a.node1.getLayout()),e=m.clone(a.node2.getLayout()),c=[f,e];+k&&c.push([(f[0]+e[0])/2-(f[1]-e[1])*k,(f[1]+e[1])/2-(e[0]-f[0])*k]);a.setLayout(c)})}},function(r,n,a){var m=a(222);r.exports=function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&m(a)})}},function(r,n,a){var m=a(10);r.exports=function(a){var k=a.coordinateSystem;if(!k||"view"===k.type){k=k.getBoundingRect();a=a.getData();var l=a.graph,f=0,e=a.getSum("value"),c=2*Math.PI/(e||a.count()),d=k.width/2+k.x,b=k.height/2+k.y,g=Math.min(k.width,k.height)/2;l.eachNode(function(a){var h=a.getValue("value");f+=c*(e?h:1)/2;a.setLayout([g*Math.cos(f)+d,g*Math.sin(f)+b]);f+=c*(e?h:1)/2});a.setLayout({cx:d,cy:b});l.eachEdge(function(a){var c=a.getModel().get("lineStyle.normal.curveness")||0,e=m.clone(a.node1.getLayout()),g=m.clone(a.node2.getLayout()),f,k=(e[0]+g[0])/2,p=(e[1]+g[1])/2;+c&&(c*=3,f=[d*c+k*(1-c),b*c+p*(1-c)]);a.setLayout([e,g,f])})}}},function(r,n,a){var m=a(224),q=a(7),k=a(219),l=a(222),f=a(10),e=a(4);r.exports=function(a){a.eachSeriesByType("graph",function(a){var b=a.coordinateSystem;if(!b||"view"===b.type)if("force"===a.get("layout")){var c=a.preservedPoints||{},d=a.getGraph(),h=d.data,t=d.edgeData,n=a.getModel("force"),b=n.get("initLayout");a.preservedPoints?h.each(function(a){var b=h.getId(a);h.setItemLayout(a,c[b]||[NaN,NaN])}):b&&"none"!==b?"circular"===b&&l(a):k(a);var r=h.getDataExtent("value"),v=t.getDataExtent("value"),u=n.get("repulsion"),x=n.get("edgeLength");e.isArray(u)||(u=[u,u]);e.isArray(x)||(x=[x,x]);var x=[x[1],x[0]],y=h.mapArray("value",function(a,b){var c=h.getItemLayout(b),d=q.linearMap(a,r,u);isNaN(d)&&(d=(u[0]+u[1])/2);return{w:d,rep:d,fixed:h.getItemModel(b).get("fixed"),p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),t=t.mapArray("value",function(a,b){var c=d.getEdgeByIndex(b),e=q.linearMap(a,v,x);isNaN(e)&&(e=(x[0]+x[1])/2);return{n1:y[c.node1.dataIndex],n2:y[c.node2.dataIndex],d:e,curveness:c.getModel().get("lineStyle.normal.curveness")||0}}),b=a.coordinateSystem,b=b.getBoundingRect(),n=m(y,t,{rect:b,gravity:n.get("gravity")}),D=n.step;n.step=function(a){for(var b=0,e=y.length;b<e;b++)y[b].fixed&&f.copy(y[b].p,d.getNodeByIndex(b).getLayout());D(function(b,e,g){for(var k=0,p=b.length;k<p;k++)b[k].fixed||d.getNodeByIndex(k).setLayout(b[k].p),c[h.getId(k)]=b[k].p;k=0;for(p=e.length;k<p;k++){b=e[k];var l=d.getEdgeByIndex(k),m=b.n1.p,t=b.n2.p,u=l.getLayout(),u=u?u.slice():[];u[0]=u[0]||[];u[1]=u[1]||[];f.copy(u[0],m);f.copy(u[1],t);+b.curveness&&(u[2]=[(m[0]+t[0])/2-(m[1]-t[1])*b.curveness,(m[1]+t[1])/2-(t[0]-m[0])*b.curveness]);l.setLayout(u)}a&&a(g)})};a.forceLayout=n;a.preservedPoints=c;n.step()}else a.forceLayout=null})}},function(r,n,a){var m=a(10),q=m.scaleAndAdd;r.exports=function(a,l,f){var e=f.rect,c=e.width,d=e.height,b=[e.x+c/2,e.y+d/2],g=null==f.gravity?.1:f.gravity;for(f=0;f<a.length;f++)e=a[f],e.p||(e.p=m.create(c*(Math.random()-.5)+b[0],d*(Math.random()-.5)+b[1])),e.pp=m.clone(e.p),e.edges=null;var k=.6;return{warmUp:function(){k=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(c){for(var d=[],e=a.length,h=0;h<l.length;h++){var f=l[h],p=f.n1,n=f.n2;m.sub(d,n.p,p.p);var f=m.len(d)-f.d,y=n.w/(p.w+n.w);m.normalize(d,d);!p.fixed&&q(p.p,p.p,d,y*f*k);!n.fixed&&q(n.p,n.p,d,-(1-y)*f*k)}for(h=0;h<e;h++)p=a[h],p.fixed||(m.sub(d,b,p.p),m.scaleAndAdd(p.p,p.p,d,g*k));for(h=0;h<e;h++)for(p=a[h],y=h+1;y<e;y++)n=a[y],m.sub(d,n.p,p.p),f=m.len(d),0===f&&(m.set(d,Math.random()-.5,Math.random()-.5),f=1),f=(p.rep+n.rep)/f/f,!p.fixed&&q(p.pp,p.pp,d,f),!n.fixed&&q(n.pp,n.pp,d,-f);d=[];for(h=0;h<e;h++)p=a[h],p.fixed||(m.sub(d,p.p,p.pp),m.scaleAndAdd(p.p,p.p,d,k),m.copy(p.pp,p.p));k*=.992;c&&c(a,l,.01>k)}}}},function(r,n,a){function m(a,e,c){a=a.getBoxLayoutParams();a.aspect=c;return k.getLayoutRect(a,{width:e.getWidth(),height:e.getHeight()})}var q=a(176),k=a(71),l=a(38);r.exports=function(a,e){var c=[];a.eachSeriesByType("graph",function(a){var b=a.get("coordinateSystem");if(!b||"view"===b){var d=a.getData(),f=d.mapArray(function(a){a=d.getItemModel(a);return[+a.get("x"),+a.get("y")]}),b=[],h=[];l.fromPoints(f,b,h);0===h[0]-b[0]&&(h[0]+=1,--b[0]);0===h[1]-b[1]&&(h[1]+=1,--b[1]);var k=(h[0]-b[0])/(h[1]-b[1]),f=m(a,e,k);isNaN(k)&&(b=[f.x,f.y],h=[f.x+f.width,f.y+f.height]);var k=h[0]-b[0],h=h[1]-b[1],n=f.width,r=f.height,v=a.coordinateSystem=new q;v.zoomLimit=a.get("scaleLimit");v.setBoundingRect(b[0],b[1],k,h);v.setViewRect(f.x,f.y,n,r);v.setCenter(a.get("center"));v.setZoom(a.get("zoom"));c.push(v)}});return c}},function(r,n,a){a(227);a(228)},function(r,n,a){var m=a(98);n=a(78);var q=a(4);a=n.extend({type:"series.gauge",getInitialData:function(a,l){var f=new m(["value"],this),e=a.data||[];q.isArray(e)||(e=[e]);f.initData(e);return f},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});r.exports=a},function(r,n,a){function m(a,d){d&&("string"===typeof d?a=d.replace("{value}",null!=a?a:""):"function"===typeof d&&(a=d(a)));return a}var q=a(229),k=a(18),l=a(7),f=l.parsePercent,e=2*Math.PI;n=a(80).extend({type:"gauge",render:function(a,d,b){this.group.removeAll();var c=a.get("axisLine.lineStyle.color"),e=a.get("center"),h=b.getWidth(),k=b.getHeight(),k=Math.min(h,k),h=f(e[0],b.getWidth()),e=f(e[1],b.getHeight()),k=f(a.get("radius"),k/2);this._renderMain(a,d,b,c,{cx:h,cy:e,r:k})},dispose:function(){},_renderMain:function(a,d,b,g,f){for(var c=this.group,p=a.getModel("axisLine").getModel("lineStyle"),l=a.get("clockwise"),m=-a.get("startAngle")/180*Math.PI,v=-a.get("endAngle")/180*Math.PI,u=(v-m)%e,q=m,n=p.get("width"),r=0;r<g.length;r++)v=m+u*Math.min(Math.max(g[r][0],0),1),q=new k.Sector({shape:{startAngle:q,endAngle:v,cx:f.cx,cy:f.cy,clockwise:l,r0:f.r-n,r:f.r},silent:!0}),q.setStyle({fill:g[r][1]}),q.setStyle(p.getLineStyle(["color","borderWidth","borderColor"])),c.add(q),q=v;c=function(a){if(0>=a)return g[0][1];for(var b=0;b<g.length;b++)if(g[b][0]>=a&&(0===b?0:g[b-1][0])<a)return g[b][1];return g[b-1][1]};l||(p=m,m=v,v=p);this._renderTicks(a,d,b,c,f,m,v,l);this._renderPointer(a,d,b,c,f,m,v,l);this._renderTitle(a,d,b,c,f);this._renderDetail(a,d,b,c,f)},_renderTicks:function(a,d,b,e,p,h,t,q){d=this.group;b=p.cx;q=p.cy;p=p.r;var c=+a.get("min"),g=+a.get("max"),u=a.getModel("splitLine"),n=a.getModel("axisTick"),w=a.getModel("axisLabel");a=a.get("splitNumber");var r=n.get("splitNumber"),A=f(u.get("length"),p),C=f(n.get("length"),p),B=h;h=(t-h)/a;t=h/r;for(var L=u.getModel("lineStyle").getLineStyle(),E=n.getModel("lineStyle").getLineStyle(),M=w.getModel("textStyle"),N=0;N<=a;N++){var F=Math.cos(B),J=Math.sin(B);if(u.get("show")){var H=new k.Line({shape:{x1:F*p+b,y1:J*p+q,x2:F*(p-A)+b,y2:J*(p-A)+q},style:L,silent:!0});"auto"===L.stroke&&H.setStyle({stroke:e(N/a)});d.add(H)}if(w.get("show")){var H=m(l.round(N/a*(g-c)+c),w.get("formatter")),K=w.get("distance"),F=new k.Text({style:{text:H,x:F*(p-A-K)+b,y:J*(p-A-K)+q,fill:M.getTextColor(),textFont:M.getFont(),textVerticalAlign:-.4>J?"top":.4<J?"bottom":"middle",textAlign:-.4>F?"left":.4<F?"right":"center"},silent:!0});"auto"===F.style.fill&&F.setStyle({fill:e(N/a)});d.add(F)}if(n.get("show")&&N!==a){for(H=0;H<=r;H++)F=Math.cos(B),J=Math.sin(B),F=new k.Line({shape:{x1:F*p+b,y1:J*p+q,x2:F*(p-C)+b,y2:J*(p-C)+q},silent:!0,style:E}),"auto"===E.stroke&&F.setStyle({stroke:e((N+H/r)/a)}),d.add(F),B+=t;B-=t}else B+=h}},_renderPointer:function(a,d,b,e,p,h,m,n){var c=this.group,g=this._data;if(a.get("pointer.show")){var t=[+a.get("min"),+a.get("max")],x=[h,m],w=a.getData();w.diff(g).add(function(b){var d=new q({shape:{angle:h}});k.initProps(d,{shape:{angle:l.linearMap(w.get("value",b),t,x,!0)}},a);c.add(d);w.setItemGraphicEl(b,d)}).update(function(b,d){var e=g.getItemGraphicEl(d);k.updateProps(e,{shape:{angle:l.linearMap(w.get("value",b),t,x,!0)}},a);c.add(e);w.setItemGraphicEl(b,e)}).remove(function(a){a=g.getItemGraphicEl(a);c.remove(a)}).execute();w.eachItemGraphicEl(function(a,b){var c=w.getItemModel(b),d=c.getModel("pointer");a.setShape({x:p.cx,y:p.cy,width:f(d.get("width"),p.r),r:f(d.get("length"),p.r)});a.useStyle(c.getModel("itemStyle.normal").getItemStyle());"auto"===a.style.fill&&a.setStyle("fill",e(l.linearMap(w.get("value",b),t,[0,1],!0)));k.setHoverStyle(a,c.getModel("itemStyle.emphasis").getItemStyle())});this._data=w}else g&&g.eachItemGraphicEl(function(a){c.remove(a)})},_renderTitle:function(a,d,b,e,p){b=a.getModel("title");if(b.get("show")){d=b.getModel("textStyle");var c=b.get("offsetCenter");b=p.cx+f(c[0],p.r);p=p.cy+f(c[1],p.r);p=new k.Text({style:{x:b,y:p,text:a.getData().getName(0),fill:d.getTextColor(),textFont:d.getFont(),textAlign:"center",textVerticalAlign:"middle"}});"auto"===p.style.fill&&(d=+a.get("min"),b=+a.get("max"),a=a.getData().get("value",0),p.setStyle("fill",e(l.linearMap(a,[d,b],[0,1],!0))));this.group.add(p)}},_renderDetail:function(a,d,b,e,p){d=a.getModel("detail");b=+a.get("min");var c=+a.get("max");if(d.get("show")){var g=d.getModel("textStyle"),q=d.get("offsetCenter"),n=p.cx+f(q[0],p.r),q=p.cy+f(q[1],p.r),v=f(d.get("width"),p.r);p=f(d.get("height"),p.r);a=a.getData().get("value",0);p=new k.Rect({shape:{x:n-v/2,y:q-p/2,width:v,height:p},style:{text:m(a,d.get("formatter")),fill:d.get("backgroundColor"),textFill:g.getTextColor(),textFont:g.getFont()}});"auto"===p.style.textFill&&p.setStyle("textFill",e(l.linearMap(a,[b,c],[0,1],!0)));p.setStyle(d.getItemStyle(["color"]));this.group.add(p)}}});r.exports=n},function(r,n,a){r.exports=a(20).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,q){var k=Math.cos,l=Math.sin,f=q.r,e=q.width,c=q.angle,d=q.x-k(c)*e*(e>=f/3?1:2),b=q.y-l(c)*e*(e>=f/3?1:2),c=q.angle-Math.PI/2;a.moveTo(d,b);a.lineTo(q.x+k(c)*e,q.y+l(c)*e);a.lineTo(q.x+k(q.angle)*f,q.y+l(q.angle)*f);a.lineTo(q.x-k(c)*e,q.y-l(c)*e);a.lineTo(d,b)}})},function(r,n,a){r=a(4);n=a(1);a(231);a(232);n.registerVisual(r.curry(a(151),"funnel"));n.registerLayout(a(233));n.registerProcessor(r.curry(a(154),"funnel"))},function(r,n,a){var m=a(98),q=a(5),k=a(110),l=a(1).extendSeriesModel({type:"series.funnel",init:function(a){l.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(a)},getInitialData:function(a,e){var c=k(["value"],a.data),c=new m(c,this);c.initData(a.data);return c},_defaultLabelLine:function(a){q.defaultEmphasis(a.labelLine,["show"]);var e=a.labelLine.normal,c=a.labelLine.emphasis;e.show=e.show&&a.label.normal.show;c.show=c.show&&a.label.emphasis.show},getDataParams:function(a){var e=this.getData(),c=l.superCall(this,"getDataParams",a),d=e.getSum("value");c.percent=d?+(e.get("value",a)/d*100).toFixed(2):0;c.$vars.push("percent");return c},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});r.exports=l},function(r,n,a){function m(a,c){function d(){f.ignore=f.hoverIgnore;h.ignore=h.hoverIgnore}function b(){f.ignore=f.normalIgnore;h.ignore=h.normalIgnore}k.Group.call(this);var e=new k.Polygon,f=new k.Polyline,h=new k.Text;this.add(e);this.add(f);this.add(h);this.updateData(a,c,!0);this.on("emphasis",d).on("normal",b).on("mouseover",d).on("mouseout",b)}function q(a,c,d,b){var e=b.getModel("textStyle");b=b.get("position");b="inside"===b||"inner"===b||"center"===b;return{fill:e.getTextColor()||(b?"#fff":a.getItemVisual(c,"color")),textFont:e.getFont(),text:l.retrieve(a.hostModel.getFormattedLabel(c,d),a.getName(c))}}var k=a(18),l=a(4);n=m.prototype;var f=["itemStyle","normal","opacity"];n.updateData=function(a,c,d){var b=this.childAt(0),e=a.hostModel,p=a.getItemModel(c),h=a.getItemLayout(c),m=a.getItemModel(c).get(f),m=null==m?1:m;b.useStyle({});d?(b.setShape({points:h.points}),b.setStyle({opacity:0}),k.initProps(b,{style:{opacity:m}},e,c)):k.updateProps(b,{style:{opacity:m},shape:{points:h.points}},e,c);d=p.getModel("itemStyle");e=a.getItemVisual(c,"color");b.setStyle(l.defaults({lineJoin:"round",fill:e},d.getModel("normal").getItemStyle(["opacity"])));b.hoverStyle=d.getModel("emphasis").getItemStyle();this._updateLabel(a,c);k.setHoverStyle(this)};n._updateLabel=function(a,c){var d=this.childAt(1),b=this.childAt(2),e=a.hostModel,f=a.getItemModel(c),h=a.getItemLayout(c).label,l=a.getItemVisual(c,"color");k.updateProps(d,{shape:{points:h.linePoints||h.linePoints}},e,c);k.updateProps(b,{style:{x:h.x,y:h.y}},e,c);b.attr({style:{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign,textFont:h.font},rotation:h.rotation,origin:[h.x,h.y],z2:10});var e=f.getModel("label.normal"),h=f.getModel("label.emphasis"),m=f.getModel("labelLine.normal"),f=f.getModel("labelLine.emphasis");b.setStyle(q(a,c,"normal",e));b.ignore=b.normalIgnore=!e.get("show");b.hoverIgnore=!h.get("show");d.ignore=d.normalIgnore=!m.get("show");d.hoverIgnore=!f.get("show");d.setStyle({stroke:l});d.setStyle(m.getModel("lineStyle").getLineStyle());b.hoverStyle=q(a,c,"emphasis",h);d.hoverStyle=f.getModel("lineStyle").getLineStyle()};l.inherits(m,k.Group);a=a(80).extend({type:"funnel",render:function(a,c,d){var b=a.getData(),e=this._data,f=this.group;b.diff(e).add(function(a){var c=new m(b,a);b.setItemGraphicEl(a,c);f.add(c)}).update(function(a,c){var d=e.getItemGraphicEl(c);d.updateData(b,a);f.add(d);b.setItemGraphicEl(a,d)}).remove(function(a){a=e.getItemGraphicEl(a);f.remove(a)}).execute();this._data=b},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});r.exports=a},function(r,n,a){function m(a,d){return l.getLayoutRect(a.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()})}function q(a,d){for(var b=a.mapArray("value",function(a){return a}),c=[],e="ascending"===d,h=0,f=a.count();h<f;h++)c[h]=h;"function"===typeof d?c.sort(d):"none"!==d&&c.sort(function(a,c){return e?b[a]-b[c]:b[c]-b[a]});return c}function k(a){a.each(function(c){var b=a.getItemModel(c),d=b.getModel("label.normal").get("position"),e=b.getModel("labelLine.normal");c=a.getItemLayout(c);var h=c.points,b="inner"===d||"inside"===d||"center"===d,f;if(b)d=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,f=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,h="center",e=[[d,f],[d,f]];else{var k,l=e.get("length");"left"===d?(e=(h[3][0]+h[0][0])/2,f=(h[3][1]+h[0][1])/2,k=e-l,d=k-5,h="right"):(e=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,k=e+l,d=k+5,h="left");l=f;e=[[e,f],[k,l]];f=l}c.label={linePoints:e,x:d,y:f,verticalAlign:"middle",textAlign:h,inside:b}})}var l=a(71),f=a(7),e=f.parsePercent;r.exports=function(a,d,b){a.eachSeriesByType("funnel",function(a){var b=a.getData(),c=a.get("sort"),g=m(a,d),l=q(b,c),n=[e(a.get("minSize"),g.width),e(a.get("maxSize"),g.width)],v=b.getDataExtent("value"),u=a.get("min"),x=a.get("max");null==u&&(u=Math.min(v[0],0));null==x&&(x=v[1]);var r=a.get("funnelAlign");a=a.get("gap");var v=(g.height-a*(b.count()-1))/b.count(),D=g.y,A=function(a,c){var d=b.get("value",a)||0,d=f.linearMap(d,[u,x],n,!0),e;switch(r){case "left":e=g.x;break;case "center":e=g.x+(g.width-d)/2;break;case "right":e=g.x+g.width-d}return[[e,c],[e+d,c]]};"ascending"===c&&(v=-v,a=-a,D+=g.height,l=l.reverse());for(c=0;c<l.length;c++){var C=l[c],B=l[c+1],L=A(C,D),B=A(B,D+v),D=D+(v+a);b.setItemLayout(C,{points:L.concat(B.slice().reverse())})}k(b)})}},function(r,n,a){r=a(1);a(235);a(248);a(249);r.registerVisual(a(250))},function(r,n,a){function m(a,e){var c=a._model;return c.get("axisExpandable")&&c.get("axisExpandTriggerOn")===e}a(236);a(240);a(242);r=a(1);var q=a(4),k=a(81);r.extendComponentView({type:"parallel",render:function(a,e,c){this._model=a;this._api=c;this._handlers||(this._handlers={},q.each(l,function(a,b){c.getZr().on(b,this._handlers[b]=q.bind(a,this))},this));k.createOrUpdate(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},dispose:function(a,e){q.each(this._handlers,function(a,d){e.getZr().off(d,a)});this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(q.extend({type:"parallelAxisExpand"},a))}});var l={mousedown:function(a){m(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var e=this._mouseDownPoint;if(m(this,"click")&&e){var c=[a.offsetX,a.offsetY];if(5<Math.pow(e[0]-c[0],2)+Math.pow(e[1]-c[1],2))return;a=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);"none"!==a.behavior&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!this._mouseDownPoint&&m(this,"mousemove")){var e=this._model;a=e.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);var c=a.behavior;"jump"===c&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce"));this._throttledDispatchExpand("none"===c?null:{axisExpandWindow:a.axisExpandWindow,animation:"jump"===c?null:!1})}}};r.registerPreprocessor(a(247))},function(r,n,a){var m=a(237);a(76).register("parallel",{create:function(a,k){var l=[];a.eachComponent("parallel",function(f,e){var c=new m(f,a,k);c.name="parallel_"+e;c.resize(f,k);f.coordinateSystem=c;c.model=f;l.push(c)});a.eachSeries(function(f){if("parallel"===f.get("coordinateSystem")){var e=a.queryComponents({mainType:"parallel",index:f.get("parallelIndex"),id:f.get("parallelId")})[0];f.coordinateSystem=e.coordinateSystem}});return l}})},function(r,n,a){function m(a,b,d){this._axesMap=c.createHashMap();this._axesLayout={};this.dimensions=a.dimensions;this._model=a;this._init(a,b,d)}function q(a,b){return t(w(a,b[0]),b[1])}function k(a,b){var c=b.layoutLength/(b.axisCount-1);return{position:c*a,axisNameAvailableWidth:c,axisLabelShow:!0}}function l(a,b){var c=b.layoutLength,d=b.axisExpandWidth,e=b.axisCount,g=b.axisCollapseWidth,h=b.winInnerIndices,f=g,k=!1,p;a<h[0]?(c=a*g,p=g):a<=h[1]?(c=b.axisExpandWindow0Pos+a*d-b.axisExpandWindow[0],f=d,k=!0):(c-=(e-1-a)*g,p=g);return{position:c,axisNameAvailableWidth:f,axisLabelShow:k,nameTruncateMaxWidth:p}}var f=a(71),e=a(101),c=a(4),d=a(238),b=a(18),g=a(11);n=a(7);var p=a(239),h=c.each,t=Math.min,w=Math.max,z=Math.floor,v=Math.ceil,u=n.round,x=Math.PI;m.prototype={type:"parallel",constructor:m,_init:function(a,b,c){var g=a.parallelAxisIndex;h(a.dimensions,function(a,c){var h=g[c],f=b.getComponent("parallelAxis",h),h=this._axesMap.set(a,new d(a,e.createScaleByModel(f),[0,0],f.get("type"),h));h.onBand="category"===h.type&&f.get("boundaryGap");h.inverse=f.get("inverse");f.axis=h;h.model=f;h.coordinateSystem=f.coordinateSystem=this},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},containPoint:function(a){var b=this._makeLayoutInfo(),c=b.axisBase,d=b.layoutBase,e=b.pixelDimIndex,g=a[1-e];a=a[e];return g>=c&&g<=c+b.axisLength&&a>=d&&a<=d+b.layoutLength},_updateAxesFromSeries:function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();h(this.dimensions,function(a){var b=this._axesMap.get(a);b.scale.unionExtentFromData(d,a);e.niceScaleExtent(b.scale,b.model)},this)}},this)},resize:function(a,b){this._rect=f.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var a=this._model,b=this._rect,c=["x","y"],d=["width","height"],e=a.get("layout"),g="horizontal"===e?0:1,h=b[d[g]],f=[0,h],k=this.dimensions.length,p=q(a.get("axisExpandWidth"),f),l=q(a.get("axisExpandCount")||0,[0,k]),m=a.get("axisExpandable")&&3<k&&k>l&&1<l&&0<p&&0<h,t=a.get("axisExpandWindow");t?f=q(t[1]-t[0],f):(f=q(p*(l-1),f),t=a.get("axisExpandCenter")||z(k/2),t=[p*t-f/2]);t[1]=t[0]+f;l=(h-f)/(k-l);3>l&&(l=0);a=[z(u(t[0]/p,1))+1,v(u(t[1]/p,1))-1];return{layout:e,pixelDimIndex:g,layoutBase:b[c[g]],layoutLength:h,axisBase:b[c[1-g]],axisLength:b[d[1-g]],axisExpandable:m,axisExpandWidth:p,axisCollapseWidth:l,axisExpandWindow:t,axisCount:k,winInnerIndices:a,axisExpandWindow0Pos:l/p*t[0]}},_layoutAxes:function(){var a=this._rect,b=this._axesMap,c=this.dimensions,d=this._makeLayoutInfo(),e=d.layout;b.each(function(a){var b=[0,d.axisLength],c=a.inverse?1:0;a.setExtent(b[c],b[1-c])});h(c,function(c,h){var f=(d.axisExpandable?l:k)(h,d),p={horizontal:{x:f.position,y:d.axisLength},vertical:{x:0,y:f.position}},p=[p[e].x+a.x,p[e].y+a.y],m={horizontal:x/2,vertical:0}[e],t=g.create();g.rotate(t,t,m);g.translate(t,t,p);this._axesLayout[c]={position:p,rotation:m,transform:t,axisNameAvailableWidth:f.axisNameAvailableWidth,axisLabelShow:f.axisLabelShow,nameTruncateMaxWidth:f.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:b.get(c).getLabelInterval()}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},eachActiveState:function(a,b,c){for(var d=this.dimensions,e=this._axesMap,g=this.hasAxisBrushed(),h=0,f=a.count();h<f;h++){var k=a.getValues(d,h),p;if(g){p="active";for(var l=0,m=d.length;l<m;l++)if("inactive"===e.get(d[l]).model.getActiveState(k[l],l)){p="inactive";break}}else p="normal";b.call(c,p,h)}},hasAxisBrushed:function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;d<e;d++)"normal"!==b.get(a[d]).model.getActiveState()&&(c=!0);return c},axisCoordToPoint:function(a,c){return b.applyTransform([a,0],this._axesLayout[c].transform)},getAxisLayout:function(a){return c.clone(this._axesLayout[a])},getSlidedAxisExpandWindow:function(a){var b=this._makeLayoutInfo(),c=b.pixelDimIndex,d=b.axisExpandWindow.slice(),e=d[1]-d[0],g=[0,b.axisExpandWidth*(b.axisCount-1)];if(!this.containPoint(a))return{behavior:"none",axisExpandWindow:d};a=a[c]-b.layoutBase-b.axisExpandWindow0Pos;var h,c="slide",f=b.axisCollapseWidth,k=this._model.get("axisExpandSlideTriggerArea");h=null!=k[0];f?(h&&f&&a<e*k[0]?(c="jump",h=a-e*k[2]):h&&f&&a>e*(1-k[0])?(c="jump",h=a-e*(1-k[2])):0<=(h=a-e*k[1])&&0>=(h=a-e*(1-k[1]))&&(h=0),(h*=b.axisExpandWidth/f)?p(h,d,g,"all"):c="none"):(e=d[1]-d[0],d=[w(0,g[1]*a/e-e/2)],d[1]=t(g[1],d[0]+e),d[0]=d[1]-e);return{axisExpandWindow:d,behavior:c}}};r.exports=m},function(r,n,a){n=a(4);var m=a(100);a=function(a,k,l,f,e){m.call(this,a,k,l);this.type=f||"value";this.axisIndex=e};a.prototype={constructor:a,model:null};n.inherits(a,m);r.exports=a},function(r,n){function a(a,k){var l=a[k]-a[1-k];return{span:Math.abs(l),sign:0<l?-1:0>l?1:k?-1:1}}function m(a,k){return Math.min(k[1],Math.max(k[0],a))}r.exports=function(q,k,l,f,e,c){k[0]=m(k[0],l);k[1]=m(k[1],l);q=q||0;var d=l[1]-l[0];null!=e&&(e=m(e,[0,d]));null!=c&&(c=Math.max(c,null!=e?e:0));"all"===f&&(e=c=Math.abs(k[1]-k[0]),f=0);d=a(k,f);k[f]+=q;q=e||0;l=l.slice();0>d.sign?l[0]+=q:l[1]-=q;k[f]=m(k[f],l);l=a(k,f);null!=e&&(l.sign!==d.sign||l.span<e)&&(k[1-f]=k[f]+d.sign*e);l=a(k,f);null!=c&&l.span>c&&(k[1-f]=k[f]+l.sign*c);return k}},function(r,n,a){var m=a(4),q=a(69);a(241);q.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){q.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(a){var k=this.option;a&&m.merge(k,a,!0);this._initDimensions()},contains:function(a,l){var f=a.get("parallelIndex");return null!=f&&l.getComponent("parallel",f)===this},setAxisExpand:function(a){m.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(k){a.hasOwnProperty(k)&&(this.option[k]=a[k])},this)},_initDimensions:function(){var a=this.dimensions=[],l=this.parallelAxisIndex=[],f=m.filter(this.dependentModels.parallelAxis,function(a){return a.get("parallelIndex")===this.componentIndex});m.each(f,function(e){a.push("dim"+e.get("dim"));l.push(e.componentIndex)})}})},function(r,n,a){var m=a(69),q=a(4),k=a(15);n=a(131);var l=a(7),m=m.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return k([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){if(a=this.activeIntervals=q.clone(a))for(var e=a.length-1;0<=e;e--)l.asc(a[e])},getActiveState:function(a){var e=this.activeIntervals;if(!e.length)return"normal";if(null==a)return"inactive";for(var c=0,d=e.length;c<d;c++)if(e[c][0]<=a&&a<=e[c][1])return"active";return"inactive"}});q.merge(m.prototype,a(112));n("parallel",m,function(a,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});r.exports=m},function(r,n,a){a(236);a(243);a(244)},function(r,n,a){r=a(1);r.registerAction({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(a,q){q.eachComponent({mainType:"parallelAxis",query:a},function(k){k.axis.model.setActiveIntervals(a.intervals)})});r.registerAction("parallelAxisExpand",function(a,q){q.eachComponent({mainType:"parallel",query:a},function(k){k.setAxisExpand(a)})})},function(r,n,a){function m(a){var b=a.axis;return q.map(a.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(a[0],!0),b.dataToCoord(a[1],!0)]}})}var q=a(4),k=a(135),l=a(245),f=a(246),e=a(18),c=["axisLine","axisLabel","axisTick","axisName"],d=a(1).extendComponentView({type:"parallelAxis",init:function(a,c){d.superApply(this,"init",arguments);(this._brushController=new l(c.getZr())).on("brush",q.bind(this._onBrush,this))},render:function(a,d,f,h){if(!h||"axisAreaSelect"!==h.type||d.findComponents({mainType:"parallelAxis",query:h})[0]!==a){this.axisModel=a;this.api=f;this.group.removeAll();var b=this._axisGroup;this._axisGroup=new e.Group;this.group.add(this._axisGroup);if(a.get("show")){d=d.getComponent("parallel",a.get("parallelIndex"));var g=d.coordinateSystem,p=a.getAreaSelectStyle(),l=p.width,g=g.getAxisLayout(a.axis.dim),g=q.extend({strokeContainThreshold:l},g),m=new k(a,g);q.each(c,m.add,m);this._axisGroup.add(m.getGroup());this._refreshBrushController(g,p,a,d,l,f);e.groupTransition(b,this._axisGroup,h&&!1===h.animation?null:a)}}},updateVisual:function(a,c,d,e){this._brushController&&this._brushController.updateCovers(m(a))},_refreshBrushController:function(a,c,d,h,k,l){var b=d.axis.getExtent(),g=b[1]-b[0],p=Math.min(30,.1*Math.abs(g));k=e.BoundingRect.create({x:b[0],y:-k/2,width:g,height:k});k.x-=p;k.width+=2*p;this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,position:a.position}).setPanels([{panelId:"pl",clipPath:f.makeRectPanelClipPath(k),isTargetByCursor:f.makeRectIsTargetByCursor(k,l,h),getLinearBrushOtherExtent:f.makeLinearBrushOtherExtent(k,0)}]).enableBrush({brushType:"lineX",brushStyle:c,removeOnClick:!0}).updateCovers(m(d))},_onBrush:function(a,c){var b=this.axisModel,d=b.axis,e=q.map(a,function(a){return[d.coordToData(a.range[0],!0),d.coordToData(a.range[1],!0)]});(!b.option.realtime===c.isEnd||c.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:b.id,intervals:e})},dispose:function(){this._brushController.dispose()}});r.exports=d},function(r,n,a){function m(a){I.assert(a);K.call(this);this._zr=a;this.group=new G.Group;this._track=[];this._covers=[];this._mounted;this._uid="brushController_"+Z++;this._handlers={};P(fa,function(a,b){this._handlers[b]=I.bind(a,this)},this)}function q(a,b){var c=a._zr;a._enableGlobalPan||O.take(c,"globalPan",a._uid);P(a._handlers,function(a,b){c.on(b,a)});a._brushType=b.brushType;a._brushOption=I.merge(I.clone(V),b,!0)}function k(a){var b=a._zr;O.release(b,"globalPan",a._uid);P(a._handlers,function(a,c){b.off(c,a)});a._brushType=a._brushOption=null}function l(a,b){var c=W[b.brushType].createCover(a,b);c.__brushOption=b;e(c,b);a.group.add(c);return c}function f(a,b){var c=W[b.__brushOption.brushType];c.endCreating&&(c.endCreating(a,b),e(b,b.__brushOption));return b}function e(a,b){var c=b.z;null==c&&(c=1E4);a.traverse(function(a){a.z=c;a.z2=c})}function c(a,b){W[b.__brushOption.brushType].updateCommon(a,b);var c=b.__brushOption;W[b.__brushOption.brushType].updateCoverShape(a,b,c.range,c)}function d(a,b,c){var d=a._panels;if(!d)return!0;var e,g=a._transform;P(d,function(a){a.isTargetByCursor(b,c,g)&&(e=a)});return e}function b(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null!=d?c[d]:!0}function g(a){var b=a._covers,c=b.length;P(b,function(b){a.group.remove(b)},a);b.length=0;return!!c}function p(a,b){var c=U(a._covers,function(a){a=a.__brushOption;var b=I.clone(a.range);return{brushType:a.brushType,panelId:a.panelId,range:b}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function h(a){var b=a.length-1;0>b&&(b=0);return[a[0],a[b]]}function t(a,b,c,d){var e=new G.Group;e.add(new G.Rect({name:"main",style:u(c),silent:!0,draggable:!0,cursor:"move",drift:T(a,b,e,"nswe"),ondragend:T(p,b,{isEnd:!0})}));P(d,function(c){e.add(new G.Rect({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:T(a,b,e,c),ondragend:T(p,b,{isEnd:!0})}))});return e}function w(a,b,c,d){var e=d.brushStyle.lineWidth||0,g=S(e,6),h=c[0][0],f=c[1][0],k=h-e/2,p=f-e/2,l=c[0][1],m=c[1][1];c=l-g+e/2;var t=m-g+e/2,l=l-h,m=m-f,u=l+e,e=m+e;v(a,b,"main",h,f,l,m);d.transformable&&(v(a,b,"w",k,p,g,e),v(a,b,"e",c,p,g,e),v(a,b,"n",k,p,u,g),v(a,b,"s",k,t,u,g),v(a,b,"nw",k,p,g,g),v(a,b,"ne",c,p,g,g),v(a,b,"sw",k,t,g,g),v(a,b,"se",c,t,g,g))}function z(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(u(c));e.attr({silent:!d,cursor:d?"move":"default"});P("w e n s se sw ne nw".split(" "),function(c){var e=b.childOfName(c);c=y(a,c);e&&e.attr({silent:!d,invisible:!d,cursor:d?Y[c]+"-resize":null})})}function v(a,b,c,d,e,g,h){(c=b.childOfName(c))&&c.setShape(L(B(a,b,[[d,e],[d+g,e+h]])))}function u(a){return I.defaults({strokeNoScale:!0},a.brushStyle)}function x(a,b,c,d){var e=[aa(a,c),aa(b,d)];a=[S(a,c),S(b,d)];return[[e[0],a[0]],[e[1],a[1]]]}function y(a,b){if(1<b.length){b=b.split("");var c=[y(a,b[0]),y(a,b[1])];"e"!==c[0]&&"w"!==c[0]||c.reverse();return c.join("")}c=G.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[b],G.getTransform(a.group));return{left:"w",right:"e",top:"n",bottom:"s"}[c]}function D(a,b,d,e,g,h,f,k){k=e.__brushOption;var l=a(k.range),m=C(d,h,f);P(g.split(""),function(a){a=X[a];l[a[0]][a[1]]+=m[a[0]]});k.range=b(x(l[0][0],l[1][0],l[0][1],l[1][1]));c(d,e);p(d,{isEnd:!1})}function A(a,b,d,e,g){g=b.__brushOption.range;var h=C(a,d,e);P(g,function(a){a[0]+=h[0];a[1]+=h[1]});c(a,b);p(a,{isEnd:!1})}function C(a,b,c){a=a.group;b=a.transformCoordToLocal(b,c);c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function B(a,c,d){return(c=b(a,c))&&!0!==c?c.clipPath(d,a._transform):I.clone(d)}function L(a){var b=aa(a[0][0],a[1][0]),c=aa(a[0][1],a[1][1]),d=S(a[0][0],a[1][0]);a=S(a[0][1],a[1][1]);return{x:b,y:c,width:d-b,height:a-c}}function E(a){a=a.event;a.preventDefault&&a.preventDefault()}function M(a,b,c){return a.childOfName("main").contain(b,c)}function N(a,b,c,e){var h=a._creatingCover,k=a._creatingPanel,p=a._brushOption,m;a._track.push(c.slice());var t;var u=a._track;if(u.length){t=u[u.length-1];var v=u[0],u=t[0]-v[0];t=t[1]-v[1];t=6<ba(u*u+t*t,.5)}else t=!1;t||h?(k&&!h&&("single"===p.brushMode&&g(a),h=I.clone(p),h.brushType=F(h.brushType,k),h.panelId=!0===k?null:k.panelId,h=a._creatingCover=l(a,h),a._covers.push(h)),h&&(k=W[F(a._brushType,k)],h.__brushOption.range=k.getCreatingRange(B(a,h,a._track)),e&&(f(a,h),k.updateCommon(a,h)),k=h.__brushOption,W[h.__brushOption.brushType].updateCoverShape(a,h,k.range,k),m={isEnd:e})):e&&"single"===p.brushMode&&p.removeOnClick&&d(a,b,c)&&g(a)&&(m={isEnd:e,removeOnClick:!0});return m}function F(a,b){return"auto"===a?(I.assert(b&&b.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),b.defaultBrushType):a}function J(a){if(this._dragging){E(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a=N(this,a,b,!0);this._dragging=!1;this._track=[];this._creatingCover=null;a&&p(this,a)}}function H(a){return{createCover:function(b,c){return t(T(D,function(b){b=[b,[0,100]];a&&b.reverse();return b},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=h(b);b=aa(c[0][a],c[1][a]);c=S(c[0][a],c[1][a]);return[b,c]},updateCoverShape:function(c,d,e,g){var h;h=b(c,d);!0!==h&&h.getLinearBrushOtherExtent?h=h.getLinearBrushOtherExtent(a,c._transform):(h=c._zr,h=[0,[h.getWidth(),h.getHeight()][1-a]]);e=[e,h];a&&e.reverse();w(c,d,e,g)},updateCommon:z,contain:M}}var K=a(25),I=a(4),G=a(18),O=a(184),Q=a(99),T=I.curry,P=I.each,U=I.map,aa=Math.min,S=Math.max,ba=Math.pow,X={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Y={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},V={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},Z=0;m.prototype={constructor:m,enableBrush:function(a){I.assert(this._mounted);this._brushType&&k(this);a.brushType&&q(this,a);return this},setPanels:function(a){if(a&&a.length){var b=this._panels={};I.each(a,function(a){b[a.panelId]=I.clone(a)})}else this._panels=null;return this},mount:function(a){a=a||{};this._mounted=!0;this._enableGlobalPan=a.enableGlobalPan;var b=this.group;this._zr.add(b);b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]});this._transform=b.getLocalTransform();return this},eachCover:function(a,b){P(this._covers,a,b)},updateCovers:function(a){function b(a,b){return(null!=a.id?a.id:"\x00-brush-index-"+b)+"-"+a.brushType}function d(b,d){var p=a[b];null!=d&&e[d]===k?g[b]=e[d]:(p=g[b]=null!=d?(e[d].__brushOption=p,e[d]):f(h,l(h,p)),c(h,p))}I.assert(this._mounted);a=I.map(a,function(a){return I.merge(I.clone(V),a,!0)});var e=this._covers,g=this._covers=[],h=this,k=this._creatingCover;(new Q(e,a,function(a,c){return b(a.__brushOption,c)},b)).add(d).update(d).remove(function(a){e[a]!==k&&h.group.remove(e[a])}).execute();return this},unmount:function(){if(this._mounted)return this.enableBrush(!1),g(this),this._zr.remove(this.group),this._mounted=!1,this},dispose:function(){this.unmount();this.off()}};I.mixin(m,K);var fa={mousedown:function(a){if(this._dragging)J.call(this,a);else if(!a.target||!a.target.draggable){E(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;if(this._creatingPanel=d(this,a,b))this._dragging=!0,this._track=[b.slice()]}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a:if(this._brushType){var c=this._zr,e=this._covers,g=d(this,a,b);if(!this._dragging)for(var h=0;h<e.length;h++){var f=e[h].__brushOption;if(g&&(!0===g||f.panelId===g.panelId)&&W[f.brushType].contain(e[h],b[0],b[1]))break a}g&&c.setCursorStyle("crosshair")}this._dragging&&(E(a),(a=N(this,a,b,!1))&&p(this,a))},mouseup:J},W={lineX:H(0),lineY:H(1),rect:{createCover:function(a,b){return t(T(D,function(a){return a},function(a){return a}),a,b,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(a){a=h(a);return x(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){w(a,b,c,d)},updateCommon:z,contain:M},polygon:{createCover:function(a,b){var c=new G.Group;c.add(new G.Polyline({name:"main",style:u(b),silent:!0}));return c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0));b.add(new G.Polygon({name:"main",draggable:!0,drift:T(A,a,b),ondragend:T(p,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:B(a,b,c)})},updateCommon:z,contain:M}};r.exports=m},function(r,n,a){var m=a(186),q=a(9),k=a(18);r.exports={makeRectPanelClipPath:function(a){a=q.create(a);return function(f,e){return k.clipPointsByRect(f,a)}},makeLinearBrushOtherExtent:function(a,f){a=q.create(a);return function(e){var c=(e=null!=f?f:e)?a.x:a.y;return[c,c+((e?a.width:a.height)||0)]}},makeRectIsTargetByCursor:function(a,f,e){a=q.create(a);return function(c,d,b){return a.contain(d[0],d[1])&&!m.onIrrelevantElement(c,f,e)}}}},function(r,n,a){function m(a){if(!a.parallel){var e=!1;k.each(a.series,function(a){a&&"parallel"===a.type&&(e=!0)});e&&(a.parallel=[{}])}}function q(a){var e=l.normalizeToArray(a.parallelAxis);k.each(e,function(c){if(k.isObject(c)){var d=c.parallelIndex||0;(d=l.normalizeToArray(a.parallel)[d])&&d.parallelAxisDefault&&k.merge(c,d.parallelAxisDefault,!1)}})}var k=a(4),l=a(5);r.exports=function(a){m(a);q(a)}},function(r,n,a){function m(a,c,d){var b=a.get("data"),e=+c.replace("dim","");b&&b.length&&l.each(d,function(a){if(a){var c=l.indexOf(b,a[e]);a[e]=0<=c?c:NaN}})}function q(a,c){var d=0;l.each(a,function(a){a=+a.replace("dim","");a>d&&(d=a)});var b=c[0];b&&b.length-1>d&&(d=b.length-1);for(var b=[],e=0;e<=d;e++)b.push("dim"+e);return b}var k=a(98),l=a(4);n=a(78);var f=a(110);r.exports=n.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(a,c){var d=c.getComponent("parallel",this.get("parallelIndex")),b=d.parallelAxisIndex,e=a.data,p=d.dimensions,d=q(p,e),d=l.map(d,function(a,d){var g=l.indexOf(p,a),h=0<=g&&c.getComponent("parallelAxis",b[g]);return h&&"category"===h.get("type")?(m(h,a,e),{name:a,type:"ordinal"}):0>g?f.guessOrdinal(e,d)?{name:a,type:"ordinal"}:a:a}),d=new k(d,this);d.initData(e);this.option.progressive&&(this.option.animation=!1);return d},getRawIndicesByActiveState:function(a){var c=this.coordinateSystem,d=this.getData(),b=[];c.eachActiveState(d,function(c,e){a===c&&b.push(d.getRawIndex(e))});return b},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(r,n,a){function m(a,c,d){var b=a.model;a=a.getRect();var e=new l.Rect({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),b="horizontal"===b.get("layout")?"width":"height";e.setShape(b,0);l.initProps(e,{shape:{width:a.width,height:a.height}},c,d);return e}function q(a,c,d,b){for(var e=[],f=0;f<d.length;f++){var h=d[f],k=a.get(h,c);("category"===b.getAxis(h).type?null==k:null==k||isNaN(k))||e.push(b.dataToPoint(k,h))}return e}function k(a,c){var d=a.hostModel.getModel("lineStyle.normal"),b=d.getLineStyle();a.eachItemGraphicEl(function(e,k){a.hasItemOption&&(b=a.getItemModel(k).getModel("lineStyle.normal",d).getLineStyle(["color","stroke"]));e.useStyle(f.extend(b,{fill:null,stroke:a.getItemVisual(k,"color"),opacity:a.getItemVisual(k,"opacity")}));e.shape.smooth=c})}var l=a(18),f=a(4);n=a(80).extend({type:"parallel",init:function(){this._dataGroup=new l.Group;this.group.add(this._dataGroup)},render:function(a,c,d,b){this._renderForNormal(a,b)},dispose:function(){},_renderForNormal:function(a,c){var d=this._dataGroup,b=a.getData(),e=this._data,f=a.coordinateSystem,h=f.dimensions,t=a.option.smooth?.3:null;b.diff(e).add(function(a){var c=q(b,a,h,f),c=new l.Polyline({shape:{points:c},silent:!0,z2:10});d.add(c);b.setItemGraphicEl(a,c)}).update(function(d,g){var k=e.getItemGraphicEl(g),p=q(b,d,h,f);b.setItemGraphicEl(d,k);l.updateProps(k,{shape:{points:p}},c&&!1===c.animation?null:a,d)}).remove(function(a){a=e.getItemGraphicEl(a);d.remove(a)}).execute();k(b,t);this._data||(t=m(f,a,function(){setTimeout(function(){d.removeClipPath()})}),d.setClipPath(t));this._data=b},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});r.exports=n},function(r,n){var a=["lineStyle","normal","opacity"];r.exports=function(m){m.eachSeriesByType("parallel",function(q){var k=q.getModel("itemStyle.normal"),l=q.getModel("lineStyle.normal"),f=m.get("color"),k=l.get("color")||k.get("color")||f[q.seriesIndex%f.length],l=q.get("inactiveOpacity"),f=q.get("activeOpacity"),e=q.getModel("lineStyle.normal").getLineStyle(),c=q.coordinateSystem,d=q.getData(),b={normal:e.opacity,active:f,inactive:l};c.eachActiveState(d,function(c,e){var g=d.getItemModel(e),f=b[c];"normal"===c&&(g=g.get(a,!0),null!=g&&(f=g));d.setItemVisual(e,"opacity",f)});d.setVisual("color",k)})}},function(r,n,a){r=a(1);a(252);a(253);r.registerLayout(a(254));r.registerVisual(a(256))},function(r,n,a){n=a(78);var m=a(207),q=a(6).encodeHTML,k=n.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a){var f=a.edges||a.links;if((a=a.data||a.nodes)&&f)return m(a,f,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(a,f,e){return"edge"===e?(a=this.getDataParams(a,e),f=a.data,f=f.source+" -- "+f.target,a.value&&(f+=" : "+a.value),q(f)):k.superCall(this,"formatTooltip",a,f)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1E3}});r.exports=k},function(r,n,a){function m(a,e,c){var d=new q.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});q.initProps(d,{shape:{width:a.width+20,height:a.height+20}},e,c);return d}var q=a(18),k=a(4),l=q.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,e){var c=e.extent/2;a.moveTo(e.x1,e.y1-c);a.bezierCurveTo(e.cpx1,e.cpy1-c,e.cpx2,e.cpy2-c,e.x2,e.y2-c);a.lineTo(e.x2,e.y2+c);a.bezierCurveTo(e.cpx2,e.cpy2+c,e.cpx1,e.cpy1+c,e.x1,e.y1+c);a.closePath()}});r.exports=a(1).extendChartView({type:"sankey",_model:null,render:function(a,e,c){e=a.getGraph();var d=this.group;c=a.layoutInfo;var b=a.getData(),g=a.getData("edge");this._model=a;d.removeAll();d.position=[c.x,c.y];e.eachEdge(function(b){var c=new l;c.dataIndex=b.dataIndex;c.seriesIndex=a.seriesIndex;c.dataType="edge";var e=b.getModel("lineStyle.normal"),f=e.get("curveness"),k=b.node1.getLayout(),p=b.node2.getLayout(),m=b.getLayout();c.shape.extent=Math.max(1,m.dy);var n=k.x+k.dx,k=k.y+m.sy+m.dy/2,r=p.x,p=p.y+m.ty+m.dy/2;c.setShape({x1:n,y1:k,x2:r,y2:p,cpx1:n*(1-f)+r*f,cpy1:k,cpx2:n*f+r*(1-f),cpy2:p});c.setStyle(e.getItemStyle());switch(c.style.fill){case "source":c.style.fill=b.node1.getVisual("color");break;case "target":c.style.fill=b.node2.getVisual("color")}q.setHoverStyle(c,b.getModel("lineStyle.emphasis").getItemStyle());d.add(c);g.setItemGraphicEl(b.dataIndex,c)});e.eachNode(function(c){var e=c.getLayout(),g=c.getModel(),f=g.getModel("label.normal"),p=f.getModel("textStyle"),l=g.getModel("label.emphasis"),m=l.getModel("textStyle"),e=new q.Rect({shape:{x:e.x,y:e.y,width:c.getLayout().dx,height:c.getLayout().dy},style:{text:f.get("show")?a.getFormattedLabel(c.dataIndex,"normal")||c.id:"",textFont:p.getFont(),textFill:p.getTextColor(),textPosition:f.get("position")}});e.setStyle(k.defaults({fill:c.getVisual("color")},g.getModel("itemStyle.normal").getItemStyle()));q.setHoverStyle(e,k.extend(c.getModel("itemStyle.emphasis"),{text:l.get("show")?a.getFormattedLabel(c.dataIndex,"emphasis")||c.id:"",textFont:m.getFont(),textFill:m.getTextColor(),textPosition:l.get("position")}));d.add(e);b.setItemGraphicEl(c.dataIndex,e);e.dataType="node"});!this._data&&a.get("animation")&&d.setClipPath(m(d.getBoundingRect(),a,function(){d.removeClipPath()}));this._data=a.getData()},dispose:function(){}})},function(r,n,a){function m(a,b){return A.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function q(a,b,c,d,g,h,k){for(var p=a,m,u=0;p.length;){m=[];for(var v=0,q=p.length;v<q;v++){var n=p[v];n.setLayout({x:u},!0);n.setLayout({dx:c},!0);for(var x=0,w=n.outEdges.length;x<w;x++)m.push(n.outEdges[x].node2)}p=m;++u}l(a,u);f(a,(g-c)/(u-1));e(a,b,h,d,k);t(a)}function k(a){B.each(a,function(a){var b=v(a.outEdges,D),c=v(a.inEdges,D);a.setLayout({value:Math.max(b,c)},!0)})}function l(a,b){B.each(a,function(a){a.outEdges.length||a.setLayout({x:b-1},!0)})}function f(a,b){B.each(a,function(a){var c=a.getLayout().x*b;a.setLayout({x:c},!0)})}function e(a,e,g,h,f){var k=C().key(function(a){return a.getLayout().x}).sortKeys(y).entries(a).map(function(a){return a.values});c(a,k,e,g,h);d(k,h,g);for(a=1;0<f;f--)a*=.99,b(k,a),d(k,h,g),p(k,a),d(k,h,g)}function c(a,b,c,d,e){var g=[];B.each(b,function(a){var b=a.length,c=0;B.each(a,function(a){c+=a.getLayout().value});g.push((d-(b-1)*e)/c)});g.sort(function(a,b){return a-b});var h=g[0];B.each(b,function(a){B.each(a,function(a,b){a.setLayout({y:b},!0);var c=a.getLayout().value*h;a.setLayout({dy:c},!0)})});B.each(c,function(a){var b=+a.getValue()*h;a.setLayout({dy:b},!0)})}function d(a,b,c){B.each(a,function(a){var d,e;e=0;var g=a.length,h;a.sort(x);for(h=0;h<g;h++)d=a[h],e-=d.getLayout().y,0<e&&(e=d.getLayout().y+e,d.setLayout({y:e},!0)),e=d.getLayout().y+d.getLayout().dy+b;e=e-b-c;if(0<e)for(e=d.getLayout().y-e,d.setLayout({y:e},!0),e=d.getLayout().y,h=g-2;0<=h;--h)d=a[h],e=d.getLayout().y+d.getLayout().dy+b-e,0<e&&(e=d.getLayout().y-e,d.setLayout({y:e},!0)),e=d.getLayout().y})}function b(a,b){B.each(a.slice().reverse(),function(a){B.each(a,function(a){if(a.outEdges.length){var c=v(a.outEdges,g)/v(a.outEdges,D),c=a.getLayout().y+(c-u(a))*b;a.setLayout({y:c},!0)}})})}function g(a){return u(a.node2)*a.getValue()}function p(a,b){B.each(a,function(a){B.each(a,function(a){if(a.inEdges.length){var c=v(a.inEdges,h)/v(a.inEdges,D),c=a.getLayout().y+(c-u(a))*b;a.setLayout({y:c},!0)}})})}function h(a){return u(a.node1)*a.getValue()}function t(a){B.each(a,function(a){a.outEdges.sort(w);a.inEdges.sort(z)});B.each(a,function(a){var b=0,c=0;B.each(a.outEdges,function(a){a.setLayout({sy:b},!0);b+=a.getLayout().dy});B.each(a.inEdges,function(a){a.setLayout({ty:c},!0);c+=a.getLayout().dy})})}function w(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function z(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function v(a,b){for(var c=0,d=a.length,e=-1;++e<d;){var g=+b.call(a,a[e],e);isNaN(g)||(c+=g)}return c}function u(a){return a.getLayout().y+a.getLayout().dy/2}function x(a,b){return a.getLayout().y-b.getLayout().y}function y(a,b){return a<b?-1:a>b?1:a===b?0:NaN}function D(a){return a.getValue()}var A=a(71),C=a(255),B=a(4);r.exports=function(a,b,c){a.eachSeriesByType("sankey",function(a){var c=a.get("nodeWidth"),d=a.get("nodeGap"),e=m(a,b);a.layoutInfo=e;var g=e.width,e=e.height,h=a.getGraph(),f=h.nodes,h=h.edges;k(f);a=0!==B.filter(f,function(a){return 0===a.getLayout().value}).length?0:a.get("layoutIterations");q(f,h,c,d,g,e,a)})}},function(r,n,a){var m=a(4);r.exports=function(){function a(e,c){if(c>=l.length)return e;for(var d=-1,b=e.length,g=l[c++],f={},h={};++d<b;){var k=g(e[d]),q=h[k];q?q.push(e[d]):h[k]=[e[d]]}m.each(h,function(b,d){f[d]=a(b,c)});return f}function k(a,c){if(c>=l.length)return a;var d=[],b=f[c++];m.each(a,function(a,b){d.push({key:b,values:k(a,c)})});return b?d.sort(function(a,c){return b(a.key,c.key)}):d}var l=[],f=[];return{key:function(a){l.push(a);return this},sortKeys:function(a){f[l.length-1]=a;return this},entries:function(e){return k(a(e,0),0)}}}},function(r,n,a){var m=a(203),q=a(4);r.exports=function(a,l){a.eachSeriesByType("sankey",function(a){var e=a.getGraph().nodes;e.sort(function(a,c){return a.getLayout().value-c.getLayout().value});var c=e[0].getLayout().value,d=e[e.length-1].getLayout().value;q.each(e,function(b){var e=(new m({type:"color",mappingMethod:"linear",dataExtent:[c,d],visual:a.get("color")})).mapValueToVisual(b.getLayout().value);b.setVisual("color",e);e=b.getModel().get("itemStyle.normal.color");null!=e&&b.setVisual("color",e)})})}},function(r,n,a){r=a(1);a(258);a(261);r.registerVisual(a(262));r.registerLayout(a(263))},function(r,n,a){n=a(4);var m=a(78);a=a(259);m=m.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});n.mixin(m,a.seriesModelMixin,!0);r.exports=m},function(r,n,a){var m=a(98),q=a(110),k=a(260),l=a(4);r.exports={seriesModelMixin:{_baseAxisDim:null,getInitialData:function(a,e){var c,d=e.getComponent("xAxis",this.get("xAxisIndex")),b=e.getComponent("yAxis",this.get("yAxisIndex")),g=d.get("type"),f=b.get("type"),h;"category"===g?(a.layout="horizontal",c=d.getCategories(),h=!0):"category"===f?(a.layout="vertical",c=b.getCategories(),h=!0):a.layout=a.layout||"horizontal";b=["x","y"];g="horizontal"===a.layout?0:1;d=this._baseAxisDim=b[g];g=b[1-g];b=a.data;h&&l.each(b,function(a,b){l.isArray(a)&&a.unshift(b)});h=[{name:d,otherDims:{tooltip:!1},dimsDef:["base"]},{name:g,dimsDef:this.defaultValueDimensions.slice()}];h=q(h,b,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions")});h=new m(h,this);h.initData(b,c?c.slice():null);return h},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},viewMixin:{init:function(){var a=this._whiskerBoxDraw=new k(this.getStyleUpdater());this.group.add(a.group)},render:function(a,e,c){this._whiskerBoxDraw.updateData(a.getData())},remove:function(a){this._whiskerBoxDraw.remove()}}}},function(r,n,a){function m(a,b,c,f){e.Group.call(this);this.styleUpdater=c;this._createContent(a,b,f);this.updateData(a,b,f)}function q(a,b,c){return f.map(a,function(a){a=a.slice();a[b]=c.initBaseline;return a})}function k(a){var b={};f.each(a,function(a,c){b["ends"+c]=a});return b}function l(a){this.group=new e.Group;this.styleUpdater=a}var f=a(4),e=a(18),c=a(20).extend({type:"whiskerInBox",shape:{},buildPath:function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&0===c.indexOf("ends")){var d=b[c];a.moveTo(d[0][0],d[0][1]);a.lineTo(d[1][0],d[1][1])}}});n=m.prototype;n._createContent=function(a,b,g){var d=a.getItemLayout(b),h="horizontal"===d.chartLayout?1:0;a=0;this.add(new e.Polygon({shape:{points:g?q(d.bodyEnds,h,d):d.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=a++;b=f.map(d.whiskerEnds,function(a){return g?q(a,h,d):a});this.add(new c({shape:k(b),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=a++};n.updateData=function(a,b,c){var d=this._seriesModel=a.hostModel,g=a.getItemLayout(b);c=e[c?"initProps":"updateProps"];c(this.childAt(this.bodyIndex),{shape:{points:g.bodyEnds}},d,b);c(this.childAt(this.whiskerIndex),{shape:k(g.whiskerEnds)},d,b);this.styleUpdater.call(null,this,a,b)};f.inherits(m,e.Group);n=l.prototype;n.updateData=function(a){var b=this.group,c=this._data,d=this.styleUpdater;a.diff(c).add(function(c){if(a.hasValue(c)){var e=new m(a,c,d,!0);a.setItemGraphicEl(c,e);b.add(e)}}).update(function(e,g){var h=c.getItemGraphicEl(g);a.hasValue(e)?(h?h.updateData(a,e):h=new m(a,e,d),b.add(h),a.setItemGraphicEl(e,h)):b.remove(h)}).remove(function(a){(a=c.getItemGraphicEl(a))&&b.remove(a)}).execute();this._data=a};n.remove=function(){var a=this.group,b=this._data;this._data=null;b&&b.eachItemGraphicEl(function(b){b&&a.remove(b)})};r.exports=l},function(r,n,a){function m(a,c,d){var b=c.getItemModel(d),e=b.getModel(l);c=c.getItemVisual(d,"color");e=e.getItemStyle(["borderColor"]);d=a.childAt(a.whiskerIndex);d.style.set(e);d.style.stroke=c;d.dirty();d=a.childAt(a.bodyIndex);d.style.set(e);d.style.stroke=c;d.dirty();b=b.getModel(f).getItemStyle();k.setHoverStyle(a,b)}n=a(4);var q=a(80),k=a(18);a=a(259);q=q.extend({type:"boxplot",getStyleUpdater:function(){return m},dispose:n.noop});n.mixin(q,a.viewMixin,!0);var l=["itemStyle","normal"],f=["itemStyle","emphasis"];r.exports=q},function(r,n){var a=["itemStyle","normal","borderColor"];r.exports=function(m,q){var k=m.get("color");m.eachRawSeriesByType("boxplot",function(l){var f=k[l.seriesIndex%k.length],e=l.getData();e.setVisual({legendSymbol:"roundRect",color:l.get(a)||f});m.isSeriesFiltered(l)||e.each(function(c){var d=e.getItemModel(c);e.setItemVisual(c,{color:d.get(a,!0)})})})}},function(r,n,a){function m(a){var c=[],b=[];a.eachSeriesByType("boxplot",function(a){var d=a.getBaseAxis(),e=l.indexOf(b,d);0>e&&(e=b.length,b[e]=d,c[e]={axis:d,seriesModels:[]});c[e].seriesModels.push(a)});return c}function q(a){var c=a.axis,b=a.seriesModels,g=b.length,k=a.boxWidthList=[],h=a.boxOffsetList=[],m=[],q;if("category"===c.type)q=c.getBandWidth();else{var n=0;e(b,function(a){n=Math.max(n,a.getData().count())});a=c.getExtent();Math.abs(a[1]-a[0])/n}e(b,function(a){a=a.get("boxWidth");l.isArray(a)||(a=[a,a]);m.push([f(a[0],q)||0,f(a[1],q)||0])});a=.8*q-2;var v=a/g*.3,u=(a-v*(g-1))/g,x=u/2-a/2;e(b,function(a,b){h.push(x);x+=v+u;k.push(Math.min(Math.max(u,m[b][0]),m[b][1]))})}function k(a,d,b){var c=a.coordinateSystem,e=a.getData(),h=b/2,f=a.get("layout"),k="horizontal"===f?0:1,m=1-k,v=["x","y"],u=[],q;l.each(e.dimensions,function(a){var b=e.getDimensionInfo(a).coordDim;b===v[m]?u.push(a):b===v[k]&&(q=a)});null==q||5>u.length||e.each([q].concat(u),function(){function a(a){var b=[];b[k]=l;b[m]=a;isNaN(l)||isNaN(a)?a=[NaN,NaN]:(a=c.dataToPoint(b),a[k]+=d);return a}function b(a,b){var c=a.slice(),d=a.slice();c[k]+=h;d[k]-=h;b?w.push(c,d):w.push(d,c)}function g(a){a=[a.slice(),a.slice()];a[0][k]-=h;a[1][k]+=h;x.push(a)}var p=arguments,l=p[0],t=p[u.length+1],v=a(p[3]),q=a(p[1]),n=a(p[5]),x=[[q,a(p[2])],[n,a(p[4])]];g(q);g(n);g(v);var w=[];b(x[0][1],0);b(x[1][1],1);e.setItemLayout(t,{chartLayout:f,initBaseline:v[m],median:v,bodyEnds:w,whiskerEnds:x})})}var l=a(4),f=a(7).parsePercent,e=l.each;r.exports=function(a){a=m(a);e(a,function(a){var b=a.seriesModels;b.length&&(q(a),e(b,function(b,c){k(b,a.boxOffsetList[c],a.boxWidthList[c])}))})}},function(r,n,a){r=a(1);a(265);a(266);r.registerPreprocessor(a(267));r.registerVisual(a(268));r.registerLayout(a(269))},function(r,n,a){n=a(4);var m=a(78);a=a(259);m=m.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(a,k,l){a=k.getItemLayout(a);return l.rect(a.brushRect)}});n.mixin(m,a.seriesModelMixin,!0);r.exports=m},function(r,n,a){function m(a,c,d){var b=c.getItemModel(d),e=b.getModel(l),p=c.getItemVisual(d,"color");c=c.getItemVisual(d,"borderColor")||p;e=e.getItemStyle(["color","color0","borderColor","borderColor0"]);d=a.childAt(a.whiskerIndex);d.useStyle(e);d.style.stroke=c;d=a.childAt(a.bodyIndex);d.useStyle(e);d.style.fill=p;d.style.stroke=c;b=b.getModel(f).getItemStyle();k.setHoverStyle(a,b)}n=a(4);var q=a(80),k=a(18);a=a(259);q=q.extend({type:"candlestick",getStyleUpdater:function(){return m},dispose:n.noop});n.mixin(q,a.viewMixin,!0);var l=["itemStyle","normal"],f=["itemStyle","emphasis"];r.exports=q},function(r,n,a){var m=a(4);r.exports=function(a){a&&m.isArray(a.series)&&m.each(a.series,function(a){m.isObject(a)&&"k"===a.type&&(a.type="candlestick")})}},function(r,n){var a=["itemStyle","normal","borderColor"],m=["itemStyle","normal","borderColor0"],q=["itemStyle","normal","color"],k=["itemStyle","normal","color0"];r.exports=function(l,f){l.eachRawSeriesByType("candlestick",function(e){var c=e.getData();c.setVisual({legendSymbol:"roundRect"});l.isSeriesFiltered(e)||c.each(function(d){var b=c.getItemModel(d),e=c.getItemLayout(d).sign;c.setItemVisual(d,{color:b.get(0<e?q:k),borderColor:b.get(0<e?a:m)})})})}},function(r,n,a){function m(a,e){var c=a.getBaseAxis(),d,c="category"===c.type?c.getBandWidth():(d=c.getExtent(),Math.abs(d[1]-d[0])/e.count());d=l(k(a.get("barMaxWidth"),c),c);var b=l(k(a.get("barMinWidth"),1),c),g=a.get("barWidth");return null!=g?l(g,c):Math.max(Math.min(c/2,d),b)}var q=a(4),k=a(4).retrieve,l=a(7).parsePercent;r.exports=function(a){a.eachSeriesByType("candlestick",function(a){var c=a.coordinateSystem,d=a.getData(),b=m(a,d),e=a.get("layout"),f="horizontal"===e?0:1,h=1-f,k=["x","y"],l=[],n;q.each(d.dimensions,function(a){var b=d.getDimensionInfo(a).coordDim;b===k[h]?l.push(a):b===k[f]&&(n=a)});null==n||4>l.length||d.each([n].concat(l),function(){function a(a){var b=[];b[f]=p;b[h]=a;return isNaN(p)||isNaN(a)?[NaN,NaN]:c.dataToPoint(b)}function g(a,c){var d=a.slice(),e=a.slice();d[f]+=b/2;e[f]-=b/2;c?N.push(d,e):N.push(e,d)}var k=arguments,p=k[0],m=k[l.length+1],t=k[1],q=k[2],n=k[3],w=k[4],r=Math.max(t,q),k=a(Math.min(t,q)),r=a(r),z=a(n),z=[[a(w),r],[z,k]],N=[];g(r,0);g(k,1);d.setItemLayout(m,{chartLayout:e,sign:t>q?-1:t<q?1:0,initBaseline:t>q?r[h]:k[h],bodyEnds:N,whiskerEnds:z,brushRect:function(){var c=a(Math.min(t,q,n,w)),d=a(Math.max(t,q,n,w));c[f]-=b/2;d[f]-=b/2;return{x:c[0],y:c[1],width:h?b:d[0]-c[0],height:h?d[1]-c[1]:b}}()})},!0)})}},function(r,n,a){r=a(4);n=a(1);a(271);a(272);n.registerVisual(r.curry(a(121),"effectScatter","circle",null));n.registerLayout(r.curry(a(122),"effectScatter"))},function(r,n,a){var m=a(109);n=a(78);r.exports=n.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,k){return m(a.data,this,k)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(r,n,a){var m=a(116),q=a(273);a(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new m(q)},render:function(a,l,f){a=a.getData();l=this._symbolDraw;l.updateData(a);this.group.add(l.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,l){this._symbolDraw&&this._symbolDraw.remove(l)},dispose:function(){}})},function(r,n,a){function m(a){l.isArray(a)||(a=[+a,+a]);return a}function q(a,c){a.eachChild(function(a){a.attr({z:c.z,zlevel:c.zlevel,style:{stroke:"stroke"===c.brushType?c.color:null,fill:"fill"===c.brushType?c.color:null}})})}function k(a,e){d.call(this);var b=new c(a,e),g=new d;this.add(b);this.add(g);g.beforeUpdate=function(){this.attr(b.getScale())};this.updateData(a,e)}var l=a(4),f=a(111);n=a(18);var e=a(7),c=a(117),d=n.Group;a=k.prototype;a.stopEffectAnimation=function(){this.childAt(1).removeAll()};a.startEffectAnimation=function(a){for(var b=a.symbolType,c=a.color,d=this.childAt(1),e=0;3>e;e++){var k=f.createSymbol(b,-1,-1,2,2,c);k.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var l=-e/3*a.period+a.effectOffset;k.animate("",!0).when(a.period,{scale:[a.rippleScale/2,a.rippleScale/2]}).delay(l).start();k.animateStyle(!0).when(a.period,{opacity:0}).delay(l).start();d.add(k)}q(d,a)};a.updateEffectAnimation=function(a){for(var b=this._effectCfg,c=this.childAt(1),d=["symbolType","period","rippleScale"],e=0;e<d;e++){var f=d[e];if(b[f]!==a[f]){this.stopEffectAnimation();this.startEffectAnimation(a);return}}q(c,a)};a.highlight=function(){this.trigger("emphasis")};a.downplay=function(){this.trigger("normal")};a.updateData=function(a,c){var b=a.hostModel;this.childAt(0).updateData(a,c);var d=this.childAt(1),g=a.getItemModel(c),f=a.getItemVisual(c,"symbol"),k=m(a.getItemVisual(c,"symbolSize")),l=a.getItemVisual(c,"color");d.attr("scale",k);d.traverse(function(a){a.attr({fill:l})});var u=g.getShallow("symbolOffset");if(u){var q=d.position;q[0]=e.parsePercent(u[0],k[0]);q[1]=e.parsePercent(u[1],k[1])}d.rotation=(g.getShallow("symbolRotate")||0)*Math.PI/180||0;var n={};n.showEffectOn=b.get("showEffectOn");n.rippleScale=g.get("rippleEffect.scale");n.brushType=g.get("rippleEffect.brushType");n.period=1E3*g.get("rippleEffect.period");n.effectOffset=c/a.count();n.z=g.getShallow("z")||0;n.zlevel=g.getShallow("zlevel")||0;n.symbolType=f;n.color=l;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if("render"===n.showEffectOn)this._effectCfg?this.updateEffectAnimation(n):this.startEffectAnimation(n),this._effectCfg=n;else{this._effectCfg=null;this.stopEffectAnimation();var r=this.childAt(0),b=function(){r.trigger("emphasis");"render"!==n.showEffectOn&&this.startEffectAnimation(n)},d=function(){r.trigger("normal");"render"!==n.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",b,this).on("mouseout",d,this).on("emphasis",b,this).on("normal",d,this)}this._effectCfg=n};a.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal");a&&a()};l.inherits(k,d);r.exports=k},function(r,n,a){a(275);a(276);r=a(1);r.registerLayout(a(281));r.registerVisual(a(282))},function(r,n,a){function m(a){var c=a.data;c&&c[0]&&c[0][0]&&c[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),a.data=k.map(c,function(a){var b={coords:[a[0].coord,a[1].coord]};a[0].name&&(b.fromName=a[0].name);a[1].name&&(b.toName=a[1].name);return k.mergeAll([b,a[0],a[1]])}))}r=a(78);var q=a(98),k=a(4),l=a(6),f=a(76),e=r.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){m(a);e.superApply(this,"init",arguments)},mergeOption:function(a){m(a);e.superApply(this,"mergeOption",arguments)},getInitialData:function(a,d){if(!f.get(a.coordinateSystem))throw Error("Unkown coordinate system "+a.coordinateSystem);var b=new q(["value"],this);b.hasItemOption=!1;b.initData(a.data,[],function(a,c,d,e){if(a instanceof Array)return NaN;b.hasItemOption=!0;a=a.value;if(null!=a)return a instanceof Array?a[e]:a});return b},formatTooltip:function(a){var c=this.getData().getItemModel(a);if(a=c.get("name"))return a;a=c.get("fromName");var c=c.get("toName"),b=[];null!=a&&b.push(a);null!=c&&b.push(c);return l.encodeHTML(b.join(" \x3e "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2E3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(r,n,a){var m=a(210),q=a(277),k=a(211),l=a(278),f=a(279),e=a(280);a(1).extendChartView({type:"lines",init:function(){},render:function(a,d,b){var c=a.getData(),p=this._lineDraw,h=a.get("effect.show"),t=a.get("polyline"),n=a.get("large")&&c.count()>=a.get("largeThreshold");h&&n&&console.warn("Large lines not support effect");if(h!==this._hasEffet||t!==this._isPolyline||n!==this._isLarge)p&&p.remove(),p=this._lineDraw=n?new e:new m(t?h?f:l:h?q:k),this._hasEffet=h,this._isPolyline=t,this._isLarge=n;var r=a.get("zlevel"),t=a.get("effect.trailLength");b=b.getZr();b.painter.getLayer(r).clear(!0);null!=this._lastZlevel&&b.configLayer(this._lastZlevel,{motionBlur:!1});if(h&&t){var v=!1;d.eachSeries(function(b){b!==a&&b.get("zlevel")===r&&(v=!0)});v&&console.warn("Lines with trail effect should have an individual zlevel");b.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(t/10+.9,1),0)})}this.group.add(p.group);p.updateData(c);this._lastZlevel=r},updateLayout:function(a,d,b){this._lineDraw.updateLayout(a);b.getZr().painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,d){this._lineDraw&&this._lineDraw.remove(d,!0)},dispose:function(){}})},function(r,n,a){function m(a,b,c){q.Group.call(this);this.add(this.createLine(a,b,c));this._updateEffectSymbol(a,b)}var q=a(18),k=a(211),l=a(4),f=a(111),e=a(10),c=a(37);n=m.prototype;n.createLine=function(a,b,c){return new k(a,b,c)};n._updateEffectSymbol=function(a,b){var c=a.getItemModel(b).getModel("effect"),d=c.get("symbolSize"),e=c.get("symbol");l.isArray(d)||(d=[d,d]);var k=c.get("color")||a.getItemVisual(b,"color"),m=this.childAt(1);this._symbolType!==e&&(this.remove(m),m=f.createSymbol(e,-.5,-.5,1,1,k),m.z2=100,m.culling=!0,this.add(m));m&&(m.setStyle("shadowColor",k),m.setStyle(c.getItemStyle(["color"])),m.attr("scale",d),m.setColor(k),m.attr("scale",d),this._symbolType=e,this._updateEffectAnimation(a,c,b))};n._updateEffectAnimation=function(a,b,c){var d=this.childAt(1);if(d){var e=this,g=a.getItemLayout(c),f=1E3*b.get("period"),k=b.get("loop"),m=b.get("constantSpeed");b=l.retrieve(b.get("delay"),function(b){return b/a.count()*f/3});var u="function"===typeof b;d.ignore=!0;this.updateAnimationPoints(d,g);0<m&&(f=this.getLineLength(d)/m*1E3);if(f!==this._period||k!==this._loop)d.stopAnimation(),g=b,u&&(g=b(c)),0<d.__t&&(g=-f*d.__t),d.__t=0,c=d.animate("",k).when(f,{__t:1}).delay(g).during(function(){e.updateSymbolPosition(d)}),k||c.done(function(){e.remove(d)}),c.start();this._period=f;this._loop=k}};n.getLineLength=function(a){return e.dist(a.__p1,a.__cp1)+e.dist(a.__cp1,a.__p2)};n.updateAnimationPoints=function(a,b){a.__p1=b[0];a.__p2=b[1];a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]};n.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c);this._updateEffectSymbol(a,b)};n.updateSymbolPosition=function(a){var b=a.__p1,d=a.__p2,e=a.__cp1,h=a.__t,f=a.position,k=c.quadraticAt,l=c.quadraticDerivativeAt;f[0]=k(b[0],e[0],d[0],h);f[1]=k(b[1],e[1],d[1],h);f=l(b[0],e[0],d[0],h);b=l(b[1],e[1],d[1],h);a.rotation=-Math.atan2(b,f)-Math.PI/2;a.ignore=!1};n.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)};l.inherits(m,q.Group);r.exports=m},function(r,n,a){function m(a,f,e){q.Group.call(this);this._createPolyline(a,f,e)}var q=a(18),k=a(4);n=m.prototype;n._createPolyline=function(a,f,e){var c=a.getItemLayout(f),c=new q.Polyline({shape:{points:c}});this.add(c);this._updateCommonStl(a,f,e)};n.updateData=function(a,f,e){var c=a.hostModel,d=this.childAt(0),b={shape:{points:a.getItemLayout(f)}};q.updateProps(d,b,c,f);this._updateCommonStl(a,f,e)};n._updateCommonStl=function(a,f,e){var c=this.childAt(0),d=a.getItemModel(f);f=a.getItemVisual(f,"color");var b=e&&e.lineStyle,g=e&&e.hoverLineStyle;if(!e||a.hasItemOption)b=d.getModel("lineStyle.normal").getLineStyle(),g=d.getModel("lineStyle.emphasis").getLineStyle();c.useStyle(k.defaults({strokeNoScale:!0,fill:"none",stroke:f},b));c.hoverStyle=g;q.setHoverStyle(this)};n.updateLayout=function(a,f){this.childAt(0).setShape("points",a.getItemLayout(f))};k.inherits(m,q.Group);r.exports=m},function(r,n,a){function m(a,e,c){k.call(this,a,e,c);this._lastFramePercent=this._lastFrame=0}var q=a(278);n=a(4);var k=a(277),l=a(10);a=m.prototype;a.createLine=function(a,e,c){return new q(a,e,c)};a.updateAnimationPoints=function(a,e){this._points=e;for(var c=[0],d=0,b=1;b<e.length;b++)d+=l.dist(e[b-1],e[b]),c.push(d);if(0!==d){for(b=0;b<c.length;b++)c[b]/=d;this._offsets=c;this._length=d}};a.getLineLength=function(a){return this._length};a.updateSymbolPosition=function(a){var e=a.__t,c=this._points,d=this._offsets,b=c.length;if(d){var g=this._lastFrame;if(e<this._lastFramePercent){for(g=Math.min(g+1,b-1);0<=g&&!(d[g]<=e);g--);g=Math.min(g,b-2)}else{for(;g<b&&!(d[g]>e);g++);g=Math.min(g-1,b-2)}l.lerp(a.position,c[g],c[g+1],(e-d[g])/(d[g+1]-d[g]));a.rotation=-Math.atan2(c[g+1][1]-c[g][1],c[g+1][0]-c[g][0])-Math.PI/2;this._lastFrame=g;this._lastFramePercent=e;a.ignore=!1}};n.inherits(m,k);r.exports=m},function(r,n,a){function m(){this.group=new q.Group;this._lineEl=new f}var q=a(18),k=a(42),l=a(40),f=q.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(a,c){for(var d=c.segs,b=c.polyline,e=0;e<d.length;e++){var f=d[e];if(b){a.moveTo(f[0][0],f[0][1]);for(var h=1;h<f.length;h++)a.lineTo(f[h][0],f[h][1])}else a.moveTo(f[0][0],f[0][1]),2<f.length?a.quadraticCurveTo(f[2][0],f[2][1],f[1][0],f[1][1]):a.lineTo(f[1][0],f[1][1])}},findDataIndex:function(a,c){for(var d=this.shape,b=d.segs,d=d.polyline,e=Math.max(this.style.lineWidth,1),f=0;f<b.length;f++){var h=b[f];if(d)for(var m=1;m<h.length;m++){if(l.containStroke(h[m-1][0],h[m-1][1],h[m][0],h[m][1],e,a,c))return f}else if(2<h.length){if(k.containStroke(h[0][0],h[0][1],h[2][0],h[2][1],h[1][0],h[1][1],e,a,c))return f}else if(l.containStroke(h[0][0],h[0][1],h[1][0],h[1][1],e,a,c))return f}return-1}});n=m.prototype;n.updateData=function(a){this.group.removeAll();var c=this._lineEl,d=a.hostModel;c.setShape({segs:a.mapArray(a.getItemLayout),polyline:d.get("polyline")});c.useStyle(d.getModel("lineStyle.normal").getLineStyle());(a=a.getVisual("color"))&&c.setStyle("stroke",a);c.setStyle("fill");c.seriesIndex=d.seriesIndex;c.on("mousemove",function(a){c.dataIndex=null;a=c.findDataIndex(a.offsetX,a.offsetY);0<a&&(c.dataIndex=a)});this.group.add(c)};n.updateLayout=function(a){a=a.getData();this._lineEl.setShape({segs:a.mapArray(a.getItemLayout)})};n.remove=function(){this.group.removeAll()};r.exports=m},function(r,n,a){r.exports=function(a){a.eachSeriesByType("lines",function(a){var k=a.coordinateSystem,l=a.getData();l.each(function(f){var e=l.getItemModel(f),c=e.option instanceof Array?e.option:e.get("coords");if(!(c instanceof Array&&0<c.length&&c[0]instanceof Array))throw Error("Invalid coords "+JSON.stringify(c)+". Lines must have 2d coords array in data item.");var d=[];if(a.get("polyline"))for(e=0;e<c.length;e++)d.push(k.dataToPoint(c[e]));else d[0]=k.dataToPoint(c[0]),d[1]=k.dataToPoint(c[1]),c=e.get("lineStyle.normal.curveness"),+c&&(d[2]=[(d[0][0]+d[1][0])/2-(d[0][1]-d[1][1])*c,(d[0][1]+d[1][1])/2-(d[1][0]-d[0][0])*c]);l.setItemLayout(f,d)})})}},function(r,n){function a(a){a instanceof Array||(a=[a,a]);return a}r.exports=function(m){m.eachSeriesByType("lines",function(m){var k=m.getData(),l=a(m.get("symbol")),f=a(m.get("symbolSize")),e=["lineStyle","normal","opacity"];k.setVisual("fromSymbol",l&&l[0]);k.setVisual("toSymbol",l&&l[1]);k.setVisual("fromSymbolSize",f&&f[0]);k.setVisual("toSymbolSize",f&&f[1]);k.setVisual("opacity",m.get(e));k.each(function(c){var d=k.getItemModel(c),b=a(d.getShallow("symbol",!0)),g=a(d.getShallow("symbolSize",!0)),d=d.get(e);b[0]&&k.setItemVisual(c,"fromSymbol",b[0]);b[1]&&k.setItemVisual(c,"toSymbol",b[1]);g[0]&&k.setItemVisual(c,"fromSymbolSize",g[0]);g[1]&&k.setItemVisual(c,"toSymbolSize",g[1]);k.setItemVisual(c,"opacity",d)})})}},function(r,n,a){a(284);a(285)},function(r,n,a){n=a(78);var m=a(109);r.exports=n.extend({type:"series.heatmap",getInitialData:function(a,k){return m(a.data,this,k)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(r,n,a){function m(a,d,b){var c=a[1]-a[0];d=e.map(d,function(b){return{interval:[(b.interval[0]-a[0])/c,(b.interval[1]-a[0])/c]}});var f=d.length,h=0;return function(a){for(var c=h;c<f;c++){var e=d[c].interval;if(e[0]<=a&&a<=e[1]){h=c;break}}if(c===f)for(c=h-1;0<=c;c--)if(e=d[c].interval,e[0]<=a&&a<=e[1]){h=c;break}return 0<=c&&c<f&&b[c]}}function q(a,d){var b=a[1]-a[0];d=[(d[0]-a[0])/b,(d[1]-a[0])/b];return function(a){return a>=d[0]&&a<=d[1]}}function k(a){a=a.dimensions;return"lng"===a[0]&&"lat"===a[1]}var l=a(18),f=a(286),e=a(4);r.exports=a(1).extendChartView({type:"heatmap",render:function(a,d,b){var c;d.eachComponent("visualMap",function(b){b.eachTargetSeries(function(d){d===a&&(c=b)})});if(!c)throw Error("Heatmap must use with visualMap");this.group.removeAll();d=a.coordinateSystem;"cartesian2d"===d.type||"calendar"===d.type?this._renderOnCartesianAndCalendar(d,a,b):k(d)&&this._renderOnGeo(d,a,c,b)},dispose:function(){},_renderOnCartesianAndCalendar:function(a,d,b){if("cartesian2d"===a.type){b=a.getAxis("x");var c=a.getAxis("y");if("category"!==b.type||"category"!==c.type)throw Error("Heatmap on cartesian must have two category axes");if(!b.onBand||!c.onBand)throw Error("Heatmap on cartesian must have two axes with boundaryGap true");var f=b.getBandWidth(),h=c.getBandWidth()}var k=this.group,m=d.getData(),q=d.getModel("itemStyle.normal").getItemStyle(["color"]),v=d.getModel("itemStyle.emphasis").getItemStyle(),u=d.getModel("label.normal"),n=d.getModel("label.emphasis"),r=a.type,D="cartesian2d"===r?[d.coordDimToDataDim("x")[0],d.coordDimToDataDim("y")[0],d.coordDimToDataDim("value")[0]]:[d.coordDimToDataDim("time")[0],d.coordDimToDataDim("value")[0]];m.each(function(b){var c;if("cartesian2d"===r){if(isNaN(m.get(D[2],b)))return;c=a.dataToPoint([m.get(D[0],b),m.get(D[1],b)]);c=new l.Rect({shape:{x:c[0]-f/2,y:c[1]-h/2,width:f,height:h},style:{fill:m.getItemVisual(b,"color"),opacity:m.getItemVisual(b,"opacity")}})}else{if(isNaN(m.get(D[1],b)))return;c=new l.Rect({z2:1,shape:a.dataToRect([m.get(D[0],b)]).contentShape,style:{fill:m.getItemVisual(b,"color"),opacity:m.getItemVisual(b,"opacity")}})}var g=m.getItemModel(b);m.hasItemOption&&(q=g.getModel("itemStyle.normal").getItemStyle(["color"]),v=g.getModel("itemStyle.emphasis").getItemStyle(),u=g.getModel("label.normal"),n=g.getModel("label.emphasis"));var g=d.getRawValue(b),p="-";g&&null!=g[2]&&(p=g[2]);u.getShallow("show")&&(l.setText(q,u),q.text=d.getFormattedLabel(b,"normal")||p);n.getShallow("show")&&(l.setText(v,n),v.text=d.getFormattedLabel(b,"emphasis")||p);c.setStyle(q);l.setHoverStyle(c,m.hasItemOption?v:e.extend({},v));k.add(c);m.setItemGraphicEl(b,c)})},_renderOnGeo:function(a,d,b,e){var c=b.targetVisuals.inRange,g=b.targetVisuals.outOfRange,k=d.getData(),n=this._hmLayer||this._hmLayer||new f;n.blurSize=d.get("blurSize");n.pointSize=d.get("pointSize");n.minOpacity=d.get("minOpacity");n.maxOpacity=d.get("maxOpacity");d=a.getViewRect().clone();var r=a.getRoamTransform().transform;d.applyTransform(r);var v=Math.max(d.x,0),u=Math.max(d.y,0),r=Math.min(d.width+d.x,e.getWidth());d=Math.min(d.height+d.y,e.getHeight());e=r-v;d-=u;k=k.mapArray(["lng","lat","value"],function(b,c,d){b=a.dataToPoint([b,c]);b[0]-=v;b[1]-=u;b.push(d);return b});r=b.getExtent();b="visualMap.continuous"===b.type?q(r,b.option.range):m(r,b.getPieceList(),b.option.selected);n.update(k,e,d,c.color.getNormalizer(),{inRange:c.color.getColorMapper(),outOfRange:g.color.getColorMapper()},b);c=new l.Image({style:{width:e,height:d,x:v,y:u,image:n.canvas},silent:!0});this.group.add(c)}})},function(r,n,a){function m(){this.canvas=q.createCanvas();this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}var q=a(4);m.prototype={update:function(a,l,f,e,c,d){var b=this._getBrush(),g=this._getGradient(a,c,"inRange");c=this._getGradient(a,c,"outOfRange");var k=this.pointSize+this.blurSize,h=this.canvas,m=h.getContext("2d"),q=a.length;h.width=l;h.height=f;for(f=0;f<q;++f){l=a[f];var n=l[0],v=l[1];l=e(l[2]);m.globalAlpha=l;m.drawImage(b,n-k,v-k)}a=m.getImageData(0,0,h.width,h.height);e=a.data;b=0;k=e.length;q=this.minOpacity;for(f=this.maxOpacity-q;b<k;)l=e[b+3]/256,n=4*Math.floor(255*l),0<l?(v=d(l)?g:c,0<l&&(l=l*f+q),e[b++]=v[n],e[b++]=v[n+1],e[b++]=v[n+2],e[b++]=v[n+3]*l*256):b+=4;m.putImageData(a,0,0);return h},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=q.createCanvas()),l=this.pointSize+this.blurSize,f=2*l;a.width=f;a.height=f;var e=a.getContext("2d");e.clearRect(0,0,f,f);e.shadowOffsetX=f;e.shadowBlur=this.blurSize;e.shadowColor="#000";e.beginPath();e.arc(-l,l,this.pointSize,0,2*Math.PI,!0);e.closePath();e.fill();return a},_getGradient:function(a,l,f){a=this._gradientPixels;a=a[f]||(a[f]=new Uint8ClampedArray(1024));for(var e=[0,0,0,0],c=0,d=0;256>d;d++)l[f](d/255,!0,e),a[c++]=e[0],a[c++]=e[1],a[c++]=e[2],a[c++]=e[3];return a}};r.exports=m},function(r,n,a){r=a(4);a(125);a(288);a(289);n=a(145);var m=a(1);m.registerLayout(r.curry(n,"pictorialBar"));m.registerVisual(r.curry(a(121),"pictorialBar","roundRect",null));a(124)},function(r,n,a){var m=a(141).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){a.stack=null;return m.superApply(this,"getInitialData",arguments)}});r.exports=m},function(r,n,a){function m(a,b,c,d){var e=a.getItemLayout(b),g=c.get("symbolRepeat"),h=c.get("symbolClip"),f=c.get("symbolPosition")||"start",k=(c.get("symbolRotate")||0)*Math.PI/180||0,l=c.get("symbolPatternSize")||2,p=c.isAnimationEnabled(),h={dataIndex:b,layout:e,itemModel:c,symbolType:a.getItemVisual(b,"symbol")||"circle",color:a.getItemVisual(b,"color"),symbolClip:h,symbolRepeat:g,symbolRepeatDirection:c.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:k,animationModel:p?c:null,hoverAnimation:p&&c.get("hoverAnimation"),z2:c.getShallow("z",!0)||0},p=d.valueDim,m=c.get("symbolBoundingData"),t=d.coordSys.getOtherAxis(d.coordSys.getBaseAxis()),v=t.toGlobalCoord(t.dataToCoord(0)),q=1-+(0>=e[p.wh]);x.isArray(m)?(m=[t.toGlobalCoord(t.dataToCoord(t.scale.parse(m[0])))-v,t.toGlobalCoord(t.dataToCoord(t.scale.parse(m[1])))-v],m[1]<m[0]&&m.reverse(),q=m[q]):q=null!=m?t.toGlobalCoord(t.dataToCoord(t.scale.parse(m)))-v:g?d.coordSysExtent[p.index][q]-v:e[p.wh];h.boundingLength=q;g&&(h.repeatCutLength=e[p.wh]);h.pxSign=0<q?1:0>q?-1:0;p=h.boundingLength;q=h.pxSign;m=d.valueDim;t=d.categoryDim;v=Math.abs(e[t.wh]);a=a.getItemVisual(b,"symbolSize");x.isArray(a)?a=a.slice():(null==a&&(a="100%"),a=[a,a]);a[t.index]=B(a[t.index],v);a[m.index]=B(a[m.index],g?v:Math.abs(p));h.symbolSize=a;(h.symbolScale=[a[0]/l,a[1]/l])[m.index]*=(d.isHorizontal?-1:1)*q;l=h.symbolScale;if(a=c.get(L)||0)M.attr({scale:l.slice(),rotation:k}),M.updateTransform(),a/=M.getLineScale(),a*=l[d.valueDim.index];h.valueLineWidth=a;var n=h.symbolSize,k=c.get("symbolOffset");x.isArray(k)&&(k=[B(k[0],n[0]),B(k[1],n[1])]);b=k;p=h.boundingLength;q=h.repeatCutLength;k=d.categoryDim;l=d.valueDim;a=h.pxSign;t=m=Math.max(n[l.index]+h.valueLineWidth,0);if(g){t=Math.abs(p);c=x.retrieve(c.get("symbolMargin"),"15%")+"";v=!1;c.lastIndexOf("!")===c.length-1&&(v=!0,c=c.slice(0,c.length-1));c=B(c,n[l.index]);var r=Math.max(m+2*c,0),w=v?0:2*c,y=A.isNumeric(g),n=y?g:u((t+w)/r);c=(t-n*m)/2/(v?n:n-1);r=m+2*c;w=v?0:2*c;y||"fixed"===g||(n=q?u((Math.abs(q)+w)/r):0);t=n*r-w;h.repeatTimes=n;h.symbolMargin=c}g=t/2*a;c=h.pathPosition=[];c[k.index]=e[k.wh]/2;c[l.index]="start"===f?g:"end"===f?p-g:p/2;b&&(c[0]+=b[0],c[1]+=b[1]);f=h.bundlePosition=[];f[k.index]=e[k.xy];f[l.index]=e[l.xy];f=h.barRectShape=x.extend({},e);f[l.wh]=a*Math.max(Math.abs(e[l.wh]),Math.abs(c[l.index]+g));f[k.wh]=e[k.wh];f=h.clipShape={};f[k.xy]=-e[k.xy];f[k.wh]=d.ecSize[k.wh];f[l.xy]=0;f[l.wh]=e[l.wh];return h}function q(a){var b=a.symbolPatternSize;a=D.createSymbol(a.symbolType,-b/2,-b/2,b,b,a.color);a.attr({culling:!0});"image"!==a.type&&a.setStyle({strokeNoScale:!0});return a}function k(a,b,c,d){function e(a){var b=l.slice(),d=c.pxSign,e=a;if("start"===c.symbolRepeatDirection?0<d:0>d)e=m-1-a;b[p.index]=u*(e-m/2+.5)+l[p.index];return{position:b,scale:c.symbolScale.slice(),rotation:c.rotation}}function h(){w(a,function(a){a.trigger("emphasis")})}function f(){w(a,function(a){a.trigger("normal")})}var k=a.__pictorialBundle,l=c.pathPosition,p=b.valueDim,m=c.repeatTimes||0,t=0,u=c.symbolSize[b.valueDim.index]+c.valueLineWidth+2*c.symbolMargin;for(w(a,function(a){a.__pictorialAnimationIndex=t;a.__pictorialRepeatTimes=m;t<m?z(a,null,e(t),c,d):z(a,null,{scale:[0,0]},c,d,function(){k.remove(a)});g(a,c);t++});t<m;t++){b=q(c);b.__pictorialAnimationIndex=t;b.__pictorialRepeatTimes=m;k.add(b);var v=e(t,!0);z(b,{position:v.position,scale:[0,0]},{scale:v.scale,rotation:v.rotation},c,d);b.on("mouseover",h).on("mouseout",f);g(b,c)}}function l(a,b,c,d){function e(){this.trigger("emphasis")}function h(){this.trigger("normal")}b=a.__pictorialBundle;var f=a.__pictorialMainPath;f?z(f,null,{position:c.pathPosition.slice(),scale:c.symbolScale.slice(),rotation:c.rotation},c,d):(f=a.__pictorialMainPath=q(c),b.add(f),z(f,{position:c.pathPosition.slice(),scale:[0,0],rotation:c.rotation},{scale:c.symbolScale.slice()},c,d),f.on("mouseover",e).on("mouseout",h));g(f,c)}function f(a,b,c){var d=x.extend({},b.barRectShape),e=a.__pictorialBarRect;e?z(e,null,{shape:d},b,c):(e=a.__pictorialBarRect=new y.Rect({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.add(e))}function e(a,b,c,d){if(c.symbolClip){var e=a.__pictorialClipPath,g=x.extend({},c.clipShape);b=b.valueDim;var h=c.animationModel,f=c.dataIndex;e?y.updateProps(e,{shape:g},h,f):(g[b.wh]=0,e=new y.Rect({shape:g}),a.__pictorialBundle.setClipPath(e),a.__pictorialClipPath=e,a={},a[b.wh]=c.clipShape[b.wh],y[d?"updateProps":"initProps"](e,{shape:a},h,f))}}function c(a,c){var e=a.getItemModel(c);e.getAnimationDelayParams=d;e.isAnimationEnabled=b;return e}function d(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function b(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function g(a,b){a.off("emphasis").off("normal");var c=b.symbolScale.slice();b.hoverAnimation&&a.on("emphasis",function(){this.animateTo({scale:[1.1*c[0],1.1*c[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:c.slice()},400,"elasticOut")})}function p(a,b,c,d){var g=new y.Group,h=new y.Group;g.add(h);g.__pictorialBundle=h;h.attr("position",c.bundlePosition.slice());c.symbolRepeat?k(g,b,c):l(g,b,c);f(g,c,d);e(g,b,c,d);g.__pictorialShapeStr=t(a,c);g.__pictorialSymbolMeta=c;return g}function h(a,b,c,d){var e=d.__pictorialBarRect;e&&(e.style.text="");var g=[];w(d,function(a){g.push(a)});d.__pictorialMainPath&&g.push(d.__pictorialMainPath);d.__pictorialClipPath&&(c=null);x.each(g,function(a){y.updateProps(a,{scale:[0,0]},c,b,function(){d.parent&&d.parent.remove(d)})});a.setItemGraphicEl(b,null)}function t(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function w(a,b,c){x.each(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function z(a,b,c,d,e,g){b&&a.attr(b);d.symbolClip&&!e?c&&a.attr(c):c&&y[e?"updateProps":"initProps"](a,c,d.animationModel,d.dataIndex,g)}function v(a,b,c){var d=c.color,e=c.dataIndex,g=c.itemModel,h=g.getModel("itemStyle.normal").getItemStyle(["color"]),f=g.getModel("itemStyle.emphasis").getItemStyle(),k=g.getShallow("cursor");w(a,function(a){a.setColor(d);a.setStyle(x.defaults({fill:d,opacity:c.opacity},h));y.setHoverStyle(a,f);k&&(a.cursor=k);a.z2=c.z2});var l={};a=a.__pictorialBarRect;C.setLabel(a.style,l,g,d,b.seriesModel,e,b.valueDim.posDesc[+(0<c.boundingLength)]);y.setHoverStyle(a,l)}function u(a){var b=Math.round(a);return 1E-4>Math.abs(a-b)?b:Math.ceil(a)}var x=a(4),y=a(18),D=a(111),A=a(7),C=a(143),B=A.parsePercent,L=["itemStyle","normal","borderWidth"],E=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],M=new y.Circle;n=a(1).extendChartView({type:"pictorialBar",render:function(a,b,d){var g=this.group,u=a.getData(),q=this._data;b=a.coordinateSystem;var n=!!b.getBaseAxis().isHorizontal(),x=b.grid.getRect(),r={ecSize:{width:d.getWidth(),height:d.getHeight()},seriesModel:a,coordSys:b,coordSysExtent:[[x.x,x.x+x.width],[x.y,x.y+x.height]],isHorizontal:n,valueDim:E[+n],categoryDim:E[1-n]};u.diff(q).add(function(a){if(u.hasValue(a)){var b=c(u,a),b=m(u,a,b,r),d=p(u,r,b);u.setItemGraphicEl(a,d);g.add(d);v(d,r,b)}}).update(function(a,b){var d=q.getItemGraphicEl(b);if(u.hasValue(a)){var h=c(u,a),h=m(u,a,h,r),n=t(u,h);d&&n!==d.__pictorialShapeStr&&(g.remove(d),u.setItemGraphicEl(a,null),d=null);if(d){var n=d,x=h.animationModel,w=h.dataIndex;y.updateProps(n.__pictorialBundle,{position:h.bundlePosition.slice()},x,w);h.symbolRepeat?k(n,r,h,!0):l(n,r,h,!0);f(n,h,!0);e(n,r,h,!0)}else d=p(u,r,h,!0);u.setItemGraphicEl(a,d);d.__pictorialSymbolMeta=h;g.add(d);v(d,r,h)}else g.remove(d)}).remove(function(a){var b=q.getItemGraphicEl(a);b&&h(q,a,b.__pictorialSymbolMeta.animationModel,b)}).execute();this._data=u;return this.group},dispose:x.noop,remove:function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){h(d,b.dataIndex,a,b)}):c.removeAll()}});r.exports=n},function(r,n,a){r=a(1);n=a(4);a(291);a(308);a(309);r.registerLayout(a(311));r.registerVisual(a(312));r.registerProcessor(n.curry(a(154),"themeRiver"))},function(r,n,a){a(292);a(295);a(297);a(298);a(307);a(1).extendComponentView({type:"single"})},function(r,n,a){var m=a(293);a(76).register("single",{create:function(a,k){var l=[];a.eachComponent("singleAxis",function(f,e){var c=new m(f,a,k);c.name="single_"+e;c.resize(f,k);f.coordinateSystem=c;l.push(c)});a.eachSeries(function(f){if("singleAxis"===f.get("coordinateSystem")){var e=a.queryComponents({mainType:"singleAxis",index:f.get("singleAxisIndex"),id:f.get("singleAxisId")})[0];f.coordinateSystem=e&&e.coordinateSystem}});return l},dimensions:m.prototype.dimensions})},function(r,n,a){function m(a,e,c){this.dimension="single";this.dimensions=["single"];this._axis=null;this._init(a,e,c);this.model=a}var q=a(294),k=a(101),l=a(71);m.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:m,_init:function(a,e,c){e=new q(this.dimension,k.createScaleByModel(a),[0,0],a.get("type"),a.get("position"));e.onBand="category"===e.type&&a.get("boundaryGap");e.inverse=a.get("inverse");e.orient=a.get("orient");a.axis=e;e.model=a;e.coordinateSystem=this;this._axis=e},update:function(a,e){a.eachSeries(function(a){if(a.coordinateSystem===this){var c=a.getData();this._axis.scale.unionExtentFromData(c,a.coordDimToDataDim(this.dimension));k.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(a,e){this._rect=l.getLayoutRect({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:e.getWidth(),height:e.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var a=this._rect,e=this._axis,c=e.isHorizontal(),d=c?[0,a.width]:[0,a.height],b=e.reverse?1:0;e.setExtent(d[b],d[1-b]);this._updateAxisTransform(e,c?a.x:a.y)},_updateAxisTransform:function(a,e){var c=a.getExtent(),d=c[0]+c[1],c=a.isHorizontal();a.toGlobalCoord=c?function(a){return a+e}:function(a){return d-a+e};a.toLocalCoord=c?function(a){return a-e}:function(a){return d-a+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(a){var e=this.getRect(),c=this.getAxis();return"horizontal"===c.orient?c.contain(c.toLocalCoord(a[0]))&&a[1]>=e.y&&a[1]<=e.y+e.height:c.contain(c.toLocalCoord(a[1]))&&a[0]>=e.y&&a[0]<=e.y+e.height},pointToData:function(a){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(a["horizontal"===e.orient?0:1]))]},dataToPoint:function(a){var e=this.getAxis(),c=this.getRect(),d=[],b="horizontal"===e.orient?0:1;a instanceof Array&&(a=a[0]);d[b]=e.toGlobalCoord(e.dataToCoord(+a));d[1-b]=0===b?c.y+c.height/2:c.x+c.width/2;return d}};r.exports=m},function(r,n,a){n=a(4);var m=a(100);a=function(a,k,l,f,e){m.call(this,a,k,l);this.type=f||"value";this.position=e||"bottom";this._labelInterval=this.orient=null};a.prototype={constructor:a,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},pointToData:function(a,k){return this.coordinateSystem.pointToData(a,k)[0]},toGlobalCoord:null,toLocalCoord:null};n.inherits(a,m);r.exports=a},function(r,n,a){var m=a(135),q=a(4),k=a(18),l=a(296),f=m.getInterval,e=m.ifIgnoreOnTick,c=["axisLine","axisLabel","axisTick","axisName"],d=a(136).extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(a,e,f,h){var b=this.group;b.removeAll();var g=l.layout(a),k=new m(a,g);q.each(c,k.add,k);b.add(k.getGroup());a.get("splitLine.show")&&this._splitLine(a,g.labelInterval);d.superCall(this,"render",a,e,f,h)},_splitLine:function(a,c){var b=a.axis;if(!b.scale.isBlank()){for(var d=a.getModel("splitLine"),g=d.getModel("lineStyle"),l=g.get("width"),m=g.get("color"),d=f(d,c),m=m instanceof Array?m:[m],v=a.coordinateSystem.getRect(),u=b.isHorizontal(),q=[],n=0,r=b.getTicksCoords(),A=[],C=[],B=0;B<r.length;++B)if(!e(b,B,d)){var L=b.toGlobalCoord(r[B]);u?(A[0]=L,A[1]=v.y,C[0]=L,C[1]=v.y+v.height):(A[0]=v.x,A[1]=L,C[0]=v.x+v.width,C[1]=L);L=n++%m.length;q[L]=q[L]||[];q[L].push(new k.Line(k.subPixelOptimizeLine({shape:{x1:A[0],y1:A[1],x2:C[0],y2:C[1]},style:{lineWidth:l},silent:!0})))}for(B=0;B<q.length;++B)this.group.add(k.mergePath(q[B],{style:{stroke:m[B%m.length],lineDash:g.getLineDash(l),lineWidth:l},silent:!0}))}}});r.exports=d},function(r,n,a){var m=a(4);r.exports={layout:function(a,k){k=k||{};var l=a.axis,f={},e=l.position,c=l.orient,d=a.coordinateSystem.getRect(),d=[d.x,d.x+d.width,d.y,d.y+d.height],b={top:d[2],bottom:d[3]},g={left:d[0],right:d[1]};f.position=["vertical"===c?g[e]:d[0],"horizontal"===c?b[e]:d[3]];f.rotation=Math.PI/2*{horizontal:0,vertical:1}[c];f.labelDirection=f.tickDirection=f.nameDirection={top:-1,bottom:1,right:1,left:-1}[e];a.get("axisTick.inside")&&(f.tickDirection=-f.tickDirection);m.retrieve(k.labelInside,a.get("axisLabel.inside"))&&(f.labelDirection=-f.labelDirection);c=k.rotate;null==c&&(c=a.get("axisLabel.rotate"));f.labelRotation="top"===e?-c:c;f.labelInterval=l.getLabelInterval();f.z2=1;return f}}},function(r,n,a){var m=a(69);n=a(131);var q=a(4),m=m.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});q.merge(m.prototype,a(112));n("single",m,function(a,l){return l.type||(l.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});r.exports=m},function(r,n,a){r=a(1);var m=a(137);n=a(299);var q=a(4);a(301);a(302);a(304);r.registerPreprocessor(function(a){if(a){a.axisPointer&&0!==a.axisPointer.length||(a.axisPointer={});var k=a.axisPointer.link;k&&!q.isArray(k)&&(a.axisPointer.link=[k])}});r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(a,l){a.getComponent("axisPointer").coordSysAxesInfo=m.collect(a,l)});r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},n)},function(r,n,a){function m(a,b,c,d,e){var h=a.axis;if(!h.scale.isBlank()&&h.containData(b))if(a.involveSeries){var f=q(b,a),k=f.payloadBatch,l=f.snapToValue;k[0]&&null==e.seriesIndex&&g.extend(e,k[0]);!d&&a.snap&&h.containData(l)&&null!=l&&(b=l);c.showPointer(a,b,k,e);c.showTooltip(a,f,l)}else c.showPointer(a,b)}function q(a,b){var c=b.axis,d=c.dim,e=a,g=[],h=Number.MAX_VALUE,f=-1;t(b.seriesModels,function(b,k){var l=b.coordDimToDataDim(d),p;if(b.getAxisTooltipData)l=b.getAxisTooltipData(l,a,c),p=l.dataIndices,l=l.nestestValue;else{p=b.getData().indicesOfNearest(l[0],a,!1,"category"===c.type?.5:null);if(!p.length)return;l=b.getData().get(l[0],p[0])}if(null!=l&&isFinite(l)){var m=a-l,u=Math.abs(m);if(u<=h){if(u<h||0<=m&&0>f)h=u,f=m,e=l,g.length=0;t(p,function(a){g.push({seriesIndex:b.seriesIndex,dataIndexInside:a,dataIndex:b.getData().getRawIndex(a)})})}}});return{payloadBatch:g,snapToValue:e}}function k(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function l(a,b,c,d){c=c.payloadBatch;var e=b.axis,g=e.model,h=b.axisPointerModel;if(b.triggerTooltip&&c.length){b=b.coordSys.model;var f=p.makeKey(b),k=a.map[f];k||(k=a.map[f]={coordSysId:b.id,coordSysIndex:b.componentIndex,coordSysType:b.type,coordSysMainType:b.mainType,dataByAxis:[]},a.list.push(k));k.dataByAxis.push({axisDim:e.dim,axisIndex:g.componentIndex,axisType:g.type,axisId:g.id,value:d,valueLabelOpt:{precision:h.get("label.precision"),formatter:h.get("label.formatter")},seriesDataIndices:c.slice()})}}function f(a,b,c){var d=c.axesInfo=[];t(b,function(b,c){var e=b.axisPointerModel.option,g=a[c];g?(!b.useHandle&&(e.status="show"),e.value=g.value,e.seriesDataIndices=(g.payloadBatch||[]).slice()):!b.useHandle&&(e.status="hide");"show"===e.status&&d.push({axisDim:b.axis.dim,axisIndex:b.axis.model.componentIndex,value:e.value})})}function e(a,c,d,e){if(b(c)||!a.list.length)e({type:"hideTip"});else{var g=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};e({type:"showTip",escapeConnect:!0,x:c[0],y:c[1],tooltipOption:d.tooltipOption,position:d.position,dataIndexInside:g.dataIndexInside,dataIndex:g.dataIndex,seriesIndex:g.seriesIndex,dataByCoordSys:a.list})}}function c(a,b,c){b=c.getZr();var d=z(b).axisPointerLastHighlights||{},e=z(b).axisPointerLastHighlights={};t(a,function(a,b){var c=a.axisPointerModel.option;"show"===c.status&&t(c.seriesDataIndices,function(a){e[a.seriesIndex+" | "+a.dataIndex]=a})});var h=[],f=[];g.each(d,function(a,b){!e[b]&&f.push(a)});g.each(e,function(a,b){!d[b]&&h.push(a)});f.length&&c.dispatchAction({type:"downplay",escapeConnect:!0,batch:f});h.length&&c.dispatchAction({type:"highlight",escapeConnect:!0,batch:h})}function d(a){var b=a.axis.model,c={};a=c.axisDim=a.axis.dim;c.axisIndex=c[a+"AxisIndex"]=b.componentIndex;c.axisName=c[a+"AxisName"]=b.name;c.axisId=c[a+"AxisId"]=b.id;return c}function b(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}var g=a(4);n=a(5);var p=a(137),h=a(300),t=g.each,w=g.curry,z=n.makeGetter();r.exports=function(a,p,q){var u=a.currTrigger,n=[a.x,a.y],v=a.dispatchAction||g.bind(q.dispatchAction,q),x=p.getComponent("axisPointer").coordSysAxesInfo;b(n)&&(n=h({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},p).point);var r=b(n),z=a.axesInfo,E=x.axesInfo,M="leave"===u||b(n),N={},F={};p={list:[],map:{}};var J={showPointer:w(k,F),showTooltip:w(l,p)};t(x.coordSysMap,function(a,b){var c=r||a.containPoint(n);t(x.coordSysAxesInfo[b],function(a,b){var d=a.axis,e;a:{for(e=0;e<(z||[]).length;e++){var g=z[e];if(a.axis.dim===g.axisDim&&a.axis.model.componentIndex===g.axisIndex){e=g;break a}}e=void 0}M||!c||z&&!e||(e=e&&e.value,null!=e||r||(e=d.pointToData(n)),null!=e&&m(a,e,J,!1,N))})});var H={};t(E,function(a,b){var c=a.linkGroup;c&&!F[b]&&t(c.axesInfo,function(b,e){var g=F[e];b!==a&&g&&(g=g.value,c.mapper&&(g=a.axis.scale.parse(c.mapper(g,d(b),d(a)))),H[a.key]=g)})});t(H,function(a,b){m(E[b],a,J,!0,N)});f(F,E,N);e(p,n,a,v);c(E,v,q);return N}},function(r,n,a){var m=a(4),q=a(5);r.exports=function(a,l){var f=[],e=a.seriesIndex,c;if(null==e||!(c=l.getSeriesByIndex(e)))return{point:[]};var d=c.getData(),b=q.queryDataIndex(d,a);if(null==b||m.isArray(b))return{point:[]};var e=d.getItemGraphicEl(b),g=c.coordinateSystem;c.getTooltipPosition?f=c.getTooltipPosition(b)||[]:g&&g.dataToPoint?f=g.dataToPoint(d.getValues(m.map(g.dimensions,function(a){return c.coordDimToDataDim(a)[0]}),b,!0))||[]:e&&(f=e.getBoundingRect().clone(),f.applyTransform(e.transform),f=[f.x+f.width/2,f.y+f.height/2]);return{point:f,el:e}}},function(r,n,a){n=a(1).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,textStyle:{color:"#fff"},padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});r.exports=n},function(r,n,a){var m=a(303),q=a(1).extendComponentView({type:"axisPointer",render:function(a,l,f){l=l.getComponent("tooltip");var e=a.get("triggerOn")||l&&l.get("triggerOn")||"mousemove|click";m.register("axisPointer",f,function(a,d,b){"none"!==e&&("leave"===a||0<=e.indexOf(a))&&b({type:"updateAxisPointer",currTrigger:a,x:d&&d.offsetX,y:d&&d.offsetY})})},remove:function(a,l){m.disopse(l.getZr(),"axisPointer");q.superApply(this._model,"remove",arguments)},dispose:function(a,l){m.unregister("axisPointer",l);q.superApply(this._model,"dispose",arguments)}})},function(r,n,a){function m(a,e){function g(c,g){a.on(c,function(c){var h=f(e);b(d(a).records,function(a){a&&g(a,c,h.dispatchAction)});q(h.pendings,e)})}d(a).initialized||(d(a).initialized=!0,g("click",c.curry(l,"click")),g("mousemove",c.curry(l,"mousemove")),g("globalout",k))}function q(a,b){var c=a.showTip.length,d=a.hideTip.length,e;c?e=a.showTip[c-1]:d&&(e=a.hideTip[d-1]);e&&(e.dispatchAction=null,b.dispatchAction(e))}function k(a,b,c){a.handler("leave",null,c)}function l(a,b,c,d){b.handler(a,c,d)}function f(a){var b={showTip:[],hideTip:[]},c=function(d){var e=b[d.type];e?e.push(d):(d.dispatchAction=c,a.dispatchAction(d))};return{dispatchAction:c,pendings:b}}var e=a(2),c=a(4),d=a(5).makeGetter(),b=c.each;r.exports={register:function(a,b,c){if(!e.node){var g=b.getZr();d(g).records||(d(g).records={});m(g,b);(d(g).records[a]||(d(g).records[a]={})).handler=c}},unregister:function(a,b){if(!e.node){var c=b.getZr();(d(c).records||{})[a]&&(d(c).records[a]=null)}}}},function(r,n,a){function m(a,c){var d={};d[c.dim+"AxisIndex"]=c.index;return a.getCartesian(d)}var q=a(18);n=a(305);var k=a(306),l=a(138);a=a(136);n=n.extend({makeElOption:function(a,c,d,b,g){var e=d.axis,h=e.grid,t=b.get("type"),q=m(h,e).getOtherAxis(e).getGlobalExtent(),n=e.toGlobalCoord(e.dataToCoord(c,!0));if(t&&"none"!==t){var v=k.buildElStyle(b),e=f[t](e,n,q,v);e.style=v;a.graphicKey=e.type;a.pointer=e}h=l.layout(h.model,d);k.buildCartesianSingleLabelElOption(c,a,h,d,b,g)},getHandleTransform:function(a,c,d){var b=l.layout(c.axis.grid.model,c,{labelInside:!1});b.labelMargin=d.get("handle.margin");return{position:k.getTransformedPosition(c.axis,a,b),rotation:b.rotation+(0>b.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,c,d,b){b=d.axis;var e=b.grid;d=b.getGlobalExtent(!0);var f=m(e,b).getOtherAxis(b).getGlobalExtent();b="x"===b.dim?0:1;e=a.position;e[b]+=c[b];e[b]=Math.min(d[1],e[b]);e[b]=Math.max(d[0],e[b]);c=(f[1]+f[0])/2;c=[c,c];c[b]=e[b];return{position:e,rotation:a.rotation,cursorPoint:c,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][b]}}});var f={line:function(a,c,d,b){a=k.makeLineShape([c,d[0]],[c,d[1]],"x"===a.dim?0:1);q.subPixelOptimizeLine({shape:a,style:b});return{type:"Line",shape:a}},shadow:function(a,c,d,b){b=a.getBandWidth();return{type:"Rect",shape:k.makeRectShape([c-b/2,d[0]],[b,d[1]-d[0]],"x"===a.dim?0:1)}}};a.registerAxisPointerClass("CartesianAxisPointer",n);r.exports=n},function(r,n,a){function m(){}function q(a,c,d,e){k(g(d).lastProp,e)||(g(d).lastProp=e,c?b.updateProps(d,e,a):(d.stopAnimation(),d.attr(e)))}function k(a,b){if(d.isObject(a)&&d.isObject(b)){var c=!0;d.each(b,function(b,d){c&=k(a[d],b)});return!!c}return a===b}function l(a,b){a[b.get("label.show")?"show":"hide"]()}function f(a){return{position:a.position.slice(),rotation:a.rotation||0}}function e(a,c){var e=a.get("icon"),g={x:-1,y:-1,width:2,height:2},h=d.extend({style:{strokeNoScale:!0},rectHover:!0,cursor:"move",draggable:!0},c);return 0===e.indexOf("image://")?(g.image=e.slice(8),h.style=g,new b.Image(h)):b.makePath(e.replace("path://",""),h,g,"center")}function c(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=d&&(a.z=d),null!=e&&(a.zlevel=e),a.silent=c)})}var d=a(4);n=a(13);var b=a(18),g=a(5).makeGetter(),p=a(137),h=a(88),t=a(81),w=d.clone,z=d.bind;m.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(a,e,g,h){var f=e.get("value"),k=e.get("status");this._axisModel=a;this._axisPointerModel=e;this._api=g;if(h||this._lastValue!==f||this._lastStatus!==k){this._lastValue=f;this._lastStatus=k;h=this._group;var l=this._handle;k&&"hide"!==k?(h&&h.show(),l&&l.show(),k={},this.makeElOption(k,f,a,e,g),l=k.graphicKey,l!==this._lastGraphicKey&&this.clear(g),this._lastGraphicKey=l,l=this._moveAnimation=this.determineAnimation(a,e),h?(a=d.curry(q,e,l),this.updatePointerEl(h,k,a,e),this.updateLabelEl(h,k,a,e)):(h=this._group=new b.Group,this.createPointerEl(h,k,a,e),this.createLabelEl(h,k,a,e),g.getZr().add(h)),c(h,e,!0),this._renderHandle(f)):(h&&h.hide(),l&&l.hide())}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type,g=b.get("snap");return g||e?"auto"===c||null==c?(c=this.animationThreshold,e&&d.getBandWidth()>c?!0:g?(e=p.getAxisInfo(a).seriesDataCount,d=d.getExtent(),Math.abs(d[0]-d[1])/e>c):!1):!0===c:!1},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,c,d,e){if(d=c.pointer)c=g(a).pointerEl=new b[d.type](w(c.pointer)),a.add(c)},createLabelEl:function(a,c,d,e){c.label&&(c=g(a).labelEl=new b.Rect(w(c.label)),a.add(c),l(c,e))},updatePointerEl:function(a,b,c){if(a=g(a).pointerEl)a.setStyle(b.pointer.style),c(a,{shape:b.pointer.shape})},updateLabelEl:function(a,b,c,d){if(a=g(a).labelEl)a.setStyle(b.label.style),c(a,{shape:b.label.shape,position:b.label.position}),l(a,d)},_renderHandle:function(a){if(!this._dragging&&this.updateHandleTransform){var b=this._axisPointerModel,g=this._api.getZr(),f=this._handle,k=b.getModel("handle"),l=b.get("status");if(k.get("show")&&l&&"hide"!==l){var p;this._handle||(p=!0,f=this._handle=e(k,{onmousemove:function(a){h.stop(a.event)},onmousedown:z(this._onHandleDragMove,this,0,0),drift:z(this._onHandleDragMove,this),ondragend:z(this._onHandleDragEnd,this)}),g.add(f));c(f,b,!1);f.setStyle(k.getItemStyle(null,"color borderColor borderWidth opacity shadowColor shadowBlur shadowOffsetX shadowOffsetY".split(" ")));b=k.get("size");d.isArray(b)||(b=[b,b]);f.attr("scale",[b[0]/2,b[1]/2]);t.createOrUpdate(this,"_doDispatchAxisPointer",k.get("throttle")||0,"fixRate");this._moveHandleToValue(a,p)}else f&&g.remove(f),this._handle=null}},_moveHandleToValue:function(a,b){q(this._axisPointerModel,!b&&this._moveAnimation,this._handle,f(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(a,b){var c=this._handle;if(c){this._dragging=!0;var d=this.updateHandleTransform(f(c),[a,b],this._axisModel,this._axisPointerModel);this._payloadInfo=d;c.stopAnimation();c.attr(f(d));g(c).lastProp=null;this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(a){this._dragging=!1;this._handle&&(a=this._axisPointerModel.get("value"),this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(a){this._lastStatus=this._lastValue=null;a=a.getZr();var b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._payloadInfo=this._handle=this._group=null)},doClear:function(){},buildLabel:function(a,b,c){c=c||0;return{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}};m.prototype.constructor=m;n.enableClassExtend(m);r.exports=m},function(r,n,a){var m=a(4),q=a(18),k=a(8),l=a(6),f=a(11),e=a(101),c=a(135),d={buildElStyle:function(a){var b=a.get("type");a=a.getModel(b+"Style");var c;"line"===b?(c=a.getLineStyle(),c.fill=null):"shadow"===b&&(c=a.getAreaStyle(),c.stroke=null);return c},buildLabelElOption:function(a,c,e,h,f){var b=e.get("value"),b=d.getValueLabel(b,c.axis,c.ecModel,e.get("seriesDataIndices"),{precision:e.get("label.precision"),formatter:e.get("label.formatter")});e=e.getModel("label");var g=e.getModel("textStyle"),p=l.normalizeCssArray(e.get("padding")||0),m=g.getFont(),t=k.getBoundingRect(b,m,f.textAlign,f.textBaseline),q=f.position,n=t.width+p[1]+p[3],p=t.height+p[0]+p[2],t=f.align;"right"===t&&(q[0]-=n);"center"===t&&(q[0]-=n/2);f=f.verticalAlign;"bottom"===f&&(q[1]-=p);"middle"===f&&(q[1]-=p/2);f=h.getWidth();h=h.getHeight();q[0]=Math.min(q[0]+n,f)-n;q[1]=Math.min(q[1]+p,h)-p;q[0]=Math.max(q[0],0);q[1]=Math.max(q[1],0);(h=e.get("backgroundColor"))&&"auto"!==h||(h=c.get("axisLine.lineStyle.color"));a.label={shape:{x:0,y:0,width:n,height:p,r:e.get("borderRadius")},position:q.slice(),style:{text:b,textFont:m,textFill:g.getTextColor(),textPosition:"inside",fill:h,stroke:e.get("borderColor")||"transparent",lineWidth:e.get("borderWidth")||0,shadowBlur:e.get("shadowBlur"),shadowColor:e.get("shadowColor"),shadowOffsetX:e.get("shadowOffsetX"),shadowOffsetY:e.get("shadowOffsetY")},z2:10}},getValueLabel:function(a,c,d,h,f){var b=c.scale.getLabel(a,{precision:f.precision});if(f=f.formatter){var g={value:e.getAxisRawValue(c,a),seriesData:[]};m.each(h,function(a){var b=d.getSeriesByIndex(a.seriesIndex);a=a.dataIndexInside;(b=b&&b.getDataParams(a))&&g.seriesData.push(b)});m.isString(f)?b=f.replace("{value}",b):m.isFunction(f)&&(b=f(g))}return b},getTransformedPosition:function(a,c,d){var b=f.create();f.rotate(b,b,d.rotation);f.translate(b,b,d.position);return q.applyTransform([a.dataToCoord(c),(d.labelOffset||0)+(d.labelDirection||1)*(d.labelMargin||0)],b)},buildCartesianSingleLabelElOption:function(a,e,f,h,k,l){var b=c.innerTextLayout(f.rotation,0,f.labelDirection);f.labelMargin=k.get("label.margin");d.buildLabelElOption(e,h,k,l,{position:d.getTransformedPosition(h.axis,a,f),align:b.textAlign,verticalAlign:b.textVerticalAlign})},makeLineShape:function(a,c,d){d=d||0;return{x1:a[d],y1:a[1-d],x2:c[d],y2:c[1-d]}},makeRectShape:function(a,c,d){d=d||0;return{x:a[d],y:a[1-d],width:c[d],height:c[1-d]}},makeSectorShape:function(a,c,d,e,f,k){return{cx:a,cy:c,r0:d,r:e,startAngle:f,endAngle:k,clockwise:!0}}};r.exports=d},function(r,n,a){function m(a,b){var c=a.getRect();return[c[f[b]],c[f[b]]+c[e[b]]]}var q=a(18);n=a(305);var k=a(306),l=a(296);a=a(136);var f=["x","y"],e=["width","height"];n=n.extend({makeElOption:function(a,b,e,f,h){var d=e.axis,g=d.coordinateSystem,p=m(g,1-(d.isHorizontal()?0:1)),q=g.dataToPoint(b)[0],u=f.get("type");u&&"none"!==u&&(g=k.buildElStyle(f),d=c[u](d,q,p,g),d.style=g,a.graphicKey=d.type,a.pointer=d);d=l.layout(e);k.buildCartesianSingleLabelElOption(b,a,d,e,f,h)},getHandleTransform:function(a,b,c){var d=l.layout(b,{labelInside:!1});d.labelMargin=c.get("handle.margin");return{position:k.getTransformedPosition(b.axis,a,d),rotation:d.rotation+(0>d.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,b,c,e){c=c.axis;var d=c.coordinateSystem;c=c.isHorizontal()?0:1;var g=m(d,c);e=a.position;e[c]+=b[c];e[c]=Math.min(g[1],e[c]);e[c]=Math.max(g[0],e[c]);b=m(d,1-c);b=(b[1]+b[0])/2;b=[b,b];b[c]=e[c];return{position:e,rotation:a.rotation,cursorPoint:b,tooltipOption:{verticalAlign:"middle"}}}});var c={line:function(a,b,c,e){a=k.makeLineShape([b,c[0]],[b,c[1]],a.isHorizontal()?0:1);q.subPixelOptimizeLine({shape:a,style:e});return{type:"Line",shape:a}},shadow:function(a,b,c,e){e=a.getBandWidth();return{type:"Rect",shape:k.makeRectShape([b-e/2,c[0]],[e,c[1]-c[0]],a.isHorizontal()?0:1)}}};a.registerAxisPointerClass("SingleAxisPointer",n);r.exports=n},function(r,n,a){var m=a(110);n=a(78);var q=a(98),k=a(4),l=a(6).encodeHTML,f=a(255),e=n.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(a){e.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(a){for(var c=a.length,b=f().key(function(a){return a[2]}).entries(a),b=k.map(b,function(a){return{name:a.key,dataList:a.values}}),e=b.length,l=-1,h=-1,m=0;m<e;++m){var q=b[m].dataList.length;q>l&&(l=q,h=m)}for(m=0;m<e;++m)if(m!==h)for(var q=b[m].name,n=0;n<l;++n){for(var v=b[h].dataList[n][0],u=b[m].dataList.length,r=-1,y=0;y<u;++y)if(b[m].dataList[y][0]===v){r=y;break}-1===r&&(a[c]=[],a[c][0]=v,a[c][1]=0,a[c][2]=q,c++)}return a},getInitialData:function(a,d){for(var b=[],b=d.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),b=[{name:"time",type:"category"===b?"ordinal":"time"===b?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}],c=k.filter(a.data,function(a){return void 0!==a[2]}),c=this.fixData(c||[]),e=[],h=this.nameMap=k.createHashMap(),f=0,l=0;l<c.length;++l)e.push(c[l][2]),h.get(c[l][2])||(h.set(c[l][2],f),f++);b=m(b,c);b=new q(b,this);b.initData(c,e);return b},coordDimToDataDim:function(a){return["time"]},getLayerSeries:function(){function a(a,b){return d.get("time",a)-d.get("time",b)}for(var d=this.getData(),b=d.count(),e=[],l=0;l<b;++l)e[l]=l;b=f().key(function(a){return d.get("name",a)}).entries(e);b=k.map(b,function(a){return{name:a.key,indices:a.values}});for(e=0;e<b.length;++e)b[e].indices.sort(a);return b},getAxisTooltipData:function(a,d,b){k.isArray(a)||(a=a?[a]:[]);b=this.getData();for(var c=this.getLayerSeries(),e=[],h=c.length,f,l=0;l<h;++l){for(var m=Number.MAX_VALUE,q=-1,u=c[l].indices.length,n=0;n<u;++n){var r=b.get(a[0],c[l].indices[n]),D=Math.abs(r-d);D<=m&&(f=r,m=D,q=c[l].indices[n])}e.push(q)}return{dataIndices:e,nestestValue:f}},formatTooltip:function(a){var c=this.getData(),b=c.get("name",a);a=c.get("value",a);if(isNaN(a)||null==a)a="-";return l(b+" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",textStyle:{color:"#000",fontSize:11}},emphasis:{show:!0}}}});r.exports=e},function(r,n,a){(function(m){function q(a,d,b){var c=new l.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});l.initProps(c,{shape:{width:a.width+20,height:a.height+20}},d,b);return c}var k=a(120),l=a(18),f=a(4),e=a(99);r.exports=a(1).extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(a,d,b){function c(a){return a.name}function p(b,c,d){var e=this._layers;if("remove"===b)n.remove(e[c]);else{for(var g=[],p=[],t,u=r[c].indices,x=0;x<u.length;x++){var w=h.getItemLayout(u[x]);t=w.x;var z=w.y0,w=w.y;g.push([t,z]);p.push([t,z+w]);t=m.getItemVisual(u[x],"color")}var y,J=h.getItemLayout(u[0]),w=h.getItemModel(u[x-1]),z=w.getModel("label.normal"),H=z.get("margin");"add"===b?(d=v[c]=new l.Group,y=new k.Polygon({shape:{points:g,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),b=new l.Text({style:{x:J.x-H,y:J.y0+J.y/2}}),d.add(y),d.add(b),n.add(d),y.setClipPath(q(y.getBoundingRect(),a,function(){y.removeClipPath()}))):(d=e[d],y=d.childAt(0),b=d.childAt(1),n.add(d),v[c]=d,l.updateProps(y,{shape:{points:g,stackedOnPoints:p}},a),l.updateProps(b,{style:{x:J.x-H,y:J.y0+J.y/2}},a));c=w.getModel("itemStyle.emphasis");g=w.getModel("itemStyle.normal");p=z.getModel("textStyle");b.setStyle({text:z.get("show")?a.getFormattedLabel(u[x-1],"normal")||h.getName(u[x-1]):"",textFont:p.getFont(),textAlign:z.get("textAlign"),textVerticalAlign:"middle"});y.setStyle(f.extend({fill:t},g.getItemStyle(["color"])));l.setHoverStyle(y,c.getItemStyle())}}var h=a.getData(),m=a.getRawData();if(h.count()){var n=this.group,r=a.getLayerSeries();d=h.getLayout("layoutInfo");n.attr("position",[0,d.rect.y+d.boundaryGap[0]]);var v={};(new e(this._layersSeries||[],r,c,c)).add(f.bind(f.curry(p,"add"),this)).update(f.bind(f.curry(p,"update"),this)).remove(f.bind(f.curry(p,"remove"),this)).execute();this._layersSeries=r;this._layers=v}},dispose:function(){}})}).call(n,a(310))},function(r,n){function a(){throw Error("setTimeout has not been defined");}function m(){throw Error("clearTimeout has not been defined");}function q(c){if(b===setTimeout)return setTimeout(c,0);if((b===a||!b)&&setTimeout)return b=setTimeout,setTimeout(c,0);try{return b(c,0)}catch(v){try{return b.call(null,c,0)}catch(u){return b.call(this,c,0)}}}function k(a){if(g===clearTimeout)return clearTimeout(a);if((g===m||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(a);try{return g(a)}catch(v){try{return g.call(null,a)}catch(u){return g.call(this,a)}}}function l(){h&&t&&(h=!1,t.length?p=t.concat(p):w=-1,p.length&&f())}function f(){if(!h){var a=q(l);h=!0;for(var b=p.length;b;){t=p;for(p=[];++w<b;)t&&t[w].run();w=-1;b=p.length}t=null;h=!1;k(a)}}function e(a,b){this.fun=a;this.array=b}function c(){}var d=r.exports={},b,g;try{b="function"===typeof setTimeout?setTimeout:a}catch(z){b=a}try{g="function"===typeof clearTimeout?clearTimeout:m}catch(z){g=m}var p=[],h=!1,t,w=-1;d.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new e(a,b));1!==p.length||h||q(f)};e.prototype.run=function(){this.fun.apply(null,this.array)};d.title="browser";d.browser=!0;d.env={};d.argv=[];d.version="";d.versions={};d.on=c;d.addListener=c;d.once=c;d.off=c;d.removeListener=c;d.removeAllListeners=c;d.emit=c;d.binding=function(a){throw Error("process.binding is not supported");};d.cwd=function(){return"/"};d.chdir=function(a){throw Error("process.chdir is not supported");};d.umask=function(){return 0}},function(r,n,a){function m(a,e,c){if(a.count()){var d=e.coordinateSystem;e=e.getLayerSeries();var b=k.map(e,function(b){return k.map(b.indices,function(b){var c=d.dataToPoint(a.get("time",b));c[1]=a.get("value",b);return c})}),g=q(b),f=g.y0;c/=g.max;for(var g=e.length,h=e[0].indices.length,l,m=0;m<h;++m){l=f[m]*c;a.setItemLayout(e[0].indices[m],{layerIndex:0,x:b[0][m][0],y0:l,y:b[0][m][1]*c});for(var n=1;n<g;++n)l+=b[n-1][m][1]*c,a.setItemLayout(e[n].indices[m],{layerIndex:n,x:b[n][m][0],y0:l,y:b[n][m][1]*c})}}}function q(a){for(var e=a.length,c=a[0].length,d=[],b=[],g=0,f,h={},k=0;k<c;++k){var l=0;for(f=0;l<e;++l)f+=a[l][k][1];f>g&&(g=f);d.push(f)}for(a=0;a<c;++a)b[a]=(g-d[a])/2;for(a=g=0;a<c;++a)e=d[a]+b[a],e>g&&(g=e);h.y0=b;h.max=g;return h}var k=a(4),l=a(7);r.exports=function(a,e){a.eachSeriesByType("themeRiver",function(a){var c=a.getData(),b=a.coordinateSystem,e={},f=b.getRect();e.rect=f;var h=a.get("boundaryGap"),b=b.getAxis();e.boundaryGap=h;"horizontal"===b.orient?(h[0]=l.parsePercent(h[0],f.height),h[1]=l.parsePercent(h[1],f.height),m(c,a,f.height-h[0]-h[1])):(h[0]=l.parsePercent(h[0],f.width),h[1]=l.parsePercent(h[1],f.width),m(c,a,f.width-h[0]-h[1]));c.setLayout("layoutInfo",e)})}},function(r,n){r.exports=function(a){a.eachSeriesByType("themeRiver",function(a){var m=a.getData(),k=a.getRawData(),l=a.get("color");m.each(function(f){var e=m.getName(f),e=l[(a.nameMap.get(e)-1)%l.length];k.setItemVisual(f,"color",e)})})}},function(r,n,a){function m(a){var b=a.type,d;"path"===b?(d=a.shape,d=c.makePath(d.pathData,null,{x:d.x||0,y:d.y||0,width:d.width||0,height:d.height||0},"center"),d.__customPathData=a.pathData):"image"===b?(d=new c.Image({}),d.__customImagePath=a.style.image):"text"===b?(d=new c.Text({}),d.__customText=a.style.text):(a=c[b.charAt(0).toUpperCase()+b.slice(1)],e.assert(a,'graphic type "'+b+'" can not be found.'),d=new a);d.__customGraphicType=b;return d}function q(a,b,d,g,h,f){h={};var k=d.style||{};d.shape&&(h.shape=e.clone(d.shape));d.position&&(h.position=d.position.slice());d.scale&&(h.scale=d.scale.slice());d.origin&&(h.origin=d.origin.slice());d.rotation&&(h.rotation=d.rotation);if("image"===a.type&&d.style){var l=h.style={};e.each(["x","y","width","height"],function(b){var c=a.style;null==k[b]||f||(l[b]=k[b],k[b]=c[b])})}"text"===a.type&&d.style&&(l=h.style={},e.each(["x","y"],function(b){var c=a.style;null==k[b]||f||(l[b]=k[b],k[b]=c[b])}));if("group"!==a.type&&(a.useStyle(k),f)){a.style.opacity=0;var p=k.opacity;null==p&&(p=1);c.initProps(a,{style:{opacity:p}},g,b)}f?a.attr(h):c.updateProps(a,h,g,b);a.attr({z2:d.z2||0,silent:d.silent});!1!==d.styleEmphasis&&c.setHoverStyle(a,d.styleEmphasis)}function k(a,b,f,k){function m(a){null==a&&(a=x);y&&(F=b.getItemModel(a),J=F.getModel(t),H=F.getModel(w),K=d.findLabelValueDim(b),I=b.getItemVisual(a,"color"),y=!1)}var u=a.get("renderItem"),q=a.coordinateSystem;e.assert(u,"series.render is required.");e.assert(q.prepareCustoms||z[q.type],"This coordSys does not support custom series.");var n=q.prepareCustoms?q.prepareCustoms():z[q.type](q),v=e.defaults({getWidth:k.getWidth,getHeight:k.getHeight,getZr:k.getZr,getDevicePixelRatio:k.getDevicePixelRatio,value:function(a,c){null==c&&(c=x);return b.get(b.getDimension(a||0),c)},style:function(c,g){null==g&&(g=x);m(g);var h=F.getModel(p).getItemStyle();null!=I&&(h.fill=I);var f=b.getItemVisual(g,"opacity");null!=f&&(h.opacity=f);d.setTextToStyle(b,g,K,h,a,J,I);c&&e.extend(h,c);return h},styleEmphasis:function(c,g){null==g&&(g=x);m(g);var f=F.getModel(h).getItemStyle();d.setTextToStyle(b,g,K,f,a,H,I);c&&e.extend(f,c);return f},visual:function(a,c){null==c&&(c=x);return b.getItemVisual(c,a)},barLayout:function(a){if(q.getBaseAxis){var b=q.getBaseAxis();return g.getLayoutOnAxis(e.defaults({axis:b},a),k)}},currentSeriesIndices:function(){return f.getCurrentSeriesIndices()},font:function(a){return c.getFont(a,f)}},n.api),r={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:n.coordSys,dataInsideLength:b.count(),encode:l(a.getData())},x,y=!0,F,J,H,K,I;return function(a){x=a;y=!0;return u&&u(e.defaults({dataIndexInside:a,dataIndex:b.getRawIndex(a)},r),v)||{}}}function l(a){var b={};e.each(a.dimensions,function(c,d){var e=a.getDimensionInfo(c);if(!e.isExtraCoord){var g=e.coordDim;(b[g]=b[g]||[])[e.coordDimIndex]=d}});return b}function f(a,b,c,d,g,h){var k=c.type;!a||k===a.__customGraphicType||"path"===k&&c.pathData===a.__customPathData||"image"===k&&c.style.image===a.__customImagePath||"text"===k&&c.style.text===a.__customText||(g.remove(a),a=null);if(null!=k){var l=!a;!a&&(a=m(c));q(a,b,c,d,h,l);"group"===k&&e.each(c.children,function(c,e){f(a.childAt(e),b,c,d,a,h)});g.add(a);return a}}r=a(1);var e=a(4),c=a(18),d=a(118),b=a(109),g=a(145),p=["itemStyle","normal"],h=["itemStyle","emphasis"],t=["label","normal"],w=["label","emphasis"],z={cartesian2d:a(314),geo:a(315),singleAxis:a(316),polar:a(317),calendar:a(318)};r.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(a,c){return b(a.data,this,c)}});r.extendChartView({type:"custom",_data:null,render:function(a,b,c){var d=this._data,e=a.getData(),g=this.group,h=k(a,e,b,c);e.diff(d).add(function(b){if(e.hasValue(b)){var c=null,d=h(b);(c=f(c,b,d,a,g,e))&&e.setItemGraphicEl(b,c)}}).update(function(b,c){var k=d.getItemGraphicEl(c);if(e.hasValue(b)){var l=h(b);(k=f(k,b,l,a,g,e))&&e.setItemGraphicEl(b,k)}else k&&g.remove(k)}).remove(function(a){(a=d.getItemGraphicEl(a))&&g.remove(a)}).execute();this._data=e},dispose:e.noop})},function(r,n,a){function m(a,l){l=l||[0,0];return q.map(["x","y"],function(f,e){var c=this.getAxis(f),d=l[e],b=a[e]/2;return"category"===c.type?c.getBandWidth():Math.abs(c.dataToCoord(d-b)-c.dataToCoord(d+b))},this)}var q=a(4);r.exports=function(a){var k=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:k.x,y:k.y,width:k.width,height:k.height},api:{coord:q.bind(a.dataToPoint,a),size:q.bind(m,a)}}}},function(r,n,a){function m(a,l){l=l||[0,0];return q.map([0,1],function(f){var e=l[f],c=a[f]/2,d=[],b=[];d[f]=e-c;b[f]=e+c;d[1-f]=b[1-f]=l[1-f];return Math.abs(this.dataToPoint(d)[f]-this.dataToPoint(b)[f])},this)}var q=a(4);r.exports=function(a){var k=a.getBoundingRect();return{coordSys:{type:"geo",x:k.x,y:k.y,width:k.width,height:k.height},api:{coord:q.bind(a.dataToPoint,a),size:q.bind(m,a)}}}},function(r,n,a){function m(a,l){var f=this.getAxis(),e=l instanceof Array?l[0]:l,c=(a instanceof Array?a[0]:a)/2;return"category"===f.type?f.getBandWidth():Math.abs(f.dataToCoord(e-c)-f.dataToCoord(e+c))}var q=a(4);r.exports=function(a){var k=a.getRect();return{coordSys:{type:"singleAxis",x:k.x,y:k.y,width:k.width,height:k.height},api:{coord:q.bind(a.dataToPoint,a),size:q.bind(m,a)}}}},function(r,n,a){function m(a,l){return q.map(["Radius","Angle"],function(f,e){var c=this["get"+f+"Axis"](),d=l[e],b=a[e]/2,g="dataTo"+f,c="category"===c.type?c.getBandWidth():Math.abs(c[g](d-b)-c[g](d+b));"Angle"===f&&(c=c*Math.PI/180);return c},this)}var q=a(4);r.exports=function(a){var k=a.getRadiusAxis(),f=a.getAngleAxis(),e=k.getExtent();e[0]>e[1]&&e.reverse();return{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:e[1],r0:e[0]},api:{coord:q.bind(function(c){var d=k.dataToRadius(c[0]);c=f.dataToAngle(c[1]);var b=a.coordToPoint([d,c]);b.push(d,c*Math.PI/180);return b}),size:q.bind(m,a)}}}},function(r,n,a){var m=a(4);r.exports=function(a){var k=a.getRect(),l=a.getRangeInfo();return{coordSys:{type:"calendar",x:k.x,y:k.y,width:k.width,height:k.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:l.start,end:l.end,weeks:l.weeks,dayCount:l.allDay}},api:{coord:m.bind(a.dataToPoint,a)}}}},function(r,n,a){function m(a,b,d,e){var g=d.type;f.assert(g,"graphic type MUST be set");g=c[g.charAt(0).toUpperCase()+g.slice(1)];f.assert(g,"graphic type can not be found");d=new g(d);b.add(d);e.set(a,d);d.__ecGraphicId=a}function q(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(a){q(a,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function k(a){a=f.extend({},a);f.each(["id","parentId","$action","hv","bounding"].concat(d.LOCATION_PARAMS),function(b){delete a[b]});return a}function l(a,b){var c;f.each(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)});return c}r=a(1);var f=a(4),e=a(5),c=a(18),d=a(71);r.registerPreprocessor(function(a){var b=a.graphic;f.isArray(b)?a.graphic=b[0]&&b[0].elements?[a.graphic[0]]:[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var b=r.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var c=this.option.elements;this.option.elements=null;b.superApply(this,"mergeOption",arguments);this.option.elements=c},optionUpdated:function(a,b){var c=this.option,g=(b?c:a).elements,k=c.elements=b?[]:c.elements,c=[];this._flatten(g,c);g=e.mappingToExists(k,c);e.makeIdAndName(g);var p=this._elOptionsToUpdate=[];f.each(g,function(a,b){var c=a.option;f.assert(f.isObject(c)||a.exist,"Empty graphic option definition");if(c){p.push(c);var e=a.exist;c.id=a.keyInfo.id;!c.type&&e&&(c.type=e.type);if(null==c.parentId){var g=c.parentOption;g?c.parentId=g.id:e&&(c.parentId=e.parentId)}c.parentOption=null;var e=f.extend({},c),g=k[b],h=c.$action||"merge";"merge"===h?g?(h=c.type,f.assert(!h||g.type===h,'Please set $action: "replace" to change `type`'),f.merge(g,e,!0),d.mergeLayoutParam(g,e,{ignoreSize:!0}),d.copyLayoutParams(c,g)):k[b]=e:"replace"===h?k[b]=e:"remove"===h&&g&&(k[b]=null);if(e=k[b])e.hv=c.hv=[l(c,["left","right"]),l(c,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=c.width=0),null==e.height&&(e.height=c.height=0))}},this);for(g=k.length-1;0<=g;g--)null==k[g]?k.splice(g,1):delete k[g].$action},_flatten:function(a,b,c){f.each(a,function(a){if(a){c&&(a.parentOption=c);b.push(a);var d=a.children;"group"===a.type&&d&&this._flatten(d,b,a);delete a.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return a}});r.extendComponentView({type:"graphic",init:function(a,b){this._elMap=f.createHashMap()},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=a;this._updateElements(a,c);this._relocate(a,c)},_updateElements:function(a,b){var c=a.useElOptionsToUpdate();if(c){var d=this._elMap,e=this.group;f.each(c,function(a){var b=a.$action,c=a.id,g=d.get(c),h=a.parentId,h=null!=h?d.get(h):e;a.hv&&a.hv[1]&&"text"===a.type&&(a.style=f.defaults({textBaseline:"middle"},a.style),a.style.textVerticalAlign=null);var l=k(a);g&&f.assert(h===g.parent,"Changing parent is not supported.");b&&"merge"!==b?"replace"===b?(q(g,d),m(c,h,l,d)):"remove"===b&&q(g,d):g?g.attr(l):m(c,h,l,d);if(b=d.get(c))b.__ecGraphicWidth=a.width,b.__ecGraphicHeight=a.height})}},_relocate:function(a,b){for(var c=a.option.elements,e=this.group,g=this._elMap,f=c.length-1;0<=f;f--){var k=c[f],l=g.get(k.id);if(l){var p=l.parent,p=p===e?{width:b.getWidth(),height:b.getHeight()}:{width:p.__ecGraphicWidth||0,height:p.__ecGraphicHeight||0};d.positionElement(l,k,p,null,{hv:k.hv,boundingMode:k.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(b){q(b,a)});this._elMap=f.createHashMap()},dispose:function(){this._clear()}})},function(r,n,a){a(124);a(304);a(298)},function(r,n,a){a(322);a(323);a(324);a(1).registerProcessor(a(326))},function(r,n,a){var m=a(4),q=a(12),k=a(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,f,e){this.mergeDefaultAndTheme(a,e);a.selected=a.selected||{}},mergeOption:function(a){k.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var f=!1,e=0;e<a.length;e++){var c=a[e].get("name");if(this.isSelected(c)){this.select(c);f=!0;break}}!f&&this.select(a[0].get("name"))}},_updateData:function(a){this._data=m.map(this.get("data")||[],function(a){if("string"===typeof a||"number"===typeof a)a={name:a};return new q(a,this,this.ecModel)},this);var f=m.map(a.getSeries(),function(a){return a.name});a.eachSeries(function(a){a.legendDataProvider&&(a=a.legendDataProvider(),f=f.concat(a.mapArray(a.getName)))});this._availableNames=f},getData:function(){return this._data},select:function(a){var f=this.option.selected;"single"===this.get("selectedMode")&&m.each(this._data,function(a){f[a.get("name")]=!1});f[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var f=this.option.selected;f.hasOwnProperty(a)||(f[a]=!0);this[f[a]?"unSelect":"select"](a)},isSelected:function(a){var f=this.option.selected;return!(f.hasOwnProperty(a)&&!f[a])&&0<=m.indexOf(this._availableNames,a)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});r.exports=k},function(r,n,a){function m(a,l,f){var e={},c="toggleSelected"===a,d;f.eachComponent("legend",function(b){if(c&&null!=d)b[d?"select":"unSelect"](l.name);else b[a](l.name),d=b.isSelected(l.name);var g=b.getData();q.each(g,function(a){a=a.get("name");if("\n"!==a&&""!==a){var c=b.isSelected(a);e.hasOwnProperty(a)?e[a]=e[a]&&c:e[a]=c}})});return{name:l.name,selected:e}}r=a(1);var q=a(4);r.registerAction("legendToggleSelect","legendselectchanged",q.curry(m,"toggleSelected"));r.registerAction("legendSelect","legendselected",q.curry(m,"select"));r.registerAction("legendUnSelect","legendunselected",q.curry(m,"unSelect"))},function(r,n,a){function m(a,c){c.dispatchAction({type:"legendToggleSelect",name:a})}function q(a,c,d){var b=d.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||a.get("legendHoverLink")&&d.dispatchAction({type:"highlight",seriesName:a.name,name:c})}function k(a,c,d){var b=d.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||a.get("legendHoverLink")&&d.dispatchAction({type:"downplay",seriesName:a.name,name:c})}var l=a(4),f=a(111),e=a(18),c=a(325),d=l.curry;r.exports=a(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(a,g,f){var b=this.group;b.removeAll();if(a.get("show")){var p=a.get("selectedMode"),n=a.get("align");"auto"===n&&(n="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left");var r=l.createHashMap();l.each(a.getData(),function(c){var h=c.get("name");if(""===h||"\n"===h)b.add(new e.Group({newline:!0}));else{var l=g.getSeriesByName(h)[0];if(!r.get(h)){if(l){var t=l.getData(),v=t.getVisual("color");"function"===typeof v&&(v=v(l.getDataParams(0)));var w=t.getVisual("legendSymbol")||"roundRect",t=t.getVisual("symbol");this._createItem(h,c,a,w,t,n,v,p).on("click",d(m,h,f)).on("mouseover",d(q,l,null,f)).on("mouseout",d(k,l,null,f));r.set(h,!0)}else g.eachRawSeries(function(b){if(!r.get(h)&&b.legendDataProvider){var e=b.legendDataProvider(),g=e.indexOfName(h);0>g||(e=e.getItemVisual(g,"color"),this._createItem(h,c,a,"roundRect",null,n,e,p).on("click",d(m,h,f)).on("mouseover",d(q,b,h,f)).on("mouseout",d(k,b,h,f)),r.set(h,!0))}},this);r.get(h)||console.warn(h+" series not exists. Legend data should be same with series name or data name.")}}},this);c.layout(b,a,f);c.addBackground(b,a)}},_createItem:function(a,c,d,h,k,m,n,q){var b=d.get("itemWidth"),g=d.get("itemHeight"),p=d.get("inactiveColor"),t=d.isSelected(a),v=new e.Group,r=c.getModel("textStyle"),w=c.get("icon");c=c.getModel("tooltip");var z=c.parentModel;h=w||h;v.add(f.createSymbol(h,0,0,b,g,t?n:p));w||!k||k===h&&"none"!=k||(h=.8*g,"none"===k&&(k="circle"),v.add(f.createSymbol(k,(b-h)/2,(g-h)/2,h,h,t?n:p)));k="left"===m?b+5:-5;n=d.get("formatter");b=a;"string"===typeof n&&n?b=n.replace("{name}",null!=a?a:""):"function"===typeof n&&(b=n(a));m=new e.Text({style:{text:b,x:k,y:g/2,fill:t?r.getTextColor():p,textFont:r.getFont(),textAlign:m,textVerticalAlign:"middle"}});v.add(m);d=new e.Rect({shape:v.getBoundingRect(),invisible:!0,tooltip:c.get("show")?l.extend({content:a,formatter:z.get("formatter",!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},c.option):null});v.add(d);v.eachChild(function(a){a.silent=!0});d.silent=!q;this.group.add(v);e.setHoverStyle(v);return v}})},function(r,n,a){var m=a(71),q=a(6),k=a(18);r.exports={layout:function(a,f,e){var c=m.getLayoutRect(f.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},f.get("padding"));m.box(f.get("orient"),a,f.get("itemGap"),c.width,c.height);m.positionElement(a,f.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},f.get("padding"))},addBackground:function(a,f){var e=q.normalizeCssArray(f.get("padding")),c=a.getBoundingRect(),d=f.getItemStyle(["color","opacity"]);d.fill=f.get("backgroundColor");e=new k.Rect({shape:{x:c.x-e[3],y:c.y-e[0],width:c.width+e[1]+e[3],height:c.height+e[0]+e[2]},style:d,silent:!0,z2:-1});k.subPixelOptimizeRect(e);a.add(e)}}},function(r,n){r.exports=function(a){var m=a.findComponents({mainType:"legend"});m&&m.length&&a.filterSeries(function(a){for(var k=0;k<m.length;k++)if(!m[k].isSelected(a.name))return!1;return!0})}},function(r,n,a){a(298);a(328);a(329);a(1).registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});a(1).registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},function(r,n,a){a(1).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}})},function(r,n,a){function m(a){for(var b=a.pop();a.length;){var c=a.pop();c&&(c instanceof d&&(c=c.get("tooltip",!0)),"string"===typeof c&&(c={formatter:c}),b=new d(c,b,b.ecModel))}return b}var q=a(330),k=a(4),l=a(6);r=a(7);n=a(18);var f=a(300),e=a(71),c=a(2),d=a(12),b=a(303),g=a(101),p=a(306),h=k.bind,t=k.each,w=r.parsePercent,z=new n.Rect({shape:{x:-1,y:-1,width:2,height:2}});a(1).extendComponentView({type:"tooltip",init:function(a,b){c.node||(this._tooltipContent=new q(b.getDom(),b))},render:function(a,b,d){c.node||(this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=d,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent"),b=this._tooltipContent,b.update(),b.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");b.register("itemTooltip",this._api,h(function(b,c,d){"none"!==a&&(0<=a.indexOf(b)?this._tryShow(c,d):"leave"===b&&this._hide(d))},this))},_keepShow:function(){var a=this._tooltipModel,b=this._ecModel,c=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==a.get("triggerOn")){var d=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){d.manuallyShowTip(a,b,c,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(a,b,d,e){if(e.from!==this.uid&&!c.node){var g=e.dispatchAction||k.bind(d.dispatchAction,d);this._ticket="";var h=e.dataByCoordSys;e.tooltip&&null!=e.x&&null!=e.y?(z.position=[e.x,e.y],z.update(),z.tooltip=e.tooltip,this._tryShow({offsetX:e.x,offsetY:e.y,target:z},g)):h?this._tryShow({offsetX:e.x,offsetY:e.y,position:e.position,event:{},dataByCoordSys:e.dataByCoordSys,tooltipOption:e.tooltipOption},g):null!=e.seriesIndex?this._manuallyAxisShowTip(a,b,d,e)||(a=f(e,b),b=a.point[0],d=a.point[1],null!=b&&null!=d&&this._tryShow({offsetX:b,offsetY:d,position:e.position,target:a.el,event:{}},g)):null!=e.x&&null!=e.y&&(d.dispatchAction({type:"updateAxisPointer",x:e.x,y:e.y}),this._tryShow({offsetX:e.x,offsetY:e.y,position:e.position,target:d.getZr().findHover(e.x,e.y).target,event:{}},g))}},manuallyHideTip:function(a,b,c,d){a=this._tooltipContent;this._alwaysShowContent||a.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;d.from!==this.uid&&this._hide(d.dispatchAction||k.bind(c.dispatchAction,c))},_manuallyAxisShowTip:function(a,b,c,d){var e=d.seriesIndex,g=d.dataIndex,h=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=g&&null!=h&&(b=b.getSeriesByIndex(e))&&(h=b.getData(),a=m([h.getItemModel(g),b,(b.coordinateSystem||{}).model,a]),"axis"===a.get("trigger")))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:g,position:d.position}),!0},_tryShow:function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX;this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):c&&null!=c.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,c,b)):c&&c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,c,b)):(this._lastDataByCoordSys=null,this._hide(b))}},_showOrMove:function(a,b){var c=a.get("showDelay");b=k.bind(b,this);clearTimeout(this._showTimout);0<c?this._showTimout=setTimeout(b,c):b()},_showAxisTooltip:function(a,b){var c=this._ecModel,d=[b.offsetX,b.offsetY],e=[],h=[],f=m([b.tooltipOption,this._tooltipModel]);t(a,function(a){t(a.dataByAxis,function(a){var b=c.getComponent(a.axisDim+"Axis",a.axisIndex),d=a.value,f=[];if(b&&null!=d){var m=p.getValueLabel(d,b.axis,c,a.seriesDataIndices,a.valueLabelOpt);k.each(a.seriesDataIndices,function(e){var k=c.getSeriesByIndex(e.seriesIndex);e=e.dataIndexInside;var l=k&&k.getDataParams(e);l.axisDim=a.axisDim;l.axisIndex=a.axisIndex;l.axisType=a.axisType;l.axisId=a.axisId;l.axisValue=g.getAxisRawValue(b.axis,d);l.axisValueLabel=m;l&&(h.push(l),f.push(k.formatTooltip(e,!0)))});e.push((m?l.encodeHTML(m)+"\x3cbr /\x3e":"")+f.join("\x3cbr /\x3e"))}})},this);e.reverse();var e=e.join("\x3cbr /\x3e\x3cbr /\x3e"),n=b.position;this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(a)?this._updatePosition(f,n,d[0],d[1],this._tooltipContent,h):this._showTooltipContent(f,e,h,Math.random(),d[0],d[1],n)})},_showSeriesItemTooltip:function(a,b,c){var d=b.seriesIndex,e=this._ecModel.getSeriesByIndex(d),g=b.dataModel||e,h=b.dataIndex;b=b.dataType;var f=g.getData(),k=m([f.getItemModel(h),g,e&&(e.coordinateSystem||{}).model,this._tooltipModel]),e=k.get("trigger");if(null==e||"item"===e){var l=g.getDataParams(h,b),p=g.formatTooltip(h,!1,b),t="item_"+g.name+"_"+h;this._showOrMove(k,function(){this._showTooltipContent(k,p,l,t,a.offsetX,a.offsetY,a.position,a.target)});c({type:"showTip",dataIndexInside:h,dataIndex:f.getRawIndex(h),seriesIndex:d,from:this.uid})}},_showComponentItemTooltip:function(a,b,c){var e=b.tooltip;"string"===typeof e&&(e={content:e,formatter:e});var g=new d(e,this._tooltipModel,this._ecModel),h=g.get("content"),f=Math.random();this._showOrMove(g,function(){this._showTooltipContent(g,h,g.get("formatterParams")||{},f,a.offsetX,a.offsetY,a.position,b)});c({type:"showTip",from:this.uid})},_showTooltipContent:function(a,b,c,d,e,g,f,k){this._ticket="";if(a.get("showContent")&&a.get("show")){var p=this._tooltipContent,m=a.get("formatter");f=f||a.get("position");m&&"string"===typeof m?b=l.formatTpl(m,c,!0):"function"===typeof m&&(b=h(function(b,d){b===this._ticket&&(p.setContent(d),this._updatePosition(a,f,e,g,p,c,k))},this),this._ticket=d,b=m(c,d,b));p.setContent(b);p.show(a);this._updatePosition(a,f,e,g,p,c,k)}},_updatePosition:function(a,b,c,d,g,h,f){var l=this._api.getWidth(),p=this._api.getHeight();b=b||a.get("position");var m=g.getSize(),t=a.get("align"),n=a.get("verticalAlign"),q=f&&f.getBoundingRect().clone();f&&q.applyTransform(f.transform);"function"===typeof b&&(b=b([c,d],h,g.el,q,{viewSize:[l,p],contentSize:m.slice()}));if(k.isArray(b))c=w(b[0],l),d=w(b[1],p);else if(k.isObject(b))b.width=m[0],b.height=m[1],t=e.getLayoutRect(b,{width:l,height:p}),c=t.x,d=t.y,n=t=null;else{if("string"===typeof b&&f){c=m[0];d=m[1];f=h=0;var u=q.width,r=q.height;switch(b){case "inside":h=q.x+u/2-c/2;f=q.y+r/2-d/2;break;case "top":h=q.x+u/2-c/2;f=q.y-d-5;break;case "bottom":h=q.x+u/2-c/2;f=q.y+r+5;break;case "left":h=q.x-c-5;f=q.y+r/2-d/2;break;case "right":h=q.x+u+5,f=q.y+r/2-d/2}b=[h,f]}else b=c,q=d,f=g.el,c=t?null:20,d=n?null:20,h=f.clientWidth,f=f.clientHeight,null!=c&&(b=b+h+c>l?b-(h+c):b+c),null!=d&&(q=q+f+d>p?q-(f+d):q+d),b=[b,q];c=b[0];d=b[1]}t&&(c-="center"===t||"middle"===t?m[0]/2:"right"===t?m[0]:0);n&&(d-="center"===n||"middle"===n?m[1]/2:"bottom"===n?m[1]:0);a.get("confine")&&(m=g.el,a=m.clientWidth,m=m.clientHeight,l=Math.min(c+a,l)-a,p=Math.min(d+m,p)-m,l=Math.max(l,0),p=Math.max(p,0),b=[l,p],c=b[0],d=b[1]);g.moveTo(c,d)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;c&&t(b,function(b,d){var e=b.dataByAxis||{},g=(a[d]||{}).dataByAxis||[];(c&=e.length===g.length)&&t(e,function(a,b){var d=g[b]||{},e=a.seriesDataIndices||[],h=d.seriesDataIndices||[];(c&=a.value===d.value&&a.axisType===d.axisType&&a.axisId===d.axisId&&e.length===h.length)&&t(e,function(a,b){var d=h[b];c&=a.seriesIndex===d.seriesIndex&&a.dataIndex===d.dataIndex})})});this._lastDataByCoordSys=a;return!!c},_hide:function(a){this._lastDataByCoordSys=null;a({type:"hideTip",from:this.uid})},dispose:function(a,d){c.node||(this._tooltipContent.hide(),b.unregister("itemTooltip",d))}})},function(r,n,a){function m(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return f.map(h,function(a){return a+"transition:"+b}).join(";")}function q(a){var c=[],d=a.get("fontSize"),e=a.getTextColor();e&&c.push("color:"+e);c.push("font:"+a.getFont());d&&c.push("line-height:"+Math.round(3*d/2)+"px");b(["decoration","align"],function(b){var d=a.get(b);d&&c.push("text-"+b+":"+d)});return c.join(";")}function k(a){var c=[],h=a.get("transitionDuration"),f=a.get("backgroundColor"),k=a.getModel("textStyle"),l=a.get("padding");h&&c.push(m(h));f&&(p.canvasSupported?c.push("background-Color:"+f):(c.push("background-Color:#"+e.toHex(f)),c.push("filter:alpha(opacity\x3d70)")));b(["width","color","radius"],function(b){var d="border-"+b,e=g(d),e=a.get(e);null!=e&&c.push(d+":"+e+("color"===b?"":"px"))});c.push(q(k));null!=l&&c.push("padding:"+d.normalizeCssArray(l).join("px ")+"px");return c.join(";")+";"}function l(a,b){var d=document.createElement("div"),e=this._zr=b.getZr();this.el=d;this._x=b.getWidth()/2;this._y=b.getHeight()/2;a.appendChild(d);this._container=a;this._show=!1;var g=this;d.onmouseenter=function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0);g._inContent=!0};d.onmousemove=function(b){b=b||window.event;if(!g._enterable){var d=e.handler;c.normalizeEvent(a,b,!0);d.dispatch("mousemove",b)}};d.onmouseleave=function(){g._enterable&&g._show&&g.hideLater(g._hideDelay);g._inContent=!1}}var f=a(4),e=a(31),c=a(88),d=a(6),b=f.each,g=d.toCamelCase,p=a(2),h=["","-webkit-","-moz-","-o-"];l.prototype={constructor:l,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),a=a.style;"absolute"!==a.position&&"absolute"!==b.position&&(a.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+k(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||"");b.style.display=b.innerHTML?"block":"none";this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c=this._zr,d;c&&c.painter&&(d=c.painter.getViewportRoot())&&(a+=d.offsetLeft||0,b+=d.offsetTop||0);c=this.el.style;c.left=a+"px";c.top=b+"px";this._x=a;this._y=b},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(f.bind(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};r.exports=l},function(r,n,a){r=a(4);a(332);a(338);a(340);a(298);a(342);a(1).registerLayout(r.curry(a(343),"bar"));a(1).extendComponentView({type:"polar"})},function(r,n,a){function m(a,c){var b=a.get("center"),d=a.get("radius"),e=c.getWidth(),g=c.getHeight(),k=f.parsePercent;this.cx=k(b[0],e);this.cy=k(b[1],g);this.getRadiusAxis().setExtent(0,k(d,Math.min(e,g)/2))}function q(a,c){var b=this,e=b.getAngleAxis(),g=b.getRadiusAxis();e.scale.setExtent(Infinity,-Infinity);g.scale.setExtent(Infinity,-Infinity);a.eachSeries(function(a){a.coordinateSystem===b&&(a=a.getData(),g.scale.unionExtentFromData(a,"radius"),e.scale.unionExtentFromData(a,"angle"))});d(e.scale,e.model);d(g.scale,g.model);if("category"===e.type&&!e.onBand){var f=e.getExtent(),k=360/e.scale.count();e.inverse?f[1]+=k:f[1]-=k;e.setExtent(f[0],f[1])}}function k(a,d){a.type=d.get("type");a.scale=c.createScaleByModel(d);a.onBand=d.get("boundaryGap")&&"category"===a.type;if("angleAxis"===d.mainType){var b=d.get("startAngle");a.inverse=d.get("inverse")^d.get("clockwise");a.setExtent(b,b+(a.inverse?-360:360))}d.axis=a;a.model=d}var l=a(333),f=a(7),e=a(4),c=a(101),d=c.niceScaleExtent;a(336);r={dimensions:l.prototype.dimensions,create:function(a,c){var b=[];a.eachComponent("polar",function(a,d){var e=new l(d);e.resize=m;e.update=q;var g=e.getRadiusAxis(),h=e.getAngleAxis(),f=a.findAxisModel("radiusAxis"),p=a.findAxisModel("angleAxis");k(g,f);k(h,p);e.resize(a,c);b.push(e);a.coordinateSystem=e;e.model=a});a.eachSeries(function(b){if("polar"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0];if(!c)throw Error('Polar "'+e.retrieve(b.get("polarIndex"),b.get("polarId"),0)+'" not found');b.coordinateSystem=c.coordinateSystem}});return b}};a(76).register("polar",r)},function(r,n,a){var m=a(334),q=a(335);n=function(a){this.name=a||"";this.cy=this.cx=0;this._radiusAxis=new m;this._angleAxis=new q;this._radiusAxis.polar=this._angleAxis.polar=this};n.prototype={type:"polar",axisPointerEnabled:!0,constructor:n,dimensions:["radius","angle"],model:null,containPoint:function(a){a=this.pointToCoord(a);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(a){var k=[],f=this._angleAxis,e=this._radiusAxis;f.scale.type===a&&k.push(f);e.scale.type===a&&k.push(e);return k},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var k=this._angleAxis;return a===k?this._radiusAxis:k},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){a=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[a],otherAxes:[this.getOtherAxis(a)]}},dataToPoints:function(a){return a.mapArray(this.dimensions,function(a,f){return this.dataToPoint([a,f])},!0,this)},dataToPoint:function(a,l){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],l),this._angleAxis.dataToAngle(a[1],l)])},pointToData:function(a,l){var f=this.pointToCoord(a);return[this._radiusAxis.radiusToData(f[0],l),this._angleAxis.angleToData(f[1],l)]},pointToCoord:function(a){var k=a[0]-this.cx,f=a[1]-this.cy,e=this.getAngleAxis(),c=e.getExtent();a=Math.min(c[0],c[1]);c=Math.max(c[0],c[1]);e.inverse?a=c-360:c=a+360;e=Math.sqrt(k*k+f*f);k=Math.atan2(-(f/e),k/e)/Math.PI*180;for(f=k<a?1:-1;k<a||k>c;)k+=360*f;return[e,k]},coordToPoint:function(a){var k=a[0];a=a[1]/180*Math.PI;return[Math.cos(a)*k+this.cx,-Math.sin(a)*k+this.cy]}};r.exports=n},function(r,n,a){function m(a,l){q.call(this,"radius",a,l);this.type="category"}n=a(4);var q=a(100);m.prototype={constructor:m,pointToData:function(a,l){return this.polar.pointToData(a,l)["radius"===this.dim?0:1]},dataToRadius:q.prototype.dataToCoord,radiusToData:q.prototype.coordToData};n.inherits(m,q);r.exports=m},function(r,n,a){function m(a,l){l=l||[0,360];q.call(this,"angle",a,l);this.type="category"}n=a(4);var q=a(100);m.prototype={constructor:m,pointToData:function(a,l){return this.polar.pointToData(a,l)["radius"===this.dim?0:1]},dataToAngle:q.prototype.dataToCoord,angleToData:q.prototype.coordToData};n.inherits(m,q);r.exports=m},function(r,n,a){a(337);a(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var m;this.ecModel.eachComponent(a,function(a){a.getCoordSysModel()===this&&(m=a)},this);return m},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(r,n,a){function m(a,l){return l.type||(l.data?"category":"value")}r=a(4);var q=a(69);n=a(131);q=q.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});r.merge(q.prototype,a(112));n("angle",q,m,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}});n("radius",q,m,{splitNumber:5})},function(r,n,a){a(332);a(339)},function(r,n,a){function m(a,c,d,b){c=a.coordToPoint([c,b]);a=a.coordToPoint([d,b]);return{x1:c[0],y1:c[1],x2:a[0],y2:a[1]}}var q=a(4),k=a(18),l=a(12),f=["axisLine","axisLabel","axisTick","splitLine","splitArea"];a(136).extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(a,c){this.group.removeAll();if(a.get("show")){var d=a.axis,b=d.polar,e=b.getRadiusAxis().getExtent(),k=d.getTicksCoords();"category"!==d.type&&k.pop();q.each(f,function(c){if(a.get(c+".show")&&(!d.scale.isBlank()||"axisLine"===c))this["_"+c](a,b,k,e)},this)}},_axisLine:function(a,c,d,b){a=a.getModel("axisLine.lineStyle");c=new k.Circle({shape:{cx:c.cx,cy:c.cy,r:b[1]},style:a.getLineStyle(),z2:1,silent:!0});c.style.fill=null;this.group.add(c)},_axisTick:function(a,c,d,b){var e=a.getModel("axisTick"),f=(e.get("inside")?-1:1)*e.get("length");d=q.map(d,function(a){return new k.Line({shape:m(c,b[1],b[1]+f,a)})});this.group.add(k.mergePath(d,{style:q.defaults(e.getModel("lineStyle").getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")})}))},_axisLabel:function(a,c,d,b){for(var e=a.axis,f=a.get("data"),h=a.getModel("axisLabel"),m=h.getModel("textStyle"),n=a.getFormattedLabels(),h=h.get("margin"),e=e.getLabelsCoords(),q=0;q<d.length;q++){var r=b[1],u=c.coordToPoint([r+h,e[q]]),x=c.cx,y=c.cy,x=.3>Math.abs(u[0]-x)/r?"center":u[0]>x?"left":"right",r=.3>Math.abs(u[1]-y)/r?"middle":u[1]>y?"top":"bottom",y=m;f&&f[q]&&f[q].textStyle&&(y=new l(f[q].textStyle,m));this.group.add(new k.Text({style:{x:u[0],y:u[1],fill:y.getTextColor()||a.get("axisLine.lineStyle.color"),text:n[q],textAlign:x,textVerticalAlign:r,textFont:y.getFont()},silent:!0}))}},_splitLine:function(a,c,d,b){for(var e=a.getModel("splitLine").getModel("lineStyle"),f=e.get("color"),h=0,f=f instanceof Array?f:[f],l=[],n=0;n<d.length;n++){var r=h++%f.length;l[r]=l[r]||[];l[r].push(new k.Line({shape:m(c,b[0],b[1],d[n])}))}for(n=0;n<l.length;n++)this.group.add(k.mergePath(l[n],{style:q.defaults({stroke:f[n%f.length]},e.getLineStyle()),silent:!0,z:a.get("z")}))},_splitArea:function(a,c,d,b){var e=a.getModel("splitArea").getModel("areaStyle"),f=e.get("color"),h=0,f=f instanceof Array?f:[f],l=[],m=Math.PI/180,n=-d[0]*m,r=Math.min(b[0],b[1]);b=Math.max(b[0],b[1]);a=a.get("clockwise");for(var u=1;u<d.length;u++){var x=h++%f.length;l[x]=l[x]||[];l[x].push(new k.Sector({shape:{cx:c.cx,cy:c.cy,r0:r,r:b,startAngle:n,endAngle:-d[u]*m,clockwise:a},silent:!0}));n=-d[u]*m}for(u=0;u<l.length;u++)this.group.add(k.mergePath(l[u],{style:q.defaults({fill:f[u%f.length]},e.getAreaStyle()),silent:!0}))}})},function(r,n,a){a(332);a(341)},function(r,n,a){var m=a(4),q=a(18),k=a(135),l=["axisLine","axisLabel","axisTick","axisName"],f=["splitLine","splitArea"];a(136).extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(a,c){this.group.removeAll();if(a.get("show")){var d=a.axis,b=d.polar,e=b.getAngleAxis(),p=d.getTicksCoords(),h=e.getExtent()[0],n=d.getExtent(),e={position:[b.cx,b.cy],rotation:h/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:a.getModel("axisLabel").get("rotate"),z2:1},e=new k(a,e);m.each(l,e.add,e);this.group.add(e.getGroup());m.each(f,function(c){if(a.get(c+".show")&&!d.scale.isBlank())this["_"+c](a,b,h,n,p)},this)}},_splitLine:function(a,c,d,b,g){a=a.getModel("splitLine").getModel("lineStyle");d=a.get("color");b=0;d=d instanceof Array?d:[d];for(var e=[],h=0;h<g.length;h++){var f=b++%d.length;e[f]=e[f]||[];e[f].push(new q.Circle({shape:{cx:c.cx,cy:c.cy,r:g[h]},silent:!0}))}for(h=0;h<e.length;h++)this.group.add(q.mergePath(e[h],{style:m.defaults({stroke:d[h%d.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(a,c,d,b,g){a=a.getModel("splitArea").getModel("areaStyle");d=a.get("color");b=0;d=d instanceof Array?d:[d];for(var e=[],h=g[0],f=1;f<g.length;f++){var k=b++%d.length;e[k]=e[k]||[];e[k].push(new q.Sector({shape:{cx:c.cx,cy:c.cy,r0:h,r:g[f],startAngle:0,endAngle:2*Math.PI},silent:!0}));h=g[f]}for(f=0;f<e.length;f++)this.group.add(q.mergePath(e[f],{style:m.defaults({fill:d[f%d.length]},a.getAreaStyle()),silent:!0}))}})},function(r,n,a){var m=a(6);n=a(305);var q=a(18),k=a(306),l=a(11),f=a(135);a=a(136);n=n.extend({makeElOption:function(a,d,b,g,p){var c=b.axis;"angle"===c.dim&&(this.animationThreshold=Math.PI/18);var n=c.polar,r=n.getOtherAxis(c).getExtent(),z;z=c["dataTo"+m.capitalFirst(c.dim)](d);var v=g.get("type");if(v&&"none"!==v){var u=k.buildElStyle(g),c=e[v](c,n,z,r,u);c.style=u;a.graphicKey=c.type;a.pointer=c}u=g.get("label.margin");r=b.axis;d=r.dataToCoord(d);c=n.getAngleAxis().getExtent()[0];c=c/180*Math.PI;z=n.getRadiusAxis().getExtent();"radius"===r.dim?(r=l.create(),l.rotate(r,r,c),l.translate(r,r,[n.cx,n.cy]),d=q.applyTransform([d,-u],r),n=b.getModel("axisLabel").get("rotate")||0,u=f.innerTextLayout(c,n*Math.PI/180,-1),n=u.textAlign,u=u.textVerticalAlign):(c=z[1],d=n.coordToPoint([c+u,d]),u=n.cx,r=n.cy,n=.3>Math.abs(d[0]-u)/c?"center":d[0]>u?"left":"right",u=.3>Math.abs(d[1]-r)/c?"middle":d[1]>r?"top":"bottom");k.buildLabelElOption(a,b,g,p,{position:d,align:n,verticalAlign:u})}});var e={line:function(a,d,b,e,f){return"angle"===a.dim?{type:"Line",shape:k.makeLineShape(d.coordToPoint([e[0],b]),d.coordToPoint([e[1],b]))}:{type:"Circle",shape:{cx:d.cx,cy:d.cy,r:b}}},shadow:function(a,d,b,e,f){f=a.getBandWidth();var c=Math.PI/180;return"angle"===a.dim?{type:"Sector",shape:k.makeSectorShape(d.cx,d.cy,e[0],e[1],(-b-f/2)*c,(-b+f/2)*c)}:{type:"Sector",shape:k.makeSectorShape(d.cx,d.cy,b-f/2,b+f/2,0,2*Math.PI)}}};a.registerAxisPointerClass("PolarAxisPointer",n);r.exports=n},function(r,n,a){function m(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function q(a,e){var c={};k.each(a,function(a,d){var b=a.getData(),e=a.coordinateSystem.getBaseAxis(),g=e.getExtent(),f="category"===e.type?e.getBandWidth():Math.abs(g[1]-g[0])/b.count(),b=c[e.dim]||{bandWidth:f,remainedWidth:f,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},g=b.stacks;c[e.dim]=b;e=m(a);g[e]||b.autoWidthCount++;g[e]=g[e]||{width:0,maxWidth:0};var k=l(a.get("barWidth"),f),f=l(a.get("barMaxWidth"),f),n=a.get("barGap"),q=a.get("barCategoryGap");k&&!g[e].width&&(k=Math.min(b.remainedWidth,k),g[e].width=k,b.remainedWidth-=k);f&&(g[e].maxWidth=f);null!=n&&(b.gap=n);null!=q&&(b.categoryGap=q)});var d={};k.each(c,function(a,c){d[c]={};var b=a.stacks,e=l(a.categoryGap,a.bandWidth),g=l(a.gap,1),f=a.remainedWidth,m=a.autoWidthCount,n=(f-e)/(m+(m-1)*g),n=Math.max(n,0);k.each(b,function(a,b){var c=a.maxWidth;c&&c<n&&(c=Math.min(c,f),a.width&&(c=Math.min(c,a.width)),f-=c,a.width=c,m--)});var n=(f-e)/(m+(m-1)*g),n=Math.max(n,0),q=0,r;k.each(b,function(a,b){a.width||(a.width=n);r=a;q+=a.width*(1+g)});r&&(q-=r.width*g);var y=-q/2;k.each(b,function(a,b){d[c][b]=d[c][b]||{offset:y,width:a.width};y+=a.width*(1+g)})});return d}var k=a(4),l=a(7).parsePercent;r.exports=function(a,e,c){var d=c.getWidth(),b=c.getHeight(),g={},f={},h=q(k.filter(e.getSeriesByType(a),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));e.eachSeriesByType(a,function(a){if("polar"===a.coordinateSystem.type){var c=a.getData(),e=a.coordinateSystem,k=e.getAngleAxis(),p=e.getBaseAxis(),n=m(a),q=h[p.dim][n],t=q.offset,r=q.width,C=e.getOtherAxis(p),p=a.get("center")||["50%","50%"],B=l(p[0],d),L=l(p[1],b),E=a.get("barMinHeight")||0,M=a.get("barMinAngle")||0,N=C.getExtent()[0],F=C.model.get("max"),J=C.model.get("min"),H=e.dataToPoints(c);g[n]=g[n]||[];f[n]=f[n]||[];c.each(C.dim,function(a,b){if(!isNaN(a)){g[n][b]||(g[n][b]={p:N,n:N},f[n][b]={p:N,n:N});var d=0<=a?"p":"n",h=e.pointToCoord(H[b]),l=f[n][b][d],m,p;if("radius"===C.dim)m=l,p=h[0],l=(-h[1]+t)*Math.PI/180,h=l+r*Math.PI/180,Math.abs(p)<E&&(p=m+(0>p?-1:1)*E),f[n][b][d]=p;else{m=h[0]+t;p=m+r;null!=F&&(a=Math.min(a,F));null!=J&&(a=Math.max(a,J));var q=k.dataToAngle(a);Math.abs(q-l)<M&&(q=l-(0>a?-1:1)*M);var l=-l*Math.PI/180,h=-q*Math.PI/180,u=k.getExtent();q===u[0]&&0<a?q=u[1]:q===u[1]&&0>a&&(q=u[0]);f[n][b][d]=q}c.setItemLayout(b,{cx:B,cy:L,r0:m,r:p,startAngle:l,endAngle:h})}},!0)}},this)}},function(r,n,a){function m(a,f){f.update="updateView";q.registerAction(f,function(e,c){var d={};c.eachComponent({mainType:"geo",query:e},function(b){b[a](e.name);k.each(b.coordinateSystem.regions,function(a){d[a.name]=b.isSelected(a.name)||!1})});return{selected:d,name:e.name}})}a(345);a(171);a(346);a(187);var q=a(1),k=a(4);m("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});m("select",{type:"geoSelect",event:"geoselected"});m("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(r,n,a){var m=a(5),q=a(69),k=a(12),l=a(4);n=a(148);var f=a(171);a=q.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){q.prototype.init.apply(this,arguments);m.defaultEmphasis(a.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var a=this.option,c=this;a.regions=f.getFilledRegions(a.regions,a.map);this._optionModelMap=l.reduce(a.regions||[],function(a,b){b.name&&a.set(b.name,new k(b,c));return a},l.createHashMap());this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new k(null,this,this.ecModel)},getFormattedLabel:function(a,c){var d=this.getRegionModel(a).get("label."+c+".formatter"),b={name:a};if("function"===typeof d)return b.status=c,d(b);if("string"===typeof d)return b=b.seriesName,d.replace("{a}",null!=b?b:"")},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});l.mixin(a,n);r.exports=a},function(r,n,a){var m=a(182);r.exports=a(1).extendComponentView({type:"geo",init:function(a,k){var l=new m(k,!0);this._mapDraw=l;this.group.add(l.group)},render:function(a,k,l,f){if(!f||"geoToggleSelect"!==f.type||f.from!==this.uid){var e=this._mapDraw;a.get("show")?e.draw(a,k,l,this,f):this._mapDraw.group.removeAll();this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}})},function(r,n,a){a(1).registerPreprocessor(a(348));a(349);a(353);a(354);a(355);a(356)},function(r,n,a){function m(a){var f={};q.each(a,function(a){f[a]=1});a.length=0;q.each(f,function(e,c){a.push(c)})}var q=a(4),k=["rect","polygon","keep","clear"];r.exports=function(a,f){var e=a&&a.brush;q.isArray(e)||(e=e?[e]:[]);if(e.length){var c=[];q.each(e,function(a){a=a.hasOwnProperty("toolbox")?a.toolbox:[];a instanceof Array&&(c=c.concat(a))});e=a&&a.toolbox;q.isArray(e)&&(e=e[0]);e||(e={feature:{}},a.toolbox=[e]);e=e.feature||(e.feature={});e=e.brush||(e.brush={});e=e.type||(e.type=[]);e.push.apply(e,c);m(e);f&&!e.length&&e.push.apply(e,k)}}},function(r,n,a){function m(a,b,c,d,e){e&&(e=a.getZr(),e.__ecInBrushSelectEvent||(e.__ecBrushSelect||(e.__ecBrushSelect=q),h.createOrUpdate(e,"__ecBrushSelect",c,b)(a,d)))}function q(a,b){if(!a.isDisposed()){var c=a.getZr();c.__ecInBrushSelectEvent=!0;a.dispatchAction({type:"brushSelect",batch:b});c.__ecInBrushSelectEvent=!1}}function k(a,b,c,d){for(var e=0,g=b.length;e<g;e++){var f=b[e];if(a[f.brushType](d,c,f.selectors,f))return!0}}function l(a){var c=a.brushSelector;if(b.isString(c)){var d=[];b.each(p,function(a,b){d[b]=function(b,d,e,g){b=d.getItemLayout(b);return a[c](b,e,g)}});return d}if(b.isFunction(c)){var e={};b.each(p,function(a,b){e[b]=c});return e}return c}function f(a,c){var d=a.option.seriesIndex;return null!=d&&"all"!==d&&(b.isArray(d)?0>b.indexOf(d,c):c!==d)}function e(a){var c=a.selectors={};b.each(p[a.brushType],function(b,d){c[d]=function(d){return b(d,c,a)}});return a}function c(a){return new g(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}r=a(1);var d=a(350),b=a(4),g=a(9),p=a(351),h=a(81),t=a(352),w=["inBrush","outOfBrush"];a=r.PRIORITY.VISUAL.BRUSH;r.registerLayout(a,function(a,b,c){a.eachComponent({mainType:"brush"},function(b){c&&"takeGlobalCursor"===c.type&&b.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1});(b.brushTargetManager=new t(b.option,a)).setInputRanges(b.areas,a)})});r.registerVisual(a,function(a,c,g){var h=[],p,n;a.eachComponent({mainType:"brush"},function(c,g){function m(a){return"all"===v||x[a]}function q(a,b){var c=a.coordinateSystem;D|=c.hasAxisBrushed();m(b)&&c.eachActiveState(a.getData(),function(a,b){"active"===a&&(y[b]=1)})}function t(d,e,g){var h=l(d);if(h&&!f(c,e)&&(b.each(C,function(b){h[b.brushType]&&c.brushTargetManager.controlSeries(b,d,a)&&g.push(b);D|=!!g.length}),m(e)&&g.length)){var p=d.getData();p.each(function(a){k(h,g,p,a)&&(y[a]=1)})}}var u={brushId:c.id,brushIndex:g,brushName:c.name,areas:b.clone(c.areas),selected:[]};h.push(u);var r=c.option,v=r.brushLink,x=[],y=[],A=[],D=0;g||(p=r.throttleType,n=r.throttleDelay);var C=b.map(c.areas,function(a){return e(b.defaults({boundingRect:z[a.brushType](a)},a))}),B=d.createVisualMappings(c.option,w,function(a){a.mappingMethod="fixed"});b.isArray(v)&&b.each(v,function(a){x[a]=1});a.eachSeries(function(a,b){var c=A[b]=[];"parallel"===a.subType?q(a,b,c):t(a,b,c)});a.eachSeries(function(a,b){var c={seriesId:a.id,seriesIndex:b,seriesName:a.name,dataIndex:[]};u.selected.push(c);var e=l(a),g=A[b],f=a.getData(),h=m(b)?function(a){return y[a]?(c.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(a){return k(e,g,f,a)?(c.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"};(m(b)?D:g.length)&&d.applyVisual(w,B,f,h)})});m(c,p,n,h,g)});var z={lineX:b.noop,lineY:b.noop,rect:function(a){return c(a.range)},polygon:function(a){var b;a=a.range;for(var d=0,e=a.length;d<e;d++){b=b||[[Infinity,-Infinity],[Infinity,-Infinity]];var g=a[d];g[0]<b[0][0]&&(b[0][0]=g[0]);g[0]>b[0][1]&&(b[0][1]=g[0]);g[1]<b[1][0]&&(b[1][0]=g[1]);g[1]>b[1][1]&&(b[1][1]=g[1])}return b&&c(b)}}},function(r,n,a){function m(a){if(a)for(var e in a)if(a.hasOwnProperty(e))return!0}var q=a(4),k=a(203),l=q.each;r.exports={createVisualMappings:function(a,e,c){function d(){var a=function(){};a.prototype.__hidden=a.prototype;return new a}var b={};l(e,function(e){var g=b[e]=d();l(a[e],function(a,b){if(k.isValidType(b)){var d={type:b,visual:a};c&&c(d,e);g[b]=new k(d);"opacity"===b&&(d=q.clone(d),d.type="colorAlpha",g.__hidden.__alphaForOpacity=new k(d))}})});return b},replaceVisualOption:function(a,e,c){var d;q.each(c,function(a){e.hasOwnProperty(a)&&m(e[a])&&(d=!0)});d&&q.each(c,function(b){e.hasOwnProperty(b)&&m(e[b])?a[b]=q.clone(e[b]):delete a[b]})},applyVisual:function(a,e,c,d,b,g){function f(a){return c.getItemVisual(n,a)}function h(a,b){c.setItemVisual(n,a,b)}function l(a,k){n=null==g?a:k;var l=c.getRawDataItem(n);if(!l||!1!==l.visualMap)for(var p=d.call(b,a),l=e[p],p=m[p],q=0,t=p.length;q<t;q++){var u=p[q];l[u]&&l[u].applyVisual(a,f,h)}}var m={};q.each(a,function(a){var b=k.prepareVisualTypes(e[a]);m[a]=b});var n;null==g?c.each(l,!0):c.each([g],l,!0)}}},function(r,n,a){function m(a){var c=["x","y"],d=["width","height"];return{point:function(b,c,d){return q(b[a],d.range)},rect:function(b,e,f){e=f.range;b=[b[c[a]],b[c[a]]+b[d[a]]];b[1]<b[0]&&b.reverse();return q(b[0],e)||q(b[1],e)||q(e[0],b)||q(e[1],b)}}}function q(a,c){return c[0]<=a&&a<=c[1]}function k(a,c,d,b,g){for(var e=0,f=g[g.length-1];e<g.length;e++){var k=g[e],l;l=a;var m=c,n=d,q=b,r=k[0],y=k[1],D=f[0],A=f[1],f=(n-l)*(y-A)-(r-D)*(q-m);1E-6>=f&&-1E-6<=f?l=!1:(D=((r-l)*(y-A)-(r-D)*(y-m))/f,0>D||1<D?l=!1:(l=((n-l)*(y-m)-(r-l)*(q-m))/f,l=0>l||1<l?!1:!0));if(l)return!0;f=k}}var l=a(175).contain,f=a(9);n={lineX:m(0),lineY:m(1),rect:{point:function(a,c,d){return d.boundingRect.contain(a[0],a[1])},rect:function(a,c,d){return d.boundingRect.intersect(a)}},polygon:{point:function(a,c,d){return d.boundingRect.contain(a[0],a[1])&&l(d.range,a[0],a[1])},rect:function(a,c,d){c=d.range;if(1>=c.length)return!1;d=a.x;var b=a.y,e=a.width,m=a.height,h=c[0];if(l(c,d,b)||l(c,d+e,b)||l(c,d,b+m)||l(c,d+e,b+m)||f.create(a).contain(h[0],h[1])||k(d,b,d+e,b,c)||k(d,b,d,b+m,c)||k(d+e,b,d+e,b+m,c)||k(d,b+m,d+e,b+m,c))return!0}}};r.exports=n},function(r,n,a){function m(a,c,d){var e=this._targetInfoList=[],g={},f=b.parseFinder(c,a,{includeMainTypes:w});p(z,function(a,b){(!d||!d.include||0<=h(d.include,b))&&a(f,e,g)})}function q(a){a[0]>a[1]&&a.reverse();return a}function k(a,b,d,e){c.assert("cartesian2d"===d.type,"lineX/lineY brush is available only in cartesian2d.");var g=d.getAxis(["x","y"][a]);d=q(c.map([0,1],function(a){return b?g.coordToData(g.toLocalCoord(e[a])):g.toGlobalCoord(g.dataToCoord(e[a]))}));var f=[];f[a]=d;f[1-a]=[NaN,NaN];return{values:d,xyMinMax:f}}function l(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function f(a,b){var c=e(a),d=e(b),c=[c[0]/d[0],c[1]/d[1]];isNaN(c[0])&&(c[0]=1);isNaN(c[1])&&(c[1]=1);return c}function e(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var c=a(4),d=a(18),b=a(5),g=a(246),p=c.each,h=c.indexOf;n=c.curry;var t=["dataToPoint","pointToData"],w="grid xAxis yAxis geo graph polar radiusAxis angleAxis bmap".split(" ");a=m.prototype;a.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(a,b,c){(a.coordRanges||(a.coordRanges=[])).push(b);a.coordRange||(a.coordRange=b,b=x[a.brushType](0,c,b),a.__rangeOffset={offset:y[a.brushType](b.values,a.range,[1,1]),xyMinMax:b.xyMinMax})})};a.matchOutputRanges=function(a,b,d){p(a,function(a){var e=this.findTargetInfo(a,b);e&&!0!==e&&c.each(e.coordSyses,function(c){var e=x[a.brushType](1,c,a.range);d(a,e.values,c,b)})},this)};a.setInputRanges=function(a,b){p(a,function(a){var d=this.findTargetInfo(a,b);c.assert(!d||!0===d||a.coordRange,"coordRange must be specified when coord index specified.");c.assert(!d||!0!==d||a.range,"range must be specified in global brush.");a.range=a.range||[];if(d&&!0!==d){a.panelId=d.panelId;var d=x[a.brushType](0,d.coordSys,a.coordRange),e=a.__rangeOffset;a.range=e?y[a.brushType](d.values,e.offset,f(d.xyMinMax,e.xyMinMax)):d.values}},this)};a.makePanelOpts=function(a,b){return c.map(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b&&b(c),clipPath:g.makeRectPanelClipPath(d),isTargetByCursor:g.makeRectIsTargetByCursor(d,a,c.coordSysModel),getLinearBrushOtherExtent:g.makeLinearBrushOtherExtent(d)}})};a.controlSeries=function(a,b,c){a=this.findTargetInfo(a,c);return!0===a||a&&0<=h(a.coordSyses,b.coordinateSystem)};a.findTargetInfo=function(a,c){for(var d=this._targetInfoList,e=b.parseFinder(c,a,{includeMainTypes:w}),g=0;g<d.length;g++){var f=d[g],h=a.panelId;if(h){if(f.panelId===h)return f}else for(g=0;g<v.length;g++)if(v[g](e,f))return f}return!0};var z={grid:function(a,b){var d=a.xAxisModels,e=a.yAxisModels,g=a.gridModels,f=c.createHashMap(),k={},l={};if(d||e||g)p(d,function(a){a=a.axis.grid.model;f.set(a.id,a);k[a.id]=!0}),p(e,function(a){a=a.axis.grid.model;f.set(a.id,a);l[a.id]=!0}),p(g,function(a){f.set(a.id,a);k[a.id]=!0;l[a.id]=!0}),f.each(function(a){var c=[];p(a.coordinateSystem.getCartesians(),function(a,b){(0<=h(d,a.getAxis("x").model)||0<=h(e,a.getAxis("y").model))&&c.push(a)});b.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:c[0],coordSyses:c,getPanelRect:u.grid,xAxisDeclared:k[a.id],yAxisDeclared:l[a.id]})})},geo:function(a,b){p(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:u.geo})})}},v=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel,e=a.gridModel;!e&&c&&(e=c.axis.grid.model);!e&&d&&(e=d.axis.grid.model);return e&&e===b.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],u={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();b.applyTransform(d.getTransform(a));return b}},x={lineX:n(k,0),lineY:n(k,1),rect:function(a,b,c){var d=b[t[a]]([c[0][0],c[1][0]]);a=b[t[a]]([c[0][1],c[1][1]]);d=[q([d[0],a[0]]),q([d[1],a[1]])];return{values:d,xyMinMax:d}},polygon:function(a,b,d){var e=[[Infinity,-Infinity],[Infinity,-Infinity]];return{values:c.map(d,function(c){c=b[t[a]](c);e[0][0]=Math.min(e[0][0],c[0]);e[1][0]=Math.min(e[1][0],c[1]);e[0][1]=Math.max(e[0][1],c[0]);e[1][1]=Math.max(e[1][1],c[1]);return c}),xyMinMax:e}}},y={lineX:n(l,0),lineY:n(l,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,d){return c.map(a,function(a,c){return[a[0]-d[0]*b[c][0],a[1]-d[1]*b[c][1]]})}};r.exports=m},function(r,n,a){function m(a,c){return q.merge({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:(new l(a.brushStyle)).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},c,!0)}n=a(1);var q=a(4),k=a(350),l=a(12),f=["#ddd"];a=n.extendComponentModel({type:"brush",dependencies:"geo grid xAxis yAxis parallel series".split(" "),defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1E4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,c){var d=this.option;!c&&k.replaceVisualOption(d,a,["inBrush","outOfBrush"]);d.inBrush=d.inBrush||{};d.outOfBrush=d.outOfBrush||{color:f}},setAreas:function(a){q.assert(q.isArray(a));q.each(a,function(a){q.assert(a.brushType,"Illegal areas")});a&&(this.areas=q.map(a,function(a){return m(this.option,a)},this))},setBrushOption:function(a){this.brushOption=m(this.option,a);this.brushType=this.brushOption.brushType}});r.exports=a},function(r,n,a){function m(a,f,e,c){c&&c.$from===a.id||this._brushController.setPanels(a.brushTargetManager.makePanelOpts(e)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}var q=a(4),k=a(245);n=a(1);r.exports=n.extendComponentView({type:"brush",init:function(a,f){this.ecModel=a;this.api=f;(this._brushController=new k(f.getZr())).on("brush",q.bind(this._onBrush,this)).mount()},render:function(a){this.model=a;return m.apply(this,arguments)},updateView:m,updateLayout:m,updateVisual:m,dispose:function(){this._brushController.dispose()},_onBrush:function(a,f){var e=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel);f.isEnd&&!f.removeOnClick||this.api.dispatchAction({type:"brush",brushId:e,areas:q.clone(a),$from:e})}})},function(r,n,a){r=a(1);r.registerAction({type:"brush",event:"brush",update:"updateView"},function(a,n){n.eachComponent({mainType:"brush",query:a},function(k){k.setAreas(a.areas)})});r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(r,n,a){function m(a,l,f){this.model=a;this.ecModel=l;this.api=f}n=a(357);var q=a(4);m.defaultOption={show:!0,type:"rect polygon lineX lineY keep clear".split(" "),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}};a=m.prototype;a.render=a.updateView=a.updateLayout=function(a,l,f){var e,c,d;l.eachComponent({mainType:"brush"},function(a){e=a.brushType;c=a.brushOption.brushMode||"single";d|=a.areas.length});this._brushType=e;this._brushMode=c;q.each(a.get("type",!0),function(b){a.setIconStatus(b,("keep"===b?"multiple"===c:"clear"===b?d:b===e)?"emphasis":"normal")})};a.getIcons=function(){var a=this.model,l=a.get("icon",!0),f={};q.each(a.get("type",!0),function(a){l[a]&&(f[a]=l[a])});return f};a.onclick=function(a,l,f){l=this.api;a=this._brushType;var e=this._brushMode;"clear"===f?(l.dispatchAction({type:"axisAreaSelect",intervals:[]}),l.dispatchAction({type:"brush",command:"clear",areas:[]})):l.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===f?a:a===f?!1:f,brushMode:"keep"===f?"multiple"===e?"single":"multiple":e}})};n.register("brush",m);r.exports=m},function(r,n){var a={};r.exports={register:function(m,n){a[m]=n},get:function(m){return a[m]}}},function(r,n,a){a(359);a(360);a(361)},function(r,n,a){function m(a,c,d){this._model=a}function q(a,c,d,b){c=d.calendarModel;d=d.seriesModel;d=c?c.coordinateSystem:d?d.coordinateSystem:null;return d===this?d[a](b):null}var k=a(71),l=a(7),f=a(4);m.prototype={constructor:m,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(a){a=l.parseDate(a);var c=a.getFullYear(),d=a.getMonth()+1,d=10>d?"0"+d:d,b=a.getDate(),b=10>b?"0"+b:b,e=a.getDay(),e=Math.abs((e+7-this.getFirstDayOfWeek())%7);return{y:c,m:d,d:b,day:e,time:a.getTime(),formatedDate:c+"-"+d+"-"+b,date:a}},getNextNDay:function(a,c){c=c||0;if(0===c)return this.getDateInfo(a);var d=this.getDateInfo(a).time;return this.getDateInfo(d+864E5*c)},update:function(a,c){this._firstDayOfWeek=this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var d=this._rangeInfo.weeks||1,b=["width","height"],e=this._model.get("cellSize").slice(),l=this._model.getBoxLayoutParams(),h="horizontal"===this._orient?[d,7]:[7,d];f.each([0,1],function(a){null!=e[a]&&"auto"!==e[a]&&(l[b[a]]=e[a]*h[a])});var d={width:c.getWidth(),height:c.getHeight()},m=this._rect=k.getLayoutRect(l,d);f.each([0,1],function(a){if(null==e[a]||"auto"===e[a])e[a]=m[b[a]]/h[a]});this._sw=e[0];this._sh=e[1]},dataToPoint:function(a,c){f.isArray(a)&&(a=a[0]);null==c&&(c=!0);var d=this.getDateInfo(a),b=this._rangeInfo;if(c&&!(d.time>=b.start.time&&d.time<=b.end.time))return[NaN,NaN];var e=d.day,d=this._getRangeInfo([b.start.time,d.formatedDate]).weeks;return"vertical"===this._orient?[this._rect.x+e*this._sw+this._sw/2,this._rect.y+(d-1)*this._sh+this._sh/2]:[this._rect.x+(d-1)*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]},pointToData:function(a){return(a=this.pointToDate(a))&&a.time},dataToRect:function(a,c){var d=this.dataToPoint(a,c);return{contentShape:{x:d[0]-(this._sw-this._lineWidth)/2,y:d[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:d,tl:[d[0]-this._sw/2,d[1]-this._sh/2],tr:[d[0]+this._sw/2,d[1]-this._sh/2],br:[d[0]+this._sw/2,d[1]+this._sh/2],bl:[d[0]-this._sw/2,d[1]+this._sh/2]}},pointToDate:function(a){var c=Math.floor((a[0]-this._rect.x)/this._sw)+1;a=Math.floor((a[1]-this._rect.y)/this._sh)+1;var d=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(a,c-1,d):this._getDateByWeeksAndDay(c,a-1,d)},convertToPixel:f.curry(q,"dataToPoint"),convertFromPixel:f.curry(q,"pointToData"),_initRangeOption:function(){var a=this._model.get("range"),c=a;f.isArray(c)&&1===c.length&&(c=c[0]);/^\d{4}$/.test(c)&&(a=[c+"-01-01",c+"-12-31"]);if(/^\d{4}[\/|-]\d{1,2}$/.test(c)){var a=this.getDateInfo(c),d=a.date;d.setMonth(d.getMonth()+1);d=this.getNextNDay(d,-1);a=[a.formatedDate,d.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(c)&&(a=[c,c]);c=this._getRangeInfo(a);c.start.time>c.end.time&&a.reverse();return a},_getRangeInfo:function(a){var c=this.getDateInfo(a[0]);a=this.getDateInfo(a[1]);var d=Math.floor(a.time/864E5)-Math.floor(c.time/864E5)+1;return{range:[c.formatedDate,a.formatedDate],start:c,end:a,allDay:d,weeks:Math.floor((d+c.day+6)/7),fweek:c.day,lweek:a.day}},_getDateByWeeksAndDay:function(a,c,d){d=this._getRangeInfo(d);return a>d.weeks||0===a&&c<d.fweek||a===d.weeks&&c>d.lweek?!1:this.getDateInfo(d.start.time+864E5*(7*(a-1)-d.fweek+c))}};m.dimensions=m.prototype.dimensions;m.getDimensionsInfo=m.prototype.getDimensionsInfo;m.create=function(a,c){var d=[];a.eachComponent("calendar",function(b){var e=new m(b,a,c);d.push(e);b.coordinateSystem=e});a.eachSeries(function(a){"calendar"===a.get("coordinateSystem")&&(a.coordinateSystem=d[a.get("calendarIndex")||0])});return d};a(76).register("calendar",m);r.exports=m},function(r,n,a){function m(a,e){var c=a.cellSize;q.isArray(c)?1===c.length&&(c[1]=c[0]):c=a.cellSize=[c,c];var d=q.map([0,1],function(a){k.sizeCalculable(e,a)&&(c[a]="auto");return null!=c[a]&&"auto"!==c[a]});k.mergeLayoutParam(a,e,{type:"box",ignoreSize:d})}n=a(69);var q=a(4),k=a(71),l=n.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",textStyle:{color:"#000"}},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,textStyle:{color:"#000"}},yearLabel:{show:!0,position:null,margin:30,formatter:null,textStyle:{color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}}},init:function(a,e,c,d){var b=k.getLayoutParams(a);l.superApply(this,"init",arguments);m(a,b)},mergeOption:function(a,e){l.superApply(this,"mergeOption",arguments);m(this.option,a)}});r.exports=l},function(r,n,a){var m=a(4),q=a(18),k=a(6),l=a(7),f={EN:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),CN:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")},e={EN:"SMTWTFS".split(""),CN:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")};r.exports=a(1).extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(a,d,b){d=this.group;d.removeAll();var c=a.coordinateSystem;b=c.getRangeInfo();c=c.getOrient();this._renderDayRect(a,b,d);this._renderLines(a,b,c,d);this._renderYearText(a,b,c,d);this._renderMonthText(a,c,d);this._renderWeekText(a,b,c,d)},_renderDayRect:function(a,d,b){var c=a.coordinateSystem;a=a.getModel("itemStyle.normal").getItemStyle();for(var e=c.getCellWidth(),f=c.getCellHeight(),k=d.start.time;k<=d.end.time;k=c.getNextNDay(k,1).time){var l=c.dataToRect([k],!1).tl,l=new q.Rect({shape:{x:l[0],y:l[1],width:e,height:f},cursor:"default",style:a});b.add(l)}},_renderLines:function(a,d,b,e){function c(c){g._firstDayOfMonth.push(f.getDateInfo(c));g._firstDayPoints.push(f.dataToRect([c],!1).tl);c=g._getLinePointsOfOneWeek(a,c,b);g._tlpoints.push(c[0]);g._blpoints.push(c[c.length-1]);l&&g._drawSplitline(c,k,e)}var g=this,f=a.coordinateSystem,k=a.getModel("splitLine.lineStyle").getLineStyle(),l=a.get("splitLine.show"),m=k.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];for(var n=d.start,q=0;n.time<=d.end.time;q++)c(n.formatedDate),0===q&&(n=f.getDateInfo(d.start.y+"-"+d.start.m)),n=n.date,n.setMonth(n.getMonth()+1),n=f.getDateInfo(n);c(f.getNextNDay(d.end.time,1).formatedDate);l&&this._drawSplitline(g._getEdgesPoints(g._tlpoints,m,b),k,e);l&&this._drawSplitline(g._getEdgesPoints(g._blpoints,m,b),k,e)},_getEdgesPoints:function(a,d,b){a=[a[0].slice(),a[a.length-1].slice()];
b="horizontal"===b?0:1;a[0][b]-=d/2;a[1][b]+=d/2;return a},_drawSplitline:function(a,d,b){a=new q.Polyline({z2:20,shape:{points:a},style:d});b.add(a)},_getLinePointsOfOneWeek:function(a,d,b){a=a.coordinateSystem;d=a.getDateInfo(d);for(var c=[],e=0;7>e;e++){var f=a.getNextNDay(d.time,e),k=a.dataToRect([f.time],!1);c[2*f.day]=k.tl;c[2*f.day+1]=k["horizontal"===b?"bl":"tr"]}return c},_formatterLabel:function(a,d){return"string"===typeof a&&a?k.formatTplSimple(a,d):"function"===typeof a?a(d):d.nameMap},_yearTextPositionControl:function(a,d,b,e){a=a.slice();d=["center","bottom"];"top"===b&&(a[1]-=e);"bottom"===b&&(a[1]+=e,d=["center","top"]);"left"===b&&(a[0]-=e);"right"===b&&(a[0]+=e,d=["center","top"]);e=0;if("left"===b||"right"===b)e=Math.PI/2;return{rotation:e,origin:a,style:{x:a[0],y:a[1],textAlign:d[0],textVerticalAlign:d[1]}}},_renderYearText:function(a,d,b,e){var c=a.getModel("yearLabel");if(c.get("show")){a=a.getModel("yearLabel.textStyle");var g=c.get("margin"),f=c.get("position");f||(f="horizontal"!==b?"top":"left");var k=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(k[0][0]+k[1][0])/2,n=(k[0][1]+k[1][1])/2,u="horizontal"===b?0:1,k={top:[l,k[u][1]],bottom:[l,k[1-u][1]],left:[k[1-u][0],n],right:[k[u][0],n]},l=d.start.y;+d.end.y>+d.start.y&&(l=l+"-"+d.end.y);c=c.get("formatter");d=this._formatterLabel(c,{start:d.start.y,end:d.end.y,nameMap:l});b=new q.Text(m.merge({z2:30,style:{text:d,font:a.getFont(),fill:a.getTextColor()}},this._yearTextPositionControl(k[f],b,f,g)));e.add(b)}},_monthTextPositionControl:function(a,d,b,e,f){var c="left",g="top",k=a[0];a=a[1];"horizontal"===b?(a+=f,d&&(c="center"),"start"===e&&(g="bottom")):(k+=f,d&&(g="middle"),"start"===e&&(c="right"));return{x:k,y:a,textAlign:c,textVerticalAlign:g}},_renderMonthText:function(a,d,b){var c=a.getModel("monthLabel");if(c.get("show")){a=a.getModel("monthLabel.textStyle");var e=c.get("nameMap"),h=c.get("margin"),k=c.get("position"),l=c.get("align"),n=[this._tlpoints,this._blpoints];m.isString(e)&&(e=f[e.toUpperCase()]||[]);for(var r="start"===k?0:1,u="horizontal"===d?0:1,h="start"===k?-h:h,l="center"===l,x=0;x<n[r].length-1;x++){var y=n[r][x].slice(),D=this._firstDayOfMonth[x];l&&(y[u]=(this._firstDayPoints[x][u]+n[0][x+1][u])/2);var A=c.get("formatter"),C=e[+D.m-1],D={yyyy:D.y,yy:(D.y+"").slice(2),MM:D.m,M:+D.m,nameMap:C},A=this._formatterLabel(A,D),y=new q.Text({z2:30,style:m.extend({text:A,font:a.getFont(),fill:a.getTextColor()},this._monthTextPositionControl(y,l,d,k,h))});b.add(y)}}},_weekTextPositionControl:function(a,d,b,e,f){var c="center",g="middle",k=a[0];a=a[1];b="start"===b;"horizontal"===d?(k=k+e+(b?1:-1)*f[0]/2,c=b?"right":"left"):(a=a+e+(b?1:-1)*f[1]/2,g=b?"bottom":"top");return{x:k,y:a,textAlign:c,textVerticalAlign:g}},_renderWeekText:function(a,d,b,g){var c=a.getModel("dayLabel");if(c.get("show")){var f=a.coordinateSystem;a=a.getModel("dayLabel.textStyle");var k=c.get("position"),n=c.get("nameMap"),c=c.get("margin"),r=f.getFirstDayOfWeek();m.isString(n)&&(n=e[n.toUpperCase()]||[]);var v=f.getNextNDay(d.end.time,7-d.lweek).time,u=[f.getCellWidth(),f.getCellHeight()],c=l.parsePercent(c,u["horizontal"===b?0:1]);"start"===k&&(v=f.getNextNDay(d.start.time,-(7+d.fweek)).time,c=-c);for(d=0;7>d;d++){var x=f.getNextNDay(v,d),x=f.dataToRect([x.time],!1).center,x=new q.Text({z2:30,style:m.extend({text:n[Math.abs((d+r)%7)],font:a.getFont(),fill:a.getTextColor()},this._weekTextPositionControl(x,b,k,c,u))});g.add(x)}}}})},function(r,n,a){r=a(1);var m=a(18),q=a(71);r.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});r.extendComponentView({type:"title",render:function(a,l,f){this.group.removeAll();if(a.get("show")){l=this.group;var e=a.getModel("textStyle"),c=a.getModel("subtextStyle"),d=a.get("textAlign"),b=a.get("textBaseline"),e=new m.Text({style:{text:a.get("text"),textFont:e.getFont(),fill:e.getTextColor()},z2:10}),g=e.getBoundingRect(),k=a.get("subtext"),c=new m.Text({style:{text:k,textFont:c.getFont(),fill:c.getTextColor(),y:g.height+a.get("itemGap"),textBaseline:"top"},z2:10}),h=a.get("link"),n=a.get("sublink");e.silent=!h;c.silent=!n;if(h)e.on("click",function(){window.open(h,"_"+a.get("target"))});if(n)c.on("click",function(){window.open(n,"_"+a.get("subtarget"))});l.add(e);k&&l.add(c);k=l.getBoundingRect();g=a.getBoxLayoutParams();g.width=k.width;g.height=k.height;f=q.getLayoutRect(g,{width:f.getWidth(),height:f.getHeight()},a.get("padding"));d||(d=a.get("left")||a.get("right"),"middle"===d&&(d="center"),"right"===d?f.x+=f.width:"center"===d&&(f.x+=f.width/2));b||(b=a.get("top")||a.get("bottom"),"center"===b&&(b="middle"),"bottom"===b?f.y+=f.height:"middle"===b&&(f.y+=f.height/2),b=b||"top");l.attr("position",[f.x,f.y]);d={textAlign:d,textVerticalAlign:b};e.setStyle(d);c.setStyle(d);k=l.getBoundingRect();f=f.margin;d=a.getItemStyle(["color","opacity"]);d.fill=a.get("backgroundColor");f=new m.Rect({shape:{x:k.x-f[3],y:k.y-f[0],width:k.width+f[1]+f[3],height:k.height+f[0]+f[2]},style:d,silent:!0});m.subPixelOptimizeRect(f);l.add(f)}}})},function(r,n,a){a(364);a(365);a(368);a(369);a(370);a(371);a(372);a(374);a(375)},function(r,n,a){a(69).registerSubTypeDefaulter("dataZoom",function(a){return"slider"})},function(r,n,a){function m(a){var b={};d(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])});return b}function q(a,b){d([["start","startValue"],["end","endValue"]],function(c,d){var e=a._rangePropMode;null!=b[c[0]]?e[d]="percent":null!=b[c[1]]&&(e[d]="value")})}var k=a(4),l=a(2);n=a(1);var f=a(5),e=a(366),c=a(367),d=k.each,b=e.eachAxisDim;a=n.extendComponentModel({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis singleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null},init:function(a,b,c){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=["percent","percent"];b=m(a);this.mergeDefaultAndTheme(a,c);this.doInit(b)},mergeOption:function(a){var b=m(a);k.merge(this.option,a,!0);this.doInit(b)},doInit:function(a){var b=this.option;l.canvasSupported||(b.realtime=!1);this._setDefaultThrottle(a);q(this,a);d([["start","startValue"],["end","endValue"]],function(a,c){"value"===this._rangePropMode[c]&&(b[a[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,d,e,g){e=this.dependentModels[b.axis][d];g=e.__dzAxisProxy||(e.__dzAxisProxy=new c(b.name,d,this,g));a[b.name+"_"+d]=g},this)},_resetTarget:function(){var a=this.option,c=this._judgeAutoMode();b(function(b){b=b.axisIndex;a[b]=f.normalizeToArray(a[b])},this);"axisIndex"===c?this._autoSetAxisIndex():"orient"===c&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,c=!1;b(function(b){null!=a[b.axisIndex]&&(c=!0)},this);var d=a.orient;if(null==d&&c)return"orient";if(!c)return null==d&&(a.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var a=!0,c=this.get("orient",!0),e=this.option,f=this.dependentModels;if(a){var l="vertical"===c?"y":"x";f[l+"Axis"].length?(e[l+"AxisIndex"]=[0],a=!1):d(f.singleAxis,function(b){a&&b.get("orient",!0)===c&&(e.singleAxisIndex=[b.componentIndex],a=!1)})}a&&b(function(b){if(a){var c=[],d=this.dependentModels[b.axis];if(d.length&&!c.length)for(var g=0,f=d.length;g<f;g++)"category"===d[g].get("type")&&c.push(g);e[b.axisIndex]=c;c.length&&(a=!1)}},this);a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&b(function(b){var c=e[b.axisIndex],d=a.get(b.axisIndex),g=a.get(b.axisId),f=a.ecModel.queryComponents({mainType:b.axis,index:d,id:g})[0];if(!f)throw Error(b.axis+' "'+k.retrieve(d,g,0)+'" not found');d=f.componentIndex;0>k.indexOf(c,d)&&c.push(d)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this);this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,c){var d=!0;b(function(b){var e=a.get(b.axisIndex);(b=this.dependentModels[b.axis][e])&&b.get("type")===c||(d=!1)},this);return d},_setDefaultThrottle:function(a){a.hasOwnProperty("throttle")&&(this._autoThrottle=!1);this._autoThrottle&&(a=this.ecModel.option,this.option.throttle=a.animation&&0<a.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var a;b(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this);return a},eachTargetAxis:function(a,c){var e=this.ecModel;b(function(b){d(this.get(b.axisIndex),function(d){a.call(c,b,d,this,e)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){var c=this.getAxisProxy(a,b);return c&&c.getAxisModel()},setRawRange:function(a,b){d(["start","end","startValue","endValue"],function(b){this.option[b]=a[b]},this);!b&&q(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,b){if(null==a&&null==b){var c=this.findRepresentativeAxisProxy();if(c)return c.getDataValueWindow()}else return this.getAxisProxy(a,b).getDataValueWindow()},findRepresentativeAxisProxy:function(a){if(a)return a.__dzAxisProxy;a=this._axisProxies;for(var b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]},getRangePropMode:function(){return this._rangePropMode.slice()}});r.exports=a},function(r,n,a){var m=a(6),q=a(4);n={};var k=["cartesian2d","polar","singleAxis"];n.isCoordSupported=function(a){return 0<=q.indexOf(k,a)};n.createNameEach=function(a,f){a=a.slice();var e=q.map(a,m.capitalFirst);f=(f||[]).slice();var c=q.map(f,m.capitalFirst);return function(d,b){q.each(a,function(a,k){for(var g={name:a,capital:e[k]},l=0;l<f.length;l++)g[f[l]]=a+c[l];d.call(b,g)})}};n.eachAxisDim=n.createNameEach("x y z radius angle single".split(" "),["axisIndex","axis","index","id"]);n.createLinkedNodesFinder=function(a,f,e){function c(a,c){var b=!1;f(function(d){q.each(e(a,d)||[],function(a){c.records[d.name][a]&&(b=!0)})});return b}function d(a,c){c.nodes.push(a);f(function(b){q.each(e(a,b)||[],function(a){c.records[b.name][a]=!0})})}return function(b){function e(a){0<=q.indexOf(k.nodes,a)||!c(a,k)||(d(a,k),h=!0)}var k={nodes:[],records:{}};f(function(a){k.records[a.name]={}});if(!b)return k;d(b,k);var h;do h=!1,a(e);while(h);return k}};r.exports=n},function(r,n,a){function m(a,b,c){var e=[Infinity,-Infinity];d(c,function(a){var c=a.getData();c&&d(a.coordDimToDataDim(b),function(a){a=c.getDataExtent(a);a[0]<e[0]&&(e[0]=a[0]);a[1]>e[1]&&(e[1]=a[1])})});e[1]<e[0]&&(e=[NaN,NaN]);q(a,e);return e}function q(a,b){var c=a.getAxisModel(),d=c.getMin(!0),e="category"===c.get("type"),g=e&&(c.get("data")||[]).length;null!=d&&"dataMin"!==d?b[0]=d:e&&(b[0]=0<g?0:NaN);d=c.getMax(!0);null!=d&&"dataMax"!==d?b[1]=d:e&&(b[1]=0<g?g-1:NaN);c.get("scale",!0)||(0<b[0]&&(b[0]=0),0>b[1]&&(b[1]=0));return b}function k(a,b){var c=a.getAxisModel(),d=a._percentWindow,g=a._valueWindow;if(d){var f=e.getPixelPrecision(g,[0,500]),d=b||0===d[0]&&100===d[1];c.setRange(d?null:+g[0].toFixed(f),d?null:+g[1].toFixed(f))}}function l(a){var b=a._minMaxSpan={},c=a._dataZoomModel;d(["min","max"],function(d){b[d+"Span"]=c.get(d+"Span");var g=c.get(d+"ValueSpan");null!=g&&(b[d+"ValueSpan"]=g,g=a.getAxisModel().axis.scale.parse(g),null!=g&&(b[d+"Span"]=e.linearMap(g,a._dataExtent,[0,100],!0)))})}var f=a(4),e=a(7),c=a(366),d=f.each,b=e.asc;n=function(a,b,c,d){this._dimName=a;this._axisIndex=b;this.ecModel=d;this._dataZoomModel=c};n.prototype={constructor:n,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;b.eachSeries(function(d){if(c.isCoordSupported(d.get("coordinateSystem"))){var e=this._dimName,e=b.queryComponents({mainType:e+"Axis",index:d.get(e+"AxisIndex"),id:d.get(e+"AxisId")})[0];this._axisIndex===(e&&e.componentIndex)&&a.push(d)}},this);return a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a=this._dimName,b=this.ecModel,c=this.getAxisModel(),d;"x"===a||"y"===a?(d="gridIndex",a="x"===a?"y":"x"):(d="polarIndex",a="angle"===a?"radius":"angle");var e;b.eachComponent(a+"Axis",function(a){(a.get(d)||0)===(c.get(d)||0)&&(e=a)});return e},getMinMaxSpan:function(){return f.clone(this._minMaxSpan)},calculateDataWindow:function(a){var c=this._dataExtent,g=this.getAxisModel().axis.scale,f=this._dataZoomModel.getRangePropMode(),k=[0,100],l=[a.start,a.end],m=[];d(["startValue","endValue"],function(b){m.push(null!=a[b]?g.parse(a[b]):null)});d([0,1],function(a){var b=m[a],d=l[a];"percent"===f[a]?(null==d&&(d=k[a]),b=g.parse(e.linearMap(d,k,c,!0))):d=e.linearMap(b,c,k,!0);m[a]=b;l[a]=d});return{valueWindow:b(m),percentWindow:b(l)}},reset:function(a){a===this._dataZoomModel&&(this._dataExtent=m(this,this._dimName,this.getTargetSeriesModels()),a=this.calculateDataWindow(a.option),this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,l(this),k(this))},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,k(this,!0))},filterData:function(a){function b(a){return a>=f[0]&&a<=f[1]}if(a===this._dataZoomModel){var c=this._dimName,e=this.getTargetSeriesModels(),g=a.get("filterMode"),f=this._valueWindow;if("none"!==g){var k=this.getOtherAxisModel();a.get("$fromToolbox")&&k&&"category"===k.get("type")&&(g="empty");d(e,function(a){var e=a.getData(),h=a.coordDimToDataDim(c);"weakFilter"===g?e&&e.filterSelf(function(a){for(var b,c,d,g=0;g<h.length;g++){var k=e.get(h[g],a),l=!isNaN(k),m=k<f[0],k=k>f[1];if(l&&!m&&!k)return!0;l&&(d=!0);m&&(b=!0);k&&(c=!0)}return d&&b&&c}):e&&d(h,function(c){"empty"===g?a.setData(e.map(c,function(a){return b(a)?a:NaN})):e.filterSelf(c,b)})})}}}};r.exports=n},function(r,n,a){n=a(79);r.exports=n.extend({type:"dataZoom",render:function(a,n,k,l){this.dataZoomModel=a;this.ecModel=n;this.api=k},getTargetCoordInfo:function(){var a=this.ecModel,n={};this.dataZoomModel.eachTargetAxis(function(k,l){var f=a.getComponent(k.axis,l);if(f){var e=f.getCoordSysModel();if(e){for(var c=n[e.mainType]||(n[e.mainType]=[]),d,b=0;b<c.length;b++)if(c[b].model===e){d=c[b];break}d||c.push(d={model:e,axisModels:[],coordIndex:e.componentIndex});d.axisModels.push(f)}}},this);return n}})},function(r,n,a){n=a(365).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});r.exports=n},function(r,n,a){var m=a(4),q=a(18),k=a(81);n=a(368);var l=q.Rect,f=a(7),e=f.linearMap,c=a(71),d=a(239),b=a(88),g=f.asc,p=m.bind,h=m.each,t=["line","bar","candlestick","scatter"],w=n.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={};this.api=b},render:function(a,b,c,d){w.superApply(this,"render",arguments);k.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=a.get("orient");!1===this.dataZoomModel.get("show")?this.group.removeAll():(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView())},remove:function(){w.superApply(this,"remove",arguments);k.clear(this,"_dispatchZoomAction")},dispose:function(){w.superApply(this,"dispose",arguments);k.clear(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll();this._resetLocation();this._resetInterval();var b=this._displayables.barGroup=new q.Group;this._renderBackground();this._renderHandle();this._renderDataShadow();a.add(b);this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,d=this._findCoordRect(),b={width:b.getWidth(),height:b.getHeight()},e="horizontal"===this._orient?{right:b.width-d.x-d.width,top:b.height-30-7,width:d.width,height:30}:{right:7,top:d.y,width:30,height:d.height},g=c.getLayoutParams(a.option);m.each(["right","top","width","height"],function(a){"ph"===g[a]&&(g[a]=e[a])});a=c.getLayoutRect(g,b,a.padding);this._location={x:a.x,y:a.y};this._size=[a.width,a.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),d=d&&d.get("inverse"),e=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;e.attr("horizontal"!==c||d?"horizontal"===c&&d?{scale:g?[-1,1]:[-1,-1]}:"vertical"!==c||d?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]});c=a.getBoundingRect([e]);a.attr("position",[b.x-c.x,b.y-c.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this._size,b=this._displayables.barGroup;b.add(new l({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}));b.add(new l({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:m.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData(),a=c.getShadowDim?c.getShadowDim():a.otherDim;if(null!=a){var g=d.getDataExtent(a),c=.3*(g[1]-g[0]),g=[g[0]-c,g[1]+c],f=[0,b[1]],h=[[b[0],0],[0,0]],k=[],l=b[0]/(d.count()-1),p=0,n=Math.round(d.count()/b[0]),t;d.each([a],function(a,b){if(0<n&&b%n)p+=l;else{var c=null==a||isNaN(a)||""===a,d=c?0:e(a,g,f,!0);c&&!t&&b?(h.push([h[h.length-1][0],0]),k.push([k[k.length-1][0],0])):!c&&t&&(h.push([p,0]),k.push([p,0]));h.push([p,d]);k.push([p,d]);p+=l;t=c}});b=this.dataZoomModel;this._displayables.barGroup.add(new q.Polygon({shape:{points:h},style:m.defaults({fill:b.get("dataBackgroundColor")},b.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new q.Polyline({shape:{points:k},style:b.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;a.eachTargetAxis(function(e,g){var f=a.getAxisProxy(e.name,g).getTargetSeriesModels();m.each(f,function(a){if(!(c||!0!==b&&0>m.indexOf(t,a.get("type")))){var f=d.getComponent(e.axis,g).axis,h;h={x:"y",y:"x",radius:"angle",angle:"radius"}[e.name];var k,l=a.coordinateSystem;null!=h&&l.getOtherAxis&&(k=l.getOtherAxis(f).inverse);c={thisAxis:f,series:a,thisDim:e.name,otherDim:h,otherAxisInverse:k}}},this)},this);return c}},_renderHandle:function(){var a=this._displayables,c=a.handles=[],d=a.handleLabels=[],e=this._displayables.barGroup,g=this._size,k=this.dataZoomModel;e.add(a.filler=new l({draggable:!0,cursor:"move",drift:p(this._onDragMove,this,"all"),onmousemove:function(a){b.stop(a.event)},ondragstart:p(this._showDataInfo,this,!0),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1),style:{fill:k.get("fillerColor"),textPosition:"inside"}}));e.add(new l(q.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:g[0],height:g[1]},style:{stroke:k.get("dataBackgroundColor")||k.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})));var m=k.get("handleIcon");h([0,1],function(a){var g={style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:p(this._onDragMove,this,a),onmousemove:function(a){b.stop(a.event)},ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1)},h={x:-1,y:0,width:2,height:2},g=0===m.indexOf("image://")?(h.image=m.slice(8),g.style=h,new q.Image(g)):q.makePath(m.replace("path://",""),g,h,"center"),h=g.getBoundingRect();this._handleHeight=f.parsePercent(k.get("handleSize"),this._size[1]);this._handleWidth=h.width/h.height*this._handleHeight;g.setStyle(k.getModel("handleStyle").getItemStyle());h=k.get("handleColor");null!=h&&(g.style.fill=h);e.add(c[a]=g);g=k.textStyleModel;this.group.add(d[a]=new q.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:g.getTextColor(),textFont:g.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[e(a[0],[0,100],b,!0),e(a[1],[0,100],b,!0)]},_updateInterval:function(a,b){var c=this.dataZoomModel,f=this._handleEnds,h=this._getViewExtent(),k=c.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];d(b,f,h,c.get("zoomLock")?"all":a,null!=k.minSpan?e(k.minSpan,l,h,!0):null,null!=k.maxSpan?e(k.maxSpan,l,h,!0):null);this._range=g([e(f[0],h,l,!0),e(f[1],h,l,!0)])},_updateView:function(a){var b=this._displayables,c=this._handleEnds,d=g(c.slice()),e=this._size;h([0,1],function(a){var d=this._handleHeight;b.handles[a].attr({scale:[d/2,d/2],position:[c[a],e[1]/2-d/2]})},this);b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});this._updateDataInfo(a)},_updateDataInfo:function(a){function b(a){var b=q.getTransform(d.handles[a].parent,this.group),c=q.transformDirection(0===a?"right":"left",b),g=this._handleWidth/2+5,b=q.applyTransform([m[a]+(0===a?-g:g),this._size[1]/2],b);e[a].setStyle({x:b[0],y:b[1],textVerticalAlign:"horizontal"===f?"middle":c,textAlign:"horizontal"===f?c:"center",text:h[a]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,f=this._orient,h=["",""];if(c.get("showDetail")){var k=c.findRepresentativeAxisProxy();if(k){var c=k.getAxisModel().axis,l=this._range;a=a?k.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:k.getDataValueWindow();h=[this._formatLabel(a[0],c),this._formatLabel(a[1],c)]}}var m=g(this._handleEnds.slice());b.call(this,0);b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter"),c=c.get("labelPrecision");if(null==c||"auto"===c)c=b.getPixelPrecision();c=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(c,20));return m.isFunction(d)?d(a,c):m.isString(d)?d.replace("{value}",c):c},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a);b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;var d=this._displayables.barGroup.getLocalTransform();b=q.applyTransform([b,c],d,!0);this._updateInterval(a,b[0]);a=this.dataZoomModel.get("realtime");this._updateView(!a);a&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_onClickPanelClick:function(a){var b=this._size;a=this._displayables.barGroup.transformCoordToLocal(a.offsetX,a.offsetY);0>a[0]||a[0]>b[0]||0>a[1]||a[1]>b[1]||(b=this._handleEnds,this._updateInterval("all",a[0]-(b[0]+b[1])/2),this._updateView(),this._dispatchZoomAction())},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;h(this.getTargetCoordInfo(),function(b){!a&&b.length&&(b=b[0].model.coordinateSystem,a=b.getRect&&b.getRect())});if(!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:.2*b,y:.2*c,width:.6*b,height:.6*c}}return a}});r.exports=w},function(r,n,a){r.exports=a(365).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}})},function(r,n,a){n=a(368);var m=a(4),q=a(239),k=a(373),l=m.bind,f=n.extend({type:"dataZoom.inside",init:function(a,d){},render:function(a,d,b,e){f.superApply(this,"render",arguments);k.shouldRecordRange(e,a.id)&&(this._range=a.getPercentRange());m.each(this.getTargetCoordInfo(),function(c,d){var e=m.map(c,function(a){return k.generateCoordId(a.model)});m.each(c,function(c){var g=c.model,f=a.option;k.register(b,{coordId:k.generateCoordId(g),allCoordIds:e,containsPoint:function(a,b,c){return g.coordinateSystem.containPoint([b,c])},dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:l(this._onPan,this,c,d),zoomGetRange:l(this._onZoom,this,c,d),zoomLock:f.zoomLock,disabled:f.disabled,roamControllerOpt:{zoomOnMouseWheel:f.zoomOnMouseWheel,moveOnMouseMove:f.moveOnMouseMove,preventDefaultMouseMove:f.preventDefaultMouseMove}})},this)},this)},dispose:function(){k.unregister(this.api,this.dataZoomModel.id);f.superApply(this,"dispose",arguments);this._range=null},_onPan:function(a,d,b,g,f,h,k,l,m){g=this._range.slice();if(f=a.axisModels[0])return a=e[d]([h,k],[l,m],f,b,a),q(a.signal*(g[1]-g[0])*a.pixel/a.pixelLength,g,[0,100],"all"),this._range=g},_onZoom:function(a,d,b,g,f,h){var c=this._range.slice(),k=a.axisModels[0];if(k)return a=e[d](null,[f,h],k,b,a),a=(0<a.signal?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(c[1]-c[0])+c[0],g=Math.max(1/g,0),c[0]=(c[0]-a)*g+a,c[1]=(c[1]-a)*g+a,g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),q(0,c,[0,100],0,g.minSpan,g.maxSpan),this._range=c}}),e={grid:function(a,d,b,e,f){b=b.axis;e={};f=f.model.coordinateSystem.getRect();a=a||[0,0];"x"===b.dim?(e.pixel=d[0]-a[0],e.pixelLength=f.width,e.pixelStart=f.x,e.signal=b.inverse?1:-1):(e.pixel=d[1]-a[1],e.pixelLength=f.height,e.pixelStart=f.y,e.signal=b.inverse?-1:1);return e},polar:function(a,d,b,e,f){e=b.axis;var c={};f=f.model.coordinateSystem;var g=f.getRadiusAxis().getExtent(),k=f.getAngleAxis().getExtent();a=a?f.pointToCoord(a):[0,0];d=f.pointToCoord(d);"radiusAxis"===b.mainType?(c.pixel=d[0]-a[0],c.pixelLength=g[1]-g[0],c.pixelStart=g[0],c.signal=e.inverse?1:-1):(c.pixel=d[1]-a[1],c.pixelLength=k[1]-k[0],c.pixelStart=k[0],c.signal=e.inverse?-1:1);return c},singleAxis:function(a,d,b,e,f){b=b.axis;f=f.model.coordinateSystem.getRect();e={};a=a||[0,0];"horizontal"===b.orient?(e.pixel=d[0]-a[0],e.pixelLength=f.width,e.pixelStart=f.x,e.signal=b.inverse?1:-1):(e.pixel=d[1]-a[1],e.pixelLength=f.height,e.pixelStart=f.y,e.signal=b.inverse?-1:1);return e}};r.exports=f},function(r,n,a){function m(a){a=a.getZr();return a["\x00_ec_dataZoom_roams"]||(a["\x00_ec_dataZoom_roams"]={})}function q(a,b){var c=new g(a.getZr());c.on("pan",h(l,b));c.on("zoom",h(f,b));return c}function k(a){b.each(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function l(a,b,c,d,f,g,h){e(a,function(e){return e.panGetRange(a.controller,b,c,d,f,g,h)})}function f(a,b,c,d){e(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function e(a,c){var d=[];b.each(a.dataZoomInfos,function(a){var b=c(a);!a.disabled&&b&&d.push({dataZoomId:a.dataZoomId,start:b[0],end:b[1]})});a.dispatchAction(d)}function c(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function d(a){var c,d={},e={"true":2,move:1,"false":0,undefined:-1};b.each(a,function(a){var f=a.disabled?!1:a.zoomLock?"move":!0;e[f]>e[c]&&(c=f);b.extend(d,a.roamControllerOpt)});return{controlType:c,opt:d}}var b=a(4),g=a(183),p=a(81),h=b.curry;r.exports={register:function(a,e){var f=m(a),g=e.dataZoomId,h=e.coordId;b.each(f,function(a,c){var d=a.dataZoomInfos;d[g]&&0>b.indexOf(e.allCoordIds,h)&&(delete d[g],a.count--)});k(f);var l=f[h];l||(l=f[h]={coordId:h,dataZoomInfos:{},count:0},l.controller=q(a,l),l.dispatchAction=b.curry(c,a));!l.dataZoomInfos[g]&&l.count++;l.dataZoomInfos[g]=e;f=d(l.dataZoomInfos);l.controller.enable(f.controlType,f.opt);l.controller.setPointerChecker(e.containsPoint);p.createOrUpdate(l,"dispatchAction",e.throttleRate,"fixRate")},unregister:function(a,c){var d=m(a);b.each(d,function(a){a.controller.dispose();var b=a.dataZoomInfos;b[c]&&(delete b[c],a.count--)});k(d)},shouldRecordRange:function(a,b){if(a&&"dataZoom"===a.type&&a.batch)for(var c=0,d=a.batch.length;c<d;c++)if(a.batch[c].dataZoomId===b)return!1;return!0},generateCoordId:function(a){return a.type+"\x00_"+a.id}}},function(r,n,a){function m(a,l,f){f.getAxisProxy(a.name,l).reset(f)}function q(a,l,f){f.getAxisProxy(a.name,l).filterData(f)}a(1).registerProcessor(function(a,l){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(m);a.eachTargetAxis(q)});a.eachComponent("dataZoom",function(a){var e=a.findRepresentativeAxisProxy(),c=e.getDataPercentWindow(),e=e.getDataValueWindow();a.setRawRange({start:c[0],end:c[1],startValue:e[0],endValue:e[1]},!0)})})},function(r,n,a){var m=a(4),q=a(366);a(1).registerAction("dataZoom",function(a,l){var f=q.createLinkedNodesFinder(m.bind(l.eachComponent,l,"dataZoom"),q.eachAxisDim,function(a,d){return a.get(d.axisIndex)}),e=[];l.eachComponent({mainType:"dataZoom",query:a},function(a,d){e.push.apply(e,f(a).nodes)});m.each(e,function(c,d){c.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})},function(r,n,a){a(377);a(388)},function(r,n,a){a(1).registerPreprocessor(a(378));a(379);a(380);a(381);a(384);a(387)},function(r,n,a){function m(a,f){return a&&a.hasOwnProperty&&a.hasOwnProperty(f)}var q=a(4),k=q.each;r.exports=function(a){a=a&&a.visualMap;q.isArray(a)||(a=a?[a]:[]);k(a,function(a){a&&(m(a,"splitList")&&!m(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList),(a=a.pieces)&&q.isArray(a)&&k(a,function(a){q.isObject(a)&&(m(a,"start")&&!m(a,"min")&&(a.min=a.start),m(a,"end")&&!m(a,"max")&&(a.max=a.end))}))})}},function(r,n,a){a(69).registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?0<a.pieces.length:0<a.splitNumber)&&!a.calculable?"piecewise":"continuous"})},function(r,n,a){function m(a,d){a.eachTargetSeries(function(b){b=b.getData();l.applyVisual(a.stateList,a.targetVisuals,b,a.getValueState,a,a.getDataDimension(b))})}function q(a){a.eachSeries(function(c){var b=c.getData(),d=[];a.eachComponent("visualMap",function(a){if(a.isTargetSeries(c)){var f=a.getVisualMeta(e.bind(k,null,c,a))||{stops:[],outerColors:[]};f.dimension=a.getDataDimension(b);d.push(f)}});c.getData().setVisual("visualMeta",d)})}function k(a,d,b,e){function c(a){return k[a]}function g(a,b){k[a]=b}d=d.targetVisuals[e];e=f.prepareVisualTypes(d);var k={color:a.getData().getVisual("color")};a=0;for(var l=e.length;a<l;a++){var m=e[a];(m=d["opacity"===m?"__alphaForOpacity":m])&&m.applyVisual(b,c,g)}return k.color}r=a(1);var l=a(350),f=a(203),e=a(4);r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(c){m(c,a)});q(a)})},function(r,n,a){function m(a,d,b){if(b[0]===b[1])return b.slice();a=(b[1]-b[0])/200;d=b[0];for(var c=[],e=0;200>=e&&d<b[1];e++)c.push(d),d+=a;c.push(b[1]);return c}var q=a(382),k=a(4),l=a(7),f=[20,140],e=q.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(a,d){e.superApply(this,"optionUpdated",arguments);this.resetTargetSeries();this.resetExtent();this.resetVisual(function(a){a.mappingMethod="linear";a.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){e.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse();(null==a[0]||isNaN(a[0]))&&(a[0]=f[0]);(null==a[1]||isNaN(a[1]))&&(a[1]=f[1])},_resetRange:function(){var a=this.getExtent(),d=this.option.range;!d||d.auto?(a.auto=1,this.option.range=a):k.isArray(d)&&(d[0]>d[1]&&d.reverse(),d[0]=Math.max(d[0],a[0]),d[1]=Math.min(d[1],a[1]))},completeVisualOption:function(){q.prototype.completeVisualOption.apply(this,arguments);k.each(this.stateList,function(a){(a=this.option.controller[a].symbolSize)&&a[0]!==a[1]&&(a[0]=0)},this)},setSelected:function(a){this.option.range=a.slice();this._resetRange()},getSelected:function(){var a=this.getExtent(),d=l.asc((this.get("range")||[]).slice());d[0]>a[1]&&(d[0]=a[1]);d[1]>a[1]&&(d[1]=a[1]);d[0]<a[0]&&(d[0]=a[0]);d[1]<a[0]&&(d[1]=a[0]);return d},getValueState:function(a){var c=this.option.range,b=this.getExtent();return(c[0]<=b[0]||c[0]<=a)&&(c[1]>=b[1]||a<=c[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var c=[];this.eachTargetSeries(function(b){var d=[],e=b.getData();e.each(this.getDataDimension(e),function(b,c){a[0]<=b&&b<=a[1]&&d.push(c)},!0,this);c.push({seriesId:b.id,dataIndex:d})},this);return c},getVisualMeta:function(a){function c(b,c){f.push({value:b,color:a(b,c)})}for(var b=m(this,"outOfRange",this.getExtent()),e=m(this,"inRange",this.option.range.slice()),f=[],h=0,k=0,l=e.length,n=b.length;k<n&&(!e.length||b[k]<=e[0]);k++)b[k]<e[h]&&c(b[k],"outOfRange");for(var q=1;h<l;h++,q=0)q&&f.length&&c(e[h],"outOfRange"),c(e[h],"inRange");for(q=1;k<n;k++)if(!e.length||e[e.length-1]<b[k])q&&(f.length&&c(f[f.length-1].value,"outOfRange"),q=0),c(b[k],"outOfRange");b=f.length;return{stops:f,outerColors:[b?f[0].color:"transparent",b?f[b-1].color:"transparent"]}}});r.exports=e},function(r,n,a){n=a(1);var m=a(4),q=a(2),k=a(383),l=a(203),f=a(350),e=l.mapVisual,c=a(5),d=l.eachVisual;a=a(7);var b=m.isArray,g=m.each,p=a.asc,h=a.linearMap;a=m.noop;var t=["#f6efa6","#d88273","#bf444c"];n=n.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;q.canvasSupported||(c.realtime=!1);!b&&f.replaceVisualOption(c,a,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=m.bind(a,this);this.controllerVisuals=f.createVisualMappings(this.option.controller,b,a);this.targetVisuals=f.createVisualMappings(this.option.target,b,a)},resetTargetSeries:function(){var a=this.option,b=null==a.seriesIndex;a.seriesIndex=b?[]:c.normalizeToArray(a.seriesIndex);b&&this.ecModel.eachSeries(function(b,c){a.seriesIndex.push(c)})},eachTargetSeries:function(a,b){m.each(this.option.seriesIndex,function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;this.eachTargetSeries(function(c){c===a&&(b=!0)});return b},formatValueText:function(a,b,c){function d(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(f)}var e=this.option,f=e.precision,g=this.dataBound,e=e.formatter,h;c=c||["\x3c","\x3e"];m.isArray(a)&&(a=a.slice(),h=!0);b=b?a:h?[d(a[0]),d(a[1])]:d(a);return m.isString(e)?e.replace("{value}",h?b[0]:b).replace("{value2}",h?b[1]:b):m.isFunction(e)?h?e(a[0],a[1]):e(a):h?a[0]===g[0]?c[0]+" "+b[1]:a[1]===g[1]?c[1]+" "+b[0]:b[0]+" - "+b[1]:b},resetExtent:function(){var a=this.option;this._dataExtent=p([a.min,a.max])},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function a(a){b(c.color)&&!a.inRange&&(a.inRange={color:c.color.slice().reverse()});a.inRange=a.inRange||{color:t};g(this.stateList,function(b){var c=a[b];if(m.isString(c)){var d=k.get(c,"active",q);d?(a[b]={},a[b][c]=d):delete a[b]}},this)}var c=this.option,f={inRange:c.inRange,outOfRange:c.outOfRange},p=c.target||(c.target={}),n=c.controller||(c.controller={});m.merge(p,f);m.merge(n,f);var q=this.isCategory();a.call(this,p);a.call(this,n);(function(a,b,c){b=a[b];var d=a[c];b&&!d&&(d=a[c]={},g(b,function(a,b){if(l.isValidType(b)){var c=k.get(b,"inactive",q);null!=c&&(d[b]=c,"color"!==b||d.hasOwnProperty("opacity")||d.hasOwnProperty("colorAlpha")||(d.opacity=[0,0]))}}))}).call(this,p,"inRange","outOfRange");(function(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,c=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,f=this.get("inactiveColor");g(this.stateList,function(g){var k=this.itemSize,l=a[g];l||(l=a[g]={color:q?f:[f]});null==l.symbol&&(l.symbol=b&&m.clone(b)||(q?"roundRect":["roundRect"]));null==l.symbolSize&&(l.symbolSize=c&&m.clone(c)||(q?k[0]:[k[0],k[0]]));l.symbol=e(l.symbol,function(a){return"none"===a||"square"===a?"roundRect":a});g=l.symbolSize;if(null!=g){var p=-Infinity;d(g,function(a){a>p&&(p=a)});l.symbolSize=e(g,function(a){return h(a,[0,p],[0,k[0]],!0)})}},this)}).call(this,n)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:a,getValueState:a,getVisualMeta:a});r.exports=n},function(r,n,a){var m=a(4),q={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};r.exports={get:function(a,l,f){a=m.clone((q[a]||{})[l]);return f?m.isArray(a)?a[a.length-1]:a:a}}},function(r,n,a){function m(a,b,c,d){return new l.Polygon({shape:{points:a},draggable:!!c,cursor:b,drift:c,onmousemove:function(a){p.stop(a.event)},ondragend:d})}function q(a,b,c,d){return a?[[0,-w(b,z(c,0))],[6,0],[0,w(b,z(d-c,0))]]:[[0,0],[5,-5],[5,5]]}function k(a){return!a.get("realtime")&&a.get("hoverLinkOnHandle")}n=a(385);var l=a(18),f=a(4),e=a(7),c=a(239),d=a(65),b=a(386),g=a(5),p=a(88),h=e.linearMap,t=f.each,w=Math.min,z=Math.max,v=n.extend({type:"visualMap.continuous",init:function(){v.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._hoverLinkDataIndices=[]},doRender:function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient");this._useHandle=a.get("calculable");this._resetInterval();this._renderBar(b);a=a.get("text");this._renderEndsText(b,a,0);this._renderEndsText(b,a,1);this._updateView(!0);this.renderBackground(b);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(b)},_renderEndsText:function(a,b,c){if(b){a=b[1-c];a=null!=a?a+"":"";var d=this.visualMapModel;b=d.get("textGap");var e=d.itemSize,d=this._shapes.barGroup;b=this._applyTransform([e[0]/2,0===c?-b:e[1]+b],d);c=this._applyTransform(0===c?"bottom":"top",d);d=this._orient;e=this.visualMapModel.textStyleModel;this.group.add(new l.Text({style:{x:b[0],y:b[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:a,textFont:e.getFont(),fill:e.getTextColor()}}))}},_renderBar:function(a){var c=this.visualMapModel,d=this._shapes,e=c.itemSize,g=this._orient,h=this._useHandle,k=b.getItemAlign(c,this.api,e),l=d.barGroup=this._createBarGroup(k);l.add(d.outOfRange=m());l.add(d.inRange=m(null,h?"move":null,f.bind(this._dragHandle,this,"all",!1),f.bind(this._dragHandle,this,"all",!0)));c=c.textStyleModel.getTextRect("\u56fd");c=z(c.width,c.height);h&&(d.handleThumbs=[],d.handleLabels=[],d.handleLabelPoints=[],this._createHandle(l,0,e,c,g,k),this._createHandle(l,1,e,c,g,k));this._createIndicator(l,e,c,g);a.add(l)},_createHandle:function(a,b,c,d,e){var g=f.bind(this._dragHandle,this,b,!1),h=f.bind(this._dragHandle,this,b,!0),k=m(0===b?[[0,0],[d,0],[d,-d]]:[[0,0],[d,0],[d,d]],"move",g,h);k.position[0]=c[0];a.add(k);a=this.visualMapModel.textStyleModel;g=new l.Text({draggable:!0,drift:g,onmousemove:function(a){p.stop(a.event)},ondragend:h,style:{x:0,y:0,text:"",textFont:a.getFont(),fill:a.getTextColor()}});this.group.add(g);d=["horizontal"===e?d/2:1.5*d,"horizontal"===e?0===b?-(1.5*d):1.5*d:0===b?-d/2:d/2];e=this._shapes;e.handleThumbs[b]=k;e.handleLabelPoints[b]=d;e.handleLabels[b]=g},_createIndicator:function(a,b,c,d){var e=m([[0,0]],"move");e.position[0]=b[0];e.attr({invisible:!0,silent:!0});a.add(e);a=this.visualMapModel.textStyleModel;a=new l.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),fill:a.getTextColor()}});this.group.add(a);c=["horizontal"===d?c/2:9,0];d=this._shapes;d.indicator=e;d.indicatorLabel=a;d.indicatorLabelPoint=c},_dragHandle:function(a,b,c,d){this._useHandle&&(this._dragging=!b,b||(c=this._applyTransform([c,d],this._shapes.barGroup,!0),this._updateInterval(a,c[1]),this._updateView()),b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():k(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1))},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),a=[0,a.itemSize[1]];this._handleEnds=[h(b[0],c,a,!0),h(b[1],c,a,!0)]},_updateInterval:function(a,b){var d=this.visualMapModel,e=this._handleEnds,f=[0,d.itemSize[1]];c(b||0,e,f,a,0);d=d.getExtent();this._dataInterval=[h(e[0],f,d,!0),h(e[1],f,d,!0)]},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,b=[0,b.itemSize[1]];a=a?b:this._handleEnds;var e=this._createBarVisual(this._dataInterval,c,a,"inRange"),c=this._createBarVisual(c,c,b,"outOfRange");d.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);d.outOfRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape("points",c.barPoints);this._updateHandle(a,e)},_createBarVisual:function(a,b,c,e){e={forceState:e,convertOpacityToAlpha:!0};b=this._makeColorGradient(a,e);a=[this.getControllerVisual(a[0],"symbolSize",e),this.getControllerVisual(a[1],"symbolSize",e)];c=this._createBarPoints(c,a);return{barColor:new d(0,0,0,1,b),barPoints:c,handlesColor:[b[0].color,b[b.length-1].color]}},_makeColorGradient:function(a,b){var c=[],d=(a[1]-a[0])/100;c.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var e=1;100>e;e++){var f=a[0]+d*e;if(f>a[1])break;c.push({color:this.getControllerVisual(f,"color",b),offset:e/100})}c.push({color:this.getControllerVisual(a[1],"color",b),offset:1});return c},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new l.Group("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,f=c.handleLabels;t([0,1],function(g){var h=e[g];h.setStyle("fill",b.handlesColor[g]);h.position[1]=a[g];h=l.applyTransform(c.handleLabelPoints[g],l.getTransform(h,this.group));f[g].setStyle({x:h[0],y:h[1],text:d.formatValueText(this._dataInterval[g]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===g?"bottom":"top":"left",c.barGroup)})},this)}},_showIndicator:function(a,b,c,d){var e=this.visualMapModel,f=e.getExtent(),g=e.itemSize,k=h(a,f,[0,g[1]],!0),f=this._shapes,m=f.indicator;m&&(m.position[1]=k,m.attr("invisible",!1),m.setShape("points",q(!!c,d,k,g[1])),a=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0}),m.setStyle("fill",a),a=l.applyTransform(f.indicatorLabelPoint,l.getTransform(m,this.group)),d=f.indicatorLabel,d.attr("invisible",!1),f=this._applyTransform("left",f.barGroup),g=this._orient,d.setStyle({text:(c?c:"")+e.formatValueText(b),textVerticalAlign:"horizontal"===g?f:"middle",textAlign:"horizontal"===g?"center":f,x:a[0],y:a[1]}))},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(b){a._hovering=!0;if(!a._dragging){var c=a.visualMapModel.itemSize;b=a._applyTransform([b.offsetX,b.offsetY],a._shapes.barGroup,!0,!0);b[1]=w(z(0,b[1]),c[1]);a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1;!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(a,c){var d=this.visualMapModel;if(d.option.hoverLink){var e=[0,d.itemSize[1]],f=d.getExtent();a=w(z(e[0],a),e[1]);var l;l=6;var m=d.get("hoverLinkDataSize");m&&(l=h(m,f,e,!0)/2);var m=[a-l,a+l],p=h(a,e,f,!0),f=[h(m[0],e,f,!0),h(m[1],e,f,!0)];m[0]<e[0]&&(f[0]=-Infinity);m[1]>e[1]&&(f[1]=Infinity);c&&(-Infinity===f[0]?this._showIndicator(p,f[1],"\x3c ",l):Infinity===f[1]?this._showIndicator(p,f[0],"\x3e ",l):this._showIndicator(p,p,"\u2248 ",l));e=this._hoverLinkDataIndices;l=[];if(c||k(d))l=this._hoverLinkDataIndices=d.findTargetDataIndices(f);d=g.compressBatches(e,l);this._dispatchHighDown("downplay",b.convertDataIndex(d[0]));this._dispatchHighDown("highlight",b.convertDataIndex(d[1]))}},_hoverLinkFromSeriesMouseOver:function(a){a=a.target;var b=this.visualMapModel;if(a&&null!=a.dataIndex){var c=this.ecModel.getSeriesByIndex(a.seriesIndex);b.isTargetSeries(c)&&(c=c.getData(a.dataType),b=c.getDimension(b.getDataDimension(c)),a=c.get(b,a.dataIndex,!0),isNaN(a)||this._showIndicator(a,a))}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0);a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",b.convertDataIndex(a));a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver);a.off("mouseout",this._hideIndicator)},_applyTransform:function(a,b,c,d){b=l.getTransform(b,d?null:this.group);return l[f.isArray(a)?"applyTransform":"transformDirection"](a,b,c)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});r.exports=v},function(r,n,a){var m=a(4),q=a(18),k=a(6),l=a(71);n=a(1);var f=a(203);r.exports=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,c){this.ecModel=a;this.api=c},render:function(a,c,d,b){this.visualMapModel=a;!1===a.get("show")?this.group.removeAll():this.doRender.apply(this,arguments)},renderBackground:function(a){var c=this.visualMapModel,d=k.normalizeCssArray(c.get("padding")||0),b=a.getBoundingRect();a.add(new q.Rect({z2:-1,silent:!0,shape:{x:b.x-d[3],y:b.y-d[0],width:b.width+d[3]+d[1],height:b.height+d[0]+d[2]},style:{fill:c.get("backgroundColor"),stroke:c.get("borderColor"),lineWidth:c.get("borderWidth")}}))},getControllerVisual:function(a,c,d){function b(a){return l[a]}function e(a,b){l[a]=b}d=d||{};var k=d.forceState,h=this.visualMapModel,l={};"symbol"===c&&(l.symbol=h.get("itemSymbol"));if("color"===c){var n=h.get("contentColor");l.color=n}var q=h.controllerVisuals[k||h.getValueState(a)],k=f.prepareVisualTypes(q);m.each(k,function(g){var h=q[g];d.convertOpacityToAlpha&&"opacity"===g&&(g="colorAlpha",h=q.__alphaForOpacity);f.dependsOn(g,c)&&h&&h.applyVisual(a,b,e)});return l[c]},positionGroup:function(a){var c=this.api;l.positionElement(a,this.visualMapModel.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})},doRender:m.noop})},function(r,n,a){var m=a(4),q=a(71);r.exports={getItemAlign:function(a,l,f){a=a.option;var e=a.align;if(null!=e&&"auto"!==e)return e;l={width:l.getWidth(),height:l.getHeight()};for(var c="horizontal"===a.orient?1:0,d=[["left","right","width"],["top","bottom","height"]],e=d[c],b=[0,null,10],g={},k=0;3>k;k++)g[d[1-c][k]]=b[k],g[e[k]]=2===k?f[0]:a[e[k]];f=[["x","width",3],["y","height",0]][c];a=q.getLayoutRect(g,l,a.padding);return e[(a.margin[f[2]]||0)+a[f[0]]+.5*a[f[1]]<.5*l[f[1]]?0:1]},convertDataIndex:function(a){m.each(a||[],function(k){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)});return a}}},function(r,n,a){a(1).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(a,n){n.eachComponent({mainType:"visualMap",query:a},function(k){k.setSelected(a.selected)})})},function(r,n,a){a(1).registerPreprocessor(a(378));a(379);a(380);a(389);a(390);a(387)},function(r,n,a){function m(a,c){var b=a.inverse;("vertical"===a.orient?!b:b)&&c.reverse()}var q=a(382),k=a(4),l=a(203),f=a(383),e=a(7).reformIntervals,c=q.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(a,e){c.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetTargetSeries();this.resetExtent();var b=this._mode=this._determineMode();d[this._mode].call(this);this._resetSelected(a,e);var f=this.option.categories;this.resetVisual(function(a,c){"categories"===b?(a.mappingMethod="category",a.categories=k.clone(f)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=k.map(this._pieceList,function(a){a=k.clone(a);"inRange"!==c&&(a.visual=null);return a}))})},completeVisualOption:function(){function a(a,b,c){return a&&a[b]&&(k.isObject(a[b])?a[b].hasOwnProperty(c):a[b]===c)}var c=this.option,d={},e=l.listVisualTypes(),m=this.isCategory();k.each(c.pieces,function(a){k.each(e,function(b){a.hasOwnProperty(b)&&(d[b]=1)})});k.each(d,function(b,d){var e=0;k.each(this.stateList,function(b){e|=a(c,b,d)||a(c.target,b,d)},this);!e&&k.each(this.stateList,function(a){(c[a]||(c[a]={}))[d]=f.get(d,"inRange"===a?"active":"inactive",m)})},this);q.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(a,c){var b=this.option,d=this._pieceList,e=(c?b:a).selected||{};b.selected=e;k.each(d,function(a,b){var c=this.getSelectedMapKey(a);e.hasOwnProperty(c)||(e[c]=!0)},this);if("single"===b.selectedMode){var f=!1;k.each(d,function(a,b){var c=this.getSelectedMapKey(a);e[c]&&(f?e[c]=!1:f=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&0<a.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=k.clone(a)},getValueState:function(a){a=l.findPieceIndex(a,this._pieceList);return null!=a?this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){l.findPieceIndex(b,this._pieceList)===a&&d.push(c)},!0,this);b.push({seriesId:c.id,dataIndex:d})},this);return b},getRepresentValue:function(a){this.isCategory()?a=a.value:null!=a.value?a=a.value:(a=a.interval||[],a=-Infinity===a[0]&&Infinity===a[1]?0:(a[0]+a[1])/2);return a},getVisualMeta:function(a){function b(b,f){var g=e.getRepresentValue({interval:b});f||(f=e.getValueState(g));g=a(g,f);-Infinity===b[0]?d[0]=g:Infinity===b[1]?d[1]=g:c.push({value:b[0],color:g},{value:b[1],color:g})}if(!this.isCategory()){var c=[],d=[],e=this,f=this._pieceList.slice();if(f.length){var l=f[0].interval[0];-Infinity!==l&&f.unshift({interval:[-Infinity,l]});l=f[f.length-1].interval[1];Infinity!==l&&f.push({interval:[l,Infinity]})}else f.push({interval:[-Infinity,Infinity]});var m=-Infinity;k.each(f,function(a){if(a=a.interval)a[0]>m&&b([m,a[0]],"outOfRange"),b(a.slice()),m=a[1]},this);return{stops:c,outerColors:d}}}}),d={splitNumber:function(){var a=this.option,c=this._pieceList,d=a.precision,f=this.getExtent(),l=a.splitNumber,l=Math.max(parseInt(l,10),1);a.splitNumber=l;for(var m=(f[1]-f[0])/l;+m.toFixed(d)!==m&&5>d;)d++;a.precision=d;m=+m.toFixed(d);d=0;a.minOpen&&c.push({index:d++,interval:[-Infinity,f[0]],close:[0,0]});for(var n=f[0],q=d+l;d<q;n+=m){var r=d===l-1?f[1]:n+m;c.push({index:d++,interval:[n,r],close:[1,1]})}a.maxOpen&&c.push({index:d++,interval:[f[1],Infinity],close:[0,0]});e(c);k.each(c,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;k.each(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this);m(a,this._pieceList)},pieces:function(){var a=this.option,c=this._pieceList;k.each(a.pieces,function(a,b){k.isObject(a)||(a={value:a});var d={text:"",index:b};null!=a.label&&(d.text=a.label);if(a.hasOwnProperty("value")){var e=d.value=a.value;d.interval=[e,e];d.close=[1,1]}else{for(var e=d.interval=[],f=d.close=[0,0],g=[1,0,1],h=[-Infinity,Infinity],m=[],p=0;2>p;p++){for(var n=[["gte","gt","min"],["lte","lt","max"]][p],q=0;3>q&&null==e[p];q++)e[p]=a[n[q]],f[p]=g[q],m[p]=2===q;null==e[p]&&(e[p]=h[p])}m[0]&&Infinity===e[1]&&(f[0]=0);m[1]&&-Infinity===e[0]&&(f[1]=0);e[0]>e[1]&&console.warn("Piece "+b+"is illegal: "+e+" lower bound should not greater then uppper bound.");e[0]===e[1]&&f[0]&&f[1]&&(d.value=e[0])}d.visual=l.retrieveVisuals(a);c.push(d)},this);m(a,c);e(c);k.each(c,function(a){var b=a.close,b=[["\x3c","\u2264"][b[1]],["\x3e","\u2265"][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,b)},this)}};r.exports=c},function(r,n,a){n=a(385);var m=a(4),q=a(18),k=a(111),l=a(71),f=a(386);a=n.extend({type:"visualMap.piecewise",doRender:function(){var a=this.group;a.removeAll();var c=this.visualMapModel,d=c.get("textGap"),b=c.textStyleModel,f=b.getFont(),k=b.getTextColor(),h=this._getItemAlign(),n=c.itemSize,b=this._getViewData(),r=b.endsText,z=m.retrieve(c.get("showLabel",!0),!r);r&&this._renderEndsText(a,r[0],n,z,h);m.each(b.viewPieceList,function(b){var e=b.piece,g=new q.Group;g.onclick=m.bind(this._onItemClick,this,e);this._enableHoverLink(g,b.indexInModelPieceList);b=c.getRepresentValue(e);this._createItemSymbol(g,b,[0,0,n[0],n[1]]);z&&(b=this.visualMapModel.getValueState(b),g.add(new q.Text({style:{x:"right"===h?-d:n[0]+d,y:n[1]/2,text:e.text,textVerticalAlign:"middle",textAlign:h,textFont:f,fill:k,opacity:"outOfRange"===b?.5:1}})));a.add(g)},this);r&&this._renderEndsText(a,r[1],n,z,h);l.box(c.get("orient"),a,c.get("itemGap"));this.renderBackground(a);this.positionGroup(a)},_enableHoverLink:function(a,c){function d(a){var b=this.visualMapModel;b.option.hoverLink&&this.api.dispatchAction({type:a,batch:f.convertDataIndex(b.findTargetDataIndices(c))})}a.on("mouseover",m.bind(d,this,"highlight")).on("mouseout",m.bind(d,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,c=a.option;if("vertical"===c.orient)return f.getItemAlign(a,this.api,a.itemSize);(a=c.align)&&"auto"!==a||(a="left");return a},_renderEndsText:function(a,c,d,b,f){if(c){var e=new q.Group,g=this.visualMapModel.textStyleModel;e.add(new q.Text({style:{x:b?"right"===f?d[0]:0:d[0]/2,y:d[1]/2,textVerticalAlign:"middle",textAlign:b?f:"center",text:c,textFont:g.getFont(),fill:g.getTextColor()}}));a.add(e)}},_getViewData:function(){var a=this.visualMapModel,c=m.map(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),d=a.get("text"),b=a.get("orient"),a=a.get("inverse");("horizontal"===b?a:!a)?c.reverse():d&&(d=d.slice().reverse());return{viewPieceList:c,endsText:d}},_createItemSymbol:function(a,c,d){a.add(k.createSymbol(this.getControllerVisual(c,"symbol"),d[0],d[1],d[2],d[3],this.getControllerVisual(c,"color")))},_onItemClick:function(a){var c=this.visualMapModel,d=c.option,b=m.clone(d.selected),e=c.getSelectedMapKey(a);"single"===d.selectedMode?(b[e]=!0,m.each(b,function(a,c){b[c]=c===e})):b[e]=!b[e];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:b})}});r.exports=a},function(r,n,a){a(392);a(394);a(1).registerPreprocessor(function(a){a.markPoint=a.markPoint||{}})},function(r,n,a){r.exports=a(393).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(r,n,a){function m(a){q.defaultEmphasis(a.label,q.LABEL_OPTIONS)}var q=a(5),k=a(4),l=a(2);n=a(6);var f=n.addCommas,e=n.encodeHTML;a=a(1).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,d,b,e){if("marker"===this.type)throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,b);this.mergeOption(a,b,e.createdBySelf,!0)},isAnimationEnabled:function(){if(l.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,d,b,e){var c=this.constructor,f=this.mainType+"Model";b||d.eachSeries(function(a){var b=a.get(this.mainType),g=a[f];b&&b.data?(g?g.mergeOption(b,d,!0):(e&&m(b),k.each(b.data,function(a){a instanceof Array?(m(a[0]),m(a[1])):m(a)}),g=new c(b,this,d),k.extend(g,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),g.__hostSeries=a),a[f]=g):a[f]=null},this)},formatTooltip:function(a){var c=this.getData(),b=this.getRawValue(a),g=k.isArray(b)?k.map(b,f).join(", "):f(b);a=c.getName(a);c=e(this.name);if(null!=b||a)c+="\x3cbr /\x3e";a&&(c+=e(a),null!=b&&(c+=" : "));null!=b&&(c+=e(g));return c},getData:function(){return this._data},setData:function(a){this._data=a}});k.mixin(a,q.dataFormatMixin);r.exports=a},function(r,n,a){function m(a,b,c){var d=b.coordinateSystem;a.each(function(e){var g=a.getItemModel(e),h,k=f.parsePercent(g.get("x"),c.getWidth()),g=f.parsePercent(g.get("y"),c.getHeight());if(!isNaN(k)&&!isNaN(g))h=[k,g];else if(b.getMarkerPosition)h=b.getMarkerPosition(a.getValues(a.dimensions,e));else if(d){h=a.get(d.dimensions[0],e);var l=a.get(d.dimensions[1],e);h=d.dataToPoint([h,l])}isNaN(k)||(h[0]=k);isNaN(g)||(h[1]=g);a.setItemLayout(e,h)})}function q(a,b,f){var d;d=a?l.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}):[{name:"value",type:"float"}];d=new e(d,f);f=l.map(f.get("data"),l.curry(c.dataTransform,b));a&&(f=l.filter(f,l.curry(c.dataFilter,a)));d.initData(f,null,a?c.dimValueGetter:function(a){return a.value});return d}var k=a(116),l=a(4),f=a(7),e=a(98),c=a(395);a(396).extend({type:"markPoint",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markPointModel;b&&(m(b.getData(),a,c),this.markerGroupMap.get(a.id).updateLayout(b))},this)},renderSeries:function(a,b,c,e){c=a.coordinateSystem;var d=a.id,f=a.getData(),g=this.markerGroupMap,d=g.get(d)||g.set(d,new k),l=q(c,a,b);b.setData(l);m(b.getData(),a,e);l.each(function(a){var c=l.getItemModel(a),d=c.getShallow("symbolSize");"function"===typeof d&&(d=d(b.getRawValue(a),b.getDataParams(a)));l.setItemVisual(a,{symbolSize:d,color:c.get("itemStyle.normal.color")||f.getVisual("color"),symbol:c.getShallow("symbol")})});d.updateData(l);this.group.add(d.group);l.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})});d.__keep=!0;d.group.silent=b.get("silent")||a.get("silent")}})},function(r,n,a){function m(a,b,e,f,h,l){var d=[];a=c(b,f,a);a=b.indicesOfNearest(f,a,!0)[0];d[h]=b.get(e,a,!0);d[l]=b.get(f,a,!0);e=-1;do e=Math.max(k.getPrecision(b.get(f,a)),e),b=b.stackedOn;while(b);f=e;0<=f&&(d[l]=+d[l].toFixed(f));return d}var q=a(4),k=a(7),l=q.indexOf;n=q.curry;var f={min:n(m,"min"),max:n(m,"max"),average:n(m,"average")},e=function(a,b,c,e){var d={};null!=a.valueIndex||null!=a.valueDim?(d.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,d.valueAxis=c.getAxis(e.dataDimToCoordDim(d.valueDataDim)),d.baseAxis=c.getOtherAxis(d.valueAxis),d.baseDataDim=e.coordDimToDataDim(d.baseAxis.dim)[0]):(d.baseAxis=e.getBaseAxis(),d.valueAxis=c.getOtherAxis(d.baseAxis),d.baseDataDim=e.coordDimToDataDim(d.baseAxis.dim)[0],d.valueDataDim=e.coordDimToDataDim(d.valueAxis.dim)[0]);return d},c=function(a,b,c){if("average"===c){var d=0,e=0;a.each(b,function(a,b){isNaN(a)||(d+=a,e++)},!0);return d/e}return a.getDataExtent(b,!0)["max"===c?1:0]};r.exports={dataTransform:function(a,b){var d=a.getData(),k=a.coordinateSystem,h;if(h=b)h=b,h=!(!isNaN(parseFloat(h.x))&&!isNaN(parseFloat(h.y)));if(h&&!q.isArray(b.coord)&&k)if(h=k.dimensions,k=e(b,d,k,a),b=q.clone(b),b.type&&f[b.type]&&k.baseAxis&&k.valueAxis){var m=l(h,k.baseAxis.dim);h=l(h,k.valueAxis.dim);b.coord=f[b.type](d,k.baseDataDim,k.valueDataDim,m,h);b.value=b.coord[h]}else{k=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis];for(m=0;2>m;m++)if(f[k[m]]){var n=a.coordDimToDataDim(h[m])[0];k[m]=c(d,n,k[m])}b.coord=k}return b},dataFilter:function(a,b){var c;if(c=a&&a.containData&&b.coord)c=!(!isNaN(parseFloat(b.x))||!isNaN(parseFloat(b.y)));return c?a.containData(b.coord):!0},dimValueGetter:function(a,b,c,e){return 2>e?a.coord&&a.coord[e]:a.value},getAxisInfo:e,numCalculate:c}},function(r,n,a){var m=a(4);r.exports=a(1).extendComponentView({type:"marker",init:function(){this.markerGroupMap=m.createHashMap()},render:function(a,k,l){a=this.markerGroupMap;a.each(function(a){a.__keep=!1});var f=this.type+"Model";k.eachSeries(function(a){var c=a[f];c&&this.renderSeries(a,c,k,l)},this);a.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}})},function(r,n,a){a(398);a(399);a(1).registerPreprocessor(function(a){a.markLine=a.markLine||{}})},function(r,n,a){r.exports=a(393).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(r,n,a){function m(a){return!isNaN(a)&&!isFinite(a)}function q(a,b,c,d){var e=1-a,f=d.dimensions[a];return m(b[e])&&m(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function k(a,c){if("cartesian2d"===a.type){var d=c[0].coord,e=c[1].coord;if(d&&e&&(q(1,d,e,a)||q(0,d,e,a)))return!0}return b.dataFilter(a,c[0])&&b.dataFilter(a,c[1])}function l(a,b,c,e,f){var g=e.coordinateSystem,h=a.getItemModel(b),k=d.parsePercent(h.get("x"),f.getWidth());f=d.parsePercent(h.get("y"),f.getHeight());if(isNaN(k)||isNaN(f)){e.getMarkerPosition?h=e.getMarkerPosition(a.getValues(a.dimensions,b)):(e=g.dimensions,h=a.get(e[0],b),e=a.get(e[1],b),h=g.dataToPoint([h,e]));if("cartesian2d"===g.type){var l=g.getAxis("x"),p=g.getAxis("y");e=g.dimensions;m(a.get(e[0],b))?h[0]=l.toGlobalCoord(l.getExtent()[c?0:1]):m(a.get(e[1],b))&&(h[1]=p.toGlobalCoord(p.getExtent()[c?0:1]))}isNaN(k)||(h[0]=k);isNaN(f)||(h[1]=f)}else h=[k,f];a.setItemLayout(b,h)}function f(a,d,f){var g;g=a?e.map(a&&a.dimensions,function(a){var b=d.getData().getDimensionInfo(d.coordDimToDataDim(a)[0])||{};b.name=a;return b}):[{name:"value",type:"float"}];var h=new c(g,f);g=new c(g,f);var l=new c([],f);f=e.map(f.get("data"),e.curry(p,d,a,f));a&&(f=e.filter(f,e.curry(k,a)));a=a?b.dimValueGetter:function(a){return a.value};h.initData(e.map(f,function(a){return a[0]}),null,a);g.initData(e.map(f,function(a){return a[1]}),null,a);l.initData(e.map(f,function(a){return a[2]}));l.hasItemOption=!0;return{from:h,to:g,line:l}}var e=a(4),c=a(98),d=a(7),b=a(395),g=a(210),p=function(a,c,d,f){var g=a.getData(),h=f.type;if(!e.isArray(f)&&("min"===h||"max"===h||"average"===h||null!=f.xAxis||null!=f.yAxis)){var k;null!=f.yAxis||null!=f.xAxis?(k=null!=f.yAxis?"y":"x",c.getAxis(k),c=e.retrieve(f.yAxis,f.xAxis)):(k=b.getAxisInfo(f,g,c,a).valueDataDim,c=b.numCalculate(g,k,h));k="x"===k?0:1;var l=1-k,g=e.clone(f),m={};g.type=null;g.coord=[];m.coord=[];g.coord[l]=-Infinity;m.coord[l]=Infinity;d=d.get("precision");0<=d&&"number"===typeof c&&(c=+c.toFixed(d));g.coord[k]=m.coord[k]=c;f=[g,m,{type:h,valueIndex:f.valueIndex,value:c}]}f=[b.dataTransform(a,f[0]),b.dataTransform(a,f[1]),e.extend({},f[2])];f[2].type=f[2].type||"";e.merge(f[2],f[0]);e.merge(f[2],f[1]);return f};a(396).extend({type:"markLine",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=b.getData(),e=b.__from,f=b.__to;e.each(function(b){l(e,b,!0,a,c);l(f,b,!1,a,c)});d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])});this.markerGroupMap.get(a.id).updateLayout()}},this)},renderSeries:function(a,b,c,d){function h(b,c,e){var f=b.getItemModel(c);l(b,c,e,a,d);b.setItemVisual(c,{symbolSize:f.get("symbolSize")||w[e?0:1],symbol:f.get("symbol",!0)||t[e?0:1],color:f.get("itemStyle.normal.color")||m.getVisual("color")})}c=a.coordinateSystem;var k=a.id,m=a.getData(),p=this.markerGroupMap,k=p.get(k)||p.set(k,new g);this.group.add(k.group);c=f(c,a,b);var n=c.from,q=c.to,r=c.line;b.__from=n;b.__to=q;b.setData(r);var t=b.get("symbol"),w=b.get("symbolSize");e.isArray(t)||(t=[t,t]);"number"===typeof w&&(w=[w,w]);c.from.each(function(a){h(n,a,!0);h(q,a,!1)});r.each(function(a){var b=r.getItemModel(a).get("lineStyle.normal.color");r.setItemVisual(a,{color:b||n.getItemVisual(a,"color")});r.setItemLayout(a,[n.getItemLayout(a),q.getItemLayout(a)]);r.setItemVisual(a,{fromSymbolSize:n.getItemVisual(a,"symbolSize"),fromSymbol:n.getItemVisual(a,"symbol"),toSymbolSize:q.getItemVisual(a,"symbolSize"),toSymbol:q.getItemVisual(a,"symbol")})});k.updateData(r);c.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})});k.__keep=!0;k.group.silent=b.get("silent")||a.get("silent")}})},function(r,n,a){a(401);a(402);a(1).registerPreprocessor(function(a){a.markArea=a.markArea||{}})},function(r,n,a){r.exports=a(393).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(r,n,a){function m(a){return!isNaN(a)&&!isFinite(a)}function q(a,b){var c=b.coord[0],d=b.coord[1];if("cartesian2d"===a.type){var e;if(e=c&&d)(e=m(c[0])&&m(d[0]))||(e=m(c[1])&&m(d[1]));if(e)return!0}return g.dataFilter(a,{coord:c,x:b.x0,y:b.y0})||g.dataFilter(a,{coord:d,x:b.x1,y:b.y1})}function k(a,b,d,e,f){var g=e.coordinateSystem,h=a.getItemModel(b),k=c.parsePercent(h.get(d[0]),f.getWidth());f=c.parsePercent(h.get(d[1]),f.getHeight());if(isNaN(k)||isNaN(f)){if(e.getMarkerPosition)e=e.getMarkerPosition(a.getValues(d,b));else{var h=a.get(d[0],b),l=a.get(d[1],b);e=g.dataToPoint([h,l],!0)}if("cartesian2d"===g.type){var p=g.getAxis("x"),g=g.getAxis("y"),h=a.get(d[0],b),l=a.get(d[1],b);m(h)?e[0]=p.toGlobalCoord(p.getExtent()["x0"===d[0]?0:1]):m(l)&&(e[1]=g.toGlobalCoord(g.getExtent()["y0"===d[1]?0:1]))}isNaN(k)||(e[0]=k);isNaN(f)||(e[1]=f)}else e=[k,f];return e}function l(a,b,c){var d,g;g=["x0","y0","x1","y1"];a?(d=f.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}),g=new e(f.map(g,function(a,b){return{name:a,type:d[b%2].type}}),c)):(d=[{name:"value",type:"float"}],g=new e(d,c));c=f.map(c.get("data"),f.curry(p,b,a,c));a&&(c=f.filter(c,f.curry(q,a)));g.initData(c,null,a?function(a,b,c,d){return a.coord[Math.floor(d/2)][d%2]}:function(a){return a.value});g.hasItemOption=!0;return g}var f=a(4),e=a(98),c=a(7),d=a(18),b=a(31),g=a(395),p=function(a,b,c,d){b=g.dataTransform(a,d[0]);a=g.dataTransform(a,d[1]);d=f.retrieve;c=b.coord;var e=a.coord;c[0]=d(c[0],-Infinity);c[1]=d(c[1],-Infinity);e[0]=d(e[0],Infinity);e[1]=d(e[1],Infinity);d=f.mergeAll([{},b,a]);d.coord=[b.coord,a.coord];d.x0=b.x;d.y0=b.y;d.x1=a.x;d.y1=a.y;return d},h=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];a(396).extend({type:"markArea",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markAreaModel;if(b){var d=b.getData();d.each(function(b){var e=f.map(h,function(e){return k(d,b,e,a,c)});d.setItemLayout(b,e);d.getItemGraphicEl(b).setShape("points",e)})}},this)},renderSeries:function(a,c,e,g){e=a.coordinateSystem;var m=a.name,p=a.getData(),n=this.markerGroupMap,q=n.get(m)||n.set(m,{group:new d.Group});this.group.add(q.group);q.__keep=!0;var r=l(e,a,c);c.setData(r);r.each(function(b){r.setItemLayout(b,f.map(h,function(c){return k(r,b,c,a,g)}));r.setItemVisual(b,{color:p.getVisual("color")})});r.diff(q.__data).add(function(a){var b=new d.Polygon({shape:{points:r.getItemLayout(a)}});r.setItemGraphicEl(a,b);q.group.add(b)}).update(function(a,b){var e=q.__data.getItemGraphicEl(b);d.updateProps(e,{shape:{points:r.getItemLayout(a)}},c,a);q.group.add(e);r.setItemGraphicEl(a,e)}).remove(function(a){a=q.__data.getItemGraphicEl(a);q.group.remove(a)}).execute();r.eachItemGraphicEl(function(a,e){var g=r.getItemModel(e),h=g.getModel("label.normal"),k=g.getModel("label.emphasis"),l=r.getItemVisual(e,"color");a.useStyle(f.defaults(g.getModel("itemStyle.normal").getItemStyle(),{fill:b.modifyAlpha(l,.4),stroke:l}));a.hoverStyle=g.getModel("itemStyle.normal").getItemStyle();g=r.getName(e)||"";l=l||a.style.fill;h.getShallow("show")?(d.setText(a.style,h,l),a.style.text=f.retrieve(c.getFormattedLabel(e,"normal"),g)):a.style.text="";k.getShallow("show")?(d.setText(a.hoverStyle,k,l),a.hoverStyle.text=f.retrieve(c.getFormattedLabel(e,"emphasis"),g)):a.hoverStyle.text="";d.setHoverStyle(a,{});a.dataModel=c});q.__data=r;q.group.silent=c.get("silent")||a.get("silent")}})},function(r,n,a){a(1).registerPreprocessor(a(404));a(405);a(406);a(407);a(409)},function(r,n,a){function m(a){var f=a.type,e={number:"value",time:"time"};e[f]&&(a.axisType=e[f],delete a.type);q(a);a.hasOwnProperty("controlPosition")&&(f=a.controlStyle||(a.controlStyle={}),f.hasOwnProperty("position")||(f.position=a.controlPosition),"none"!==f.position||f.hasOwnProperty("show")||(f.show=!1,delete f.position),delete a.controlPosition);k.each(a.data||[],function(a){k.isObject(a)&&!k.isArray(a)&&(!a.hasOwnProperty("value")&&a.hasOwnProperty("name")&&(a.value=a.name),q(a))})}function q(a){var f=a.itemStyle||(a.itemStyle={}),f=f.emphasis||(f.emphasis={});a=a.label||a.label||{};var e=a.normal||(a.normal={}),c={normal:1,emphasis:1};k.each(a,function(a,b){c[b]||e.hasOwnProperty(b)||(e[b]=a)});f.label&&!a.hasOwnProperty("emphasis")&&(a.emphasis=f.label,delete f.label)}var k=a(4);r.exports=function(a){a=a&&a.timeline;k.isArray(a)||(a=a?[a]:[]);k.each(a,function(a){a&&m(a)})}},function(r,n,a){a(69).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(r,n,a){r=a(1);var m=a(4);r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,k){var l=k.getComponent("timeline");l&&null!=a.currentIndex&&(l.setCurrentIndex(a.currentIndex),!l.get("loop",!0)&&l.isIndexMax()&&l.setPlayState(!1));k.resetOption("timeline");return m.defaults({currentIndex:l.option.currentIndex},a)});r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,k){var l=k.getComponent("timeline");l&&null!=a.playState&&l.setPlayState(a.playState)})},function(r,n,a){var m=a(408);n=a(4);a=a(5);m=m.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});n.mixin(m,a.dataFormatMixin);r.exports=m},function(r,n,a){n=a(69);var m=a(98),q=a(4),k=a(5),l=n.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2E3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(a,e,c){this.mergeDefaultAndTheme(a,c);this._initData()},mergeOption:function(a){l.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var e=this._data.count();this.option.loop?a=(a%e+e)%e:(a>=e&&(a=e-1),0>a&&(a=0));this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var a=this.option,e=a.data||[],a=a.axisType,c=this._names=[];if("category"===a){var d=[];q.each(e,function(a,e){var b=k.getDataItemValue(a),f;q.isObject(a)?(f=q.clone(a),f.value=e):f=e;d.push(f);q.isString(b)||null!=b&&!isNaN(b)||(b="");c.push(b+"")});e=d}(this._data=new m([{name:"value",type:{category:"ordinal",time:"time"}[a]||"number"}],this)).initData(e,c)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});r.exports=l},function(r,n,a){function m(a,b,d,e,f,g){var h=b.get("color");f?(f.setColor(h),d.add(f),g&&g.onUpdate(f)):(f=a.get("symbol"),f=c.createSymbol(f,-1,-1,2,2,h),f.setStyle("strokeNoScale",!0),d.add(f),g&&g.onCreate(f));b=b.getItemStyle(["color","symbol","symbolSize"]);f.setStyle(b);e=k.merge({rectHover:!0,z2:100},e,!0);b=a.get("symbolSize");b=b instanceof Array?b.slice():[+b,+b];b[0]/=2;b[1]/=2;e.scale=b;if(d=a.get("symbolOffset"))g=e.position=e.position||[0,0],g[0]+=p.parsePercent(d[0],b[0]),g[1]+=p.parsePercent(d[1],b[1]);a=a.get("symbolRotate");e.rotation=(a||0)*Math.PI/180||0;f.attr(e);f.updateTransform();return f}function q(a,b,c,d,e){if(!a.dragging){var f=d.getModel("checkpointStyle");b=c.dataToCoord(d.getData().get(["value"],b));e||!f.get("animation",!0)?a.attr({position:[b,0]}):(a.stopAnimation(!0),a.animateTo({position:[b,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}var k=a(4),l=a(18),f=a(71);n=a(410);var e=a(411),c=a(111),d=a(101),b=a(9),g=a(11),p=a(7),h=a(6).encodeHTML,t=k.bind,w=k.each,z=Math.PI;r.exports=n.extend({type:"timeline.slider",init:function(a,b){this.api=b},render:function(a,b,c,d){this.model=a;this.api=c;this.ecModel=b;this.group.removeAll();if(a.get("show",!0)){var e=this._layout(a,c),f=this._createGroup("mainGroup");b=this._createGroup("labelGroup");var g=this._axis=this._createAxis(e,a);a.formatTooltip=function(a){return h(g.scale.getLabel(a))};w(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](e,f,g,a)},this);this._renderAxisLabel(e,b,g,a);this._position(e,a)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var c=a.get("label.normal.position"),d=a.get("orient"),e;e=f.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"));null==c||"auto"===c?c="horizontal"===d?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]);var g={horizontal:"center",vertical:0<=c||"+"===c?"left":"right"},h={horizontal:0<=c||"+"===c?"top":"bottom",vertical:"middle"},k={horizontal:0,vertical:z/2},l="vertical"===d?e.height:e.width,m=a.getModel("controlStyle"),p=m.get("show"),n=p?m.get("itemSize"):0,q=p?m.get("itemGap"):0,r=n+q,t=a.get("label.normal.rotate")||0,t=t*z/180,u,v,w,O=m.get("position",!0),Q=(p=m.get("show",!0))&&m.get("showPlayBtn",!0),T=p&&m.get("showPrevBtn",!0),m=p&&m.get("showNextBtn",!0),p=0,P=l;"left"===O||"bottom"===O?(Q&&(u=[0,0],p+=r),T&&(v=[p,0],p+=r)):(Q&&(u=[P-n,0],P-=r),T&&(v=[0,0],p+=r));m&&(w=[P-n,0],P-=r);r=[p,P];a.get("inverse")&&r.reverse();return{viewRect:e,mainLength:l,orient:d,rotation:k[d],labelRotation:t,labelPosOpt:c,labelAlign:a.get("label.normal.textStyle.align")||g[d],labelBaseline:a.get("label.normal.textStyle.baseline")||h[d],playPosition:u,prevBtnPosition:v,nextBtnPosition:w,axisExtent:r,controlSize:n,controlGap:q}},_position:function(a,b){function c(a){var b=a.position;a.origin=[n[0][0]-b[0],n[1][0]-b[1]]}function d(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function e(a,b,c,d,e){a[d]+=c[d][e]-b[d][e]}var f=this._mainGroup,h=this._labelGroup,k=a.viewRect;if("vertical"===a.orient){var l=g.create(),m=k.x,p=k.y+k.height;g.translate(l,l,[-m,-p]);g.rotate(l,l,-z/2);g.translate(l,l,[m,p]);k=k.clone();k.applyTransform(l)}var n=d(k),k=d(f.getBoundingRect()),l=d(h.getBoundingRect()),m=f.position,p=h.position;p[0]=m[0]=n[0][0];var q=a.labelPosOpt;isNaN(q)?(q="+"===q?0:1,e(m,k,n,1,q),e(p,l,n,1,1-q)):(e(m,k,n,1,0<=q?0:1),p[1]=m[1]+q);f.attr("position",m);h.attr("position",p);f.rotation=h.rotation=a.rotation;c(f);c(h)},_createAxis:function(a,b){var c=b.getData(),f=b.get("axisType"),g=d.createScaleByModel(b,f),h=c.getDataExtent("value");g.setExtent(h[0],h[1]);this._customizeScale(g,c);g.niceTicks();c=new e("value",g,a.axisExtent,f);c.model=b;return c},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(a){return a})};a.getTicksLabels=function(){return k.map(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){a=this["_"+a]=new l.Group;this.group.add(a);return a},_renderAxisLine:function(a,b,c,d){a=c.getExtent();d.get("lineStyle.show")&&b.add(new l.Line({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:k.extend({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var e=d.getData();a=c.scale.getTicks();w(a,function(a,f){var g=c.dataToCoord(a),h=e.getItemModel(f),k=h.getModel("itemStyle.normal"),p=h.getModel("itemStyle.emphasis"),g={position:[g,0],onclick:t(this._changeTimeline,this,f)},k=m(h,k,b,g);l.setHoverStyle(k,p.getItemStyle());h.get("tooltip")?(k.dataIndex=f,k.dataModel=d):k.dataIndex=k.dataModel=null},this)},_renderAxisLabel:function(a,b,c,e){var f=e.getModel("label.normal");if(f.get("show")){var g=e.getData();e=c.scale.getTicks();var h=d.getFormattedLabels(c,f.get("formatter")),k=c.getLabelInterval();w(e,function(d,e){if(!c.isLabelIgnored(e,k)){var f=g.getItemModel(e),m=f.getModel("label.normal.textStyle"),f=f.getModel("label.emphasis.textStyle"),p=c.dataToCoord(d),m=new l.Text({style:{text:h[e],textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline,textFont:m.getFont(),fill:m.getTextColor()},position:[p,0],rotation:a.labelRotation-a.rotation,onclick:t(this._changeTimeline,this,e),silent:!1});b.add(m);l.setHoverStyle(m,f.getItemStyle())}},this)}},_renderControl:function(a,c,d,e){function f(a,d,f,q){if(a){var r=n;a={position:a,origin:[g/2,0],rotation:q?-h:0,rectHover:!0,style:m,onclick:f};d=l.makePath(e.get(d).replace(/^path:\/\//,""),k.clone(a||{}),new b(r[0],r[1],r[2],r[3]),"center");c.add(d);l.setHoverStyle(d,p)}}var g=a.controlSize,h=a.rotation,m=e.getModel("controlStyle.normal").getItemStyle(),p=e.getModel("controlStyle.emphasis").getItemStyle(),n=[0,-g/2,g,g];d=e.getPlayState();var q=e.get("inverse",!0);f(a.nextBtnPosition,"controlStyle.nextIcon",t(this._changeTimeline,this,q?"-":"+"));f(a.prevBtnPosition,"controlStyle.prevIcon",t(this._changeTimeline,this,q?"+":"-"));f(a.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),t(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(a,b,c,d){a=d.getData();var e=d.getCurrentIndex();a=a.getItemModel(e).getModel("checkpointStyle");var f=this;this._currentPointer=m(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(a){a.draggable=!0;a.drift=t(f._handlePointerDrag,f);a.ondragend=t(f._handlePointerDragend,f);q(a,e,c,d,!0)},onUpdate:function(a){q(a,e,c,d)}})},_handlePlayClick:function(a){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer();this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){var c=this._toAxisCoord(a)[0],d=p.asc(this._axis.getExtent().slice());c>d[1]&&(c=d[1]);c<d[0]&&(c=d[0]);this._currentPointer.position[0]=c;this._currentPointer.dirty();c=this._findNearestTick(c);d=this.model;(b||c!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(c)},_doPlayStop:function(){function a(){var a=this.model;this._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(t(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return l.applyTransform(a,b,!0)},_findNearestTick:function(a){var b=this.model.getData(),c=Infinity,d,e=this._axis;b.each(["value"],function(b,f){var g=e.dataToCoord(b),g=Math.abs(g-a);g<c&&(c=g,d=f)});return d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1);this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}})},function(r,n,a){n=a(79);r.exports=n.extend({type:"timeline"})},function(r,n,a){var m=a(4),q=a(100),k=a(101);n=function(a,f,e,c){q.call(this,a,f,e);this.type=c||"value";this.model=null};n.prototype={constructor:n,getLabelInterval:function(){var a=this.model,f=a.getModel("label.normal"),e=f.get("interval");if(null!=e&&"auto"!=e)return e;e=this._autoLabelInterval;e||(e=this._autoLabelInterval=k.getAxisLabelInterval(m.map(this.scale.getTicks(),this.dataToCoord,this),k.getFormattedLabels(this,f.get("formatter")),f.getModel("textStyle").getFont(),"horizontal"===a.get("orient")));return e},isLabelIgnored:function(a){if("category"===this.type){var f=this.getLabelInterval();return"function"===typeof f&&!f(a,this.scale.getLabel(a))||a%(f+1)}}};m.inherits(n,q);r.exports=n},function(r,n,a){a(413);a(414);a(415);a(416);a(417);a(418);a(423)},function(r,n,a){var m=a(357),q=a(4),k=a(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(a){k.superApply(this,"mergeDefaultAndTheme",arguments);q.each(this.option.feature,function(a,e){var c=m.get(e);c&&q.merge(a,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});r.exports=k},function(r,n,a){(function(m){var n=a(357),k=a(4),l=a(18),f=a(12),e=a(99),c=a(325),d=a(8);r.exports=a(1).extendComponentView({type:"toolbox",render:function(a,g,m,h){function b(b,c){var d=y[b],e=y[c],k=new f(u[d],a,a.ecModel),l;if(d&&!e){if(0===d.indexOf("my"))l={model:k,onclick:k.option.onclick,featureName:d};else{l=n.get(d);if(!l)return;l=new l(k,g,m)}x[d]=l}else{l=x[e];if(!l)return;l.model=k;l.ecModel=g;l.api=m}!d&&e?l.dispose&&l.dispose(g,m):!k.get("show")||l.unusable?l.remove&&l.remove(g,m):(p(k,l,d),k.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{};c.iconStatus[a]=b;d[a]&&d[a].trigger(b)},l.render&&l.render(k,g,m,h))}function p(b,c,d){var e=b.getModel("iconStyle"),f=c.getIcons?c.getIcons():b.get("icon"),h=b.get("title")||{};if("string"===typeof f){var p=f,n=h,f={},h={};f[d]=p;h[d]=n}var t=b.iconPaths={};k.each(f,function(d,f){var p=e.getModel("normal").getItemStyle(),n=e.getModel("emphasis").getItemStyle(),u={x:-r/2,y:-r/2,width:r,height:r},v=0===d.indexOf("image://")?(u.image=d.slice(8),new l.Image({style:u})):l.makePath(d.replace("path://",""),{style:p,hoverStyle:n,rectHover:!0},u,"center");l.setHoverStyle(v);a.get("showTitle")&&(v.__title=h[f],v.on("mouseover",function(){var a=e.getModel("emphasis").getItemStyle();v.setStyle({text:h[f],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){v.setStyle({textFill:null})}));v.trigger(b.get("iconStatus."+f)||"normal");q.add(v);v.on("click",k.bind(c.onclick,c,g,m,f));t[f]=v})}var q=this.group;q.removeAll();if(a.get("show")){var r=+a.get("itemSize"),u=a.get("feature")||{},x=this._features||(this._features={}),y=[];k.each(u,function(a,b){y.push(b)});(new e(this._featureNames||[],y)).add(b).update(b).remove(k.curry(b,null)).execute();this._featureNames=y;c.layout(q,a,m);c.addBackground(q,a);q.eachChild(function(a){var b=a.__title,c=a.hoverStyle;if(c&&b){var b=d.getBoundingRect(b,c.font),e=a.position[0]+q.position[0],f=!1;a.position[1]+q.position[1]+r+b.height>m.getHeight()&&(c.textPosition="top",f=!0);a=f?-5-b.height:r+8;e+b.width/2>m.getWidth()?(c.textPosition=["100%",a],c.textAlign="right"):0>e-b.width/2&&(c.textPosition=[0,a],c.textAlign="left")}})}},updateView:function(a,c,d,e){k.each(this._features,function(a){a.updateView&&a.updateView(a.model,c,d,e)})},updateLayout:function(a,c,d,e){k.each(this._features,function(a){a.updateLayout&&a.updateLayout(a.model,c,d,e)})},remove:function(a,c){k.each(this._features,function(b){b.remove&&b.remove(a,c)});this.group.removeAll()},dispose:function(a,c){k.each(this._features,function(b){b.dispose&&b.dispose(a,c)})}})}).call(n,a(310))},function(r,n,a){function m(a){this.model=a}var q=a(2);m.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]};m.prototype.unusable=!q.canvasSupported;m.prototype.onclick=function(a,l){var f=this.model,e=f.get("name")||a.get("title.0.text")||"echarts",c=document.createElement("a"),d=f.get("type",!0)||"png";c.download=e+"."+d;c.target="_blank";e=l.getConnectedDataURL({type:d,backgroundColor:f.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:f.get("excludeComponents"),pixelRatio:f.get("pixelRatio")});c.href=e;"function"!==typeof MouseEvent||q.browser.ie||q.browser.edge?(c=f.get("lang"),c='\x3cbody style\x3d"margin:0;"\x3e\x3cimg src\x3d"'+e+'" style\x3d"max-width:100%;" title\x3d"'+(c&&c[0]||"")+'" /\x3e\x3c/body\x3e',window.open().document.write(c)):(f=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),c.dispatchEvent(f))};a(357).register("saveAsImage",m);r.exports=m},function(r,n,a){function m(a){this.model=a}var q=a(4);m.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"},option:{},seriesIndex:{}};n=m.prototype;n.getIcons=function(){var a=this.model,e=a.get("icon"),c={};q.each(a.get("type"),function(a){e[a]&&(c[a]=e[a])});return c};var k={line:function(a,e,c,d){if("bar"===a)return q.merge({id:e,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.line")||{},!0)},bar:function(a,e,c,d){if("line"===a)return q.merge({id:e,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.bar")||{},!0)},stack:function(a,e,c,d){if("line"===a||"bar"===a)return q.merge({id:e,stack:"__ec_magicType_stack__"},d.get("option.stack")||{},!0)},tiled:function(a,e,c,d){if("line"===a||"bar"===a)return q.merge({id:e,stack:""},d.get("option.tiled")||{},!0)}},l=[["line","bar"],["stack","tiled"]];n.onclick=function(a,e,c){var d=this.model,b=d.get("seriesIndex."+c);if(k[c]){var f={series:[]};q.each(l,function(a){0<=q.indexOf(a,c)&&q.each(a,function(a){d.setIconStatus(a,"normal")})});d.setIconStatus(c,"emphasis");a.eachComponent({mainType:"series",query:null==b?null:{seriesIndex:b}},function(b){var e=k[c](b.subType,b.id,b,d);e&&(q.defaults(e,b.option),f.series.push(e));if((e=b.coordinateSystem)&&"cartesian2d"===e.type&&("line"===c||"bar"===c)&&(e=e.getAxesByScale("ordinal")[0])){e=e.dim+"Axis";b=a.queryComponents({mainType:e,index:b.get(name+"Index"),id:b.get(name+"Id")})[0].componentIndex;f[e]=f[e]||[];for(var g=0;g<=b;g++)f[e][b]=f[e][b]||{};f[e][b].boundaryGap="bar"===c?!0:!1}});e.dispatchAction({type:"changeMagicType",currentType:c,newOption:f})}};a(1).registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,e){e.mergeOption(a.newOption)});a(357).register("magicType",m);r.exports=m},function(r,n,a){function m(a){var b={},c=[],d=[];a.eachRawSeries(function(a){var e=a.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)c.push(a);else{var f=e.getBaseAxis();if("category"===f.type){var g=f.dim+"_"+f.index;b[g]||(b[g]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},d.push({axisDim:f.dim,axisIndex:f.index}));b[g].series.push(a)}else c.push(a)}});return{seriesGroupByCategoryAxis:b,other:c,meta:d}}function q(a){var b=[];g.each(a,function(a,c){var d=a.categoryAxis,e=a.valueAxis.dim,f=[" "].concat(g.map(a.series,function(a){return a.name})),h=[d.model.getCategories()];g.each(a.series,function(a){h.push(a.getRawData().mapArray(e,function(a){return a}))});d=[f.join("\t")];for(f=0;f<h[0].length;f++){for(var k=[],l=0;l<h.length;l++)k.push(h[l][f]);d.push(k.join("\t"))}b.push(d.join("\n"))});return b.join("\n\n"+h+"\n\n")}function k(a){return g.map(a,function(a){var b=a.getRawData(),c=[a.name],d=[];b.each(b.dimensions,function(){for(var a=arguments.length,e=b.getName(arguments[a-1]),f=0;f<a-1;f++)d[f]=arguments[f];c.push((e?e+"\t":"")+d.join("\t"))});return c.join("\n")}).join("\n\n"+h+"\n\n")}function l(a){a=m(a);return{value:g.filter([q(a.seriesGroupByCategoryAxis),k(a.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+h+"\n\n"),meta:a.meta}}function f(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function e(a){a=a.split(/\n+/g);for(var b=f(a.shift()).split(t),c=[],b=g.map(b,function(a){return{name:a,data:[]}}),d=0;d<a.length;d++){var e=f(a[d]).split(t);c.push(e.shift());for(var h=0;h<e.length;h++)b[h]&&(b[h].data[d]=e[h])}return{series:b,categories:c}}function c(a,b){var c=a.split(new RegExp("\n*"+h+"\n*","g")),d={series:[]};g.each(c,function(a,c){var g;g=0<=a.slice(0,a.indexOf("\n")).indexOf("\t")?!0:void 0;if(g){g=e(a);var h=b[c],k=h.axisDim+"Axis";h&&(d[k]=d[k]||[],d[k][h.axisIndex]={data:g.categories},d.series=d.series.concat(g.series))}else{g=a.split(/\n+/g);for(var h=f(g.shift()),k=[],l=0;l<g.length;l++){var m=f(g[l]).split(t),p,n=!1;isNaN(m[0])?(n=!0,p=m[0],m=m.slice(1),k[l]={name:p,value:[]},p=k[l].value):p=k[l]=[];for(var q=0;q<m.length;q++)p.push(+m[q]);1===p.length&&(n?k[l].value=p[0]:k[l]=p[0])}g={name:h,data:k};d.series.push(g)}});return d}function d(a){this._dom=null;this.model=a}function b(a,b){return g.map(a,function(a,c){var d=b&&b[c];return g.isObject(d)&&!g.isArray(d)?(g.isObject(a)&&!g.isArray(a)&&(a=a.value),g.defaults({value:a},d)):a})}var g=a(4),p=a(88),h=Array(60).join("-"),t=RegExp("[\t]+","g");d.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};d.prototype.onclick=function(a,b){function d(){e.removeChild(h);H._dom=null}var e=b.getDom(),f=this.model;this._dom&&e.removeChild(this._dom);var h=document.createElement("div");h.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";h.style.backgroundColor=f.get("backgroundColor")||"#fff";var k=document.createElement("h4"),m=f.get("lang")||[];k.innerHTML=m[0]||f.get("title");k.style.cssText="margin: 10px 20px;";k.style.color=f.get("textColor");var n=document.createElement("div"),q=document.createElement("textarea");n.style.cssText="display:block;width:100%;overflow:auto;";var r=f.get("optionToContent"),t=f.get("contentToOption"),w=l(a);"function"===typeof r?(r=r(b.getOption()),"string"===typeof r?n.innerHTML=r:g.isDom(r)&&n.appendChild(r)):(n.appendChild(q),q.readOnly=f.get("readOnly"),q.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",q.style.color=f.get("textColor"),q.style.borderColor=f.get("textareaBorderColor"),q.style.backgroundColor=f.get("textareaColor"),q.value=w.value);var z=w.meta,w=document.createElement("div");w.style.cssText="position:absolute;bottom:0;left:0;right:0;";var r="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",F=document.createElement("div"),J=document.createElement("div"),r=r+(";background-color:"+f.get("buttonColor")),r=r+(";color:"+f.get("buttonTextColor")),H=this;p.addEventListener(F,"click",d);p.addEventListener(J,"click",function(){var a;try{a="function"===typeof t?t(n,b.getOption()):c(q.value,z)}catch(I){throw d(),Error("Data view format error "+I);}a&&b.dispatchAction({type:"changeDataView",newOption:a});d()});F.innerHTML=m[1];J.innerHTML=m[2];J.style.cssText=r;F.style.cssText=r;!f.get("readOnly")&&w.appendChild(J);w.appendChild(F);p.addEventListener(q,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+"\t"+b.substring(d);this.selectionStart=this.selectionEnd=c+1;p.stop(a)}});h.appendChild(k);h.appendChild(n);h.appendChild(w);n.style.height=e.clientHeight-80+"px";e.appendChild(h);this._dom=h};d.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)};d.prototype.dispose=function(a,b){this.remove(a,b)};a(357).register("dataView",d);a(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,c){var d=[];g.each(a.newOption.series,function(a){var e=c.getSeriesByName(a.name)[0];e?(e=e.get("data"),d.push({name:a.name,data:b(a.data,e)})):d.push(g.extend({type:"scatter"},a))});c.mergeOption(g.defaults({series:d},a.newOption))});r.exports=d},function(r,n,a){function m(a,b,c){(this._brushController=new f(c.getZr())).on("brush",l.bind(this._onBrush,this)).mount()}function q(a){var b={};l.each(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c];null==b[c]&&(b[c]="all");!1!==b[c]&&"none"!==b[c]||(b[c]=[])});return b}function k(a,b,c,d,f){var g=c._isZoomActive;d&&"takeGlobalCursor"===d.type&&(g="dataZoomSelect"===d.key?d.dataZoomSelectActive:!1);c._isZoomActive=g;a.setIconStatus("zoom",g?"emphasis":"normal");a=new e(q(a.option),b,{include:["grid"]});c._brushController.setPanels(a.makePanelOpts(f,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(g?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}var l=a(4),f=a(245),e=a(352),c=a(419),d=a(239),b=l.each;a(420);m.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}};n=m.prototype;n.render=function(a,b,d,e){this.model=a;this.ecModel=b;this.api=d;k(a,b,this,e,d);a.setIconStatus("back",1<c.count(b)?"emphasis":"normal")};n.onclick=function(a,b,c){g[c].call(this)};n.remove=function(a,b){this._brushController.unmount()};n.dispose=function(a,b){this._brushController.dispose()};var g={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(c.pop(this.ecModel))}};n._onBrush=function(a,b){function f(a,b,c){b=b.getAxis(a);var e=b.model;a=g(a,e,k);e=a.findRepresentativeAxisProxy(e).getMinMaxSpan();if(null!=e.minValueSpan||null!=e.maxValueSpan)c=d(0,c.slice(),b.scale.getExtent(),0,e.minValueSpan,e.maxValueSpan);a&&(h[a.id]={dataZoomId:a.id,startValue:c[0],endValue:c[1]})}function g(a,b,c){var d;c.eachComponent({mainType:"dataZoom",subType:"select"},function(c){c.getAxisModel(a,b.componentIndex)&&(d=c)});return d}if(b.isEnd&&a.length){var h={},k=this.ecModel;this._brushController.updateCovers([]);(new e(q(this.model.option),k,{include:["grid"]})).matchOutputRanges(a,k,function(a,b,c){"cartesian2d"===c.type&&(a=a.brushType,"rect"===a?(f("x",c,b[0]),f("y",c,b[1])):f({lineX:"x",lineY:"y"}[a],c,b))});c.push(k,h);this._dispatchZoomAction(h)}};n._dispatchZoomAction=function(a){var c=[];b(a,function(a,b){c.push(l.clone(a))});c.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:c})};a(357).register("dataZoom",m);a(1).registerPreprocessor(function(a){function c(a,b){if(b){var c=a+"Index",f=b[c];null==f||"all"==f||l.isArray(f)||(f=!1===f||"none"===f?[]:[f]);d(a,function(b,d){if(null==f||"all"==f||-1!==l.indexOf(f,d)){var g={type:"select",$fromToolbox:!0,id:"\x00_ec_\x00toolbox-dataZoom_"+a+d};g[c]=d;e.push(g)}})}}function d(c,d){var e=a[c];l.isArray(e)||(e=e?[e]:[]);b(e,d)}if(a){var e=a.dataZoom||(a.dataZoom=[]);l.isArray(e)||(a.dataZoom=e=[e]);var f=a.toolbox;f&&(l.isArray(f)&&(f=f[0]),f&&f.feature&&(f=f.feature.dataZoom,c("xAxis",f),c("yAxis",f)))}});r.exports=m},function(r,n,a){function m(a){var k=a["\x00_ec_hist_store"];k||(k=a["\x00_ec_hist_store"]=[{}]);return k}var q=a(4).each;r.exports={push:function(a,l){var f=m(a);q(l,function(e,c){for(var d=f.length-1;0<=d&&!f[d][c];d--);0>d&&(d=a.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0])&&(d=d.getPercentRange(),f[0][c]={dataZoomId:c,start:d[0],end:d[1]})});f.push(l)},pop:function(a){var k=m(a);a=k[k.length-1];1<k.length&&k.pop();var f={};q(a,function(a,c){for(var d=k.length-1;0<=d;d--)if(a=k[d][c]){f[c]=a;break}});return f},clear:function(a){a["\x00_ec_hist_store"]=null},count:function(a){return m(a).length}}},function(r,n,a){a(364);a(365);a(368);a(421);a(422);a(374);a(375)},function(r,n,a){n=a(365);r.exports=n.extend({type:"dataZoom.select"})},function(r,n,a){r.exports=a(368).extend({type:"dataZoom.select"})},function(r,n,a){function m(a){this.model=a}var q=a(419);m.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"\u8fd8\u539f"};m.prototype.onclick=function(a,l,f){q.clear(a);l.dispatchAction({type:"restore",from:this.uid})};a(357).register("restore",m);a(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,l){l.resetOption("recreate")});r.exports=m},function(r,n,a){a(425);a(82).registerPainter("vml",a(427))},function(r,n,a){if(!a(2).canvasSupported){var m=a(10),q=a(9),k=a(36).CMD,l=a(31),f=a(8);n=a(35);var e=a(21),c=a(49);r=a(50);var d=a(20),b=a(36),g=a(66),p=a(426),h=Math.round,t=Math.sqrt,w=Math.abs,z=Math.cos,v=Math.sin,u=Math.max,x=m.applyTransform,y=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";a.coordsize="21600,21600";a.coordorigin="0,0"},D=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},A=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},C=function(a,b,c){return 1E5*(parseFloat(a)||0)+1E3*(parseFloat(b)||0)+c},B=function(a,b){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a},L=function(a,b,c){b=l.parse(b);c=+c;isNaN(c)&&(c=1);b&&(a.color="rgb("+[b[0],b[1],b[2]].join()+")",a.opacity=c*b[3])},E=function(a){a=l.parse(a);return["rgb("+[a[0],a[1],a[2]].join()+")",a[3]]},M=function(a,b,c){var d=b.fill;if(null!=d)if(d instanceof g){var e,f=0,h=[0,0],k=0,l=1,m=c.getBoundingRect(),n=m.width,p=m.height;if("linear"===d.type){e="gradient";var q=c.transform,r=[d.x*n,d.y*p],f=[d.x2*n,d.y2*p];q&&(x(r,r,q),x(f,f,q));f=180*Math.atan2(f[0]-r[0],f[1]-r[1])/Math.PI;0>f&&(f+=360);1E-6>f&&(f=0)}else e="gradientradial",r=[d.x*n,d.y*p],q=c.transform,k=c.scale,l=n,h=[(r[0]-m.x)/l,(r[1]-m.y)/p],q&&x(r,r,q),l/=21600*k[0],p/=21600*k[1],l=u(l,p),k=0/l,l=2*d.r/l-k;r=d.colorStops.slice();r.sort(function(a,b){return a.offset-b.offset});m=r.length;q=[];d=[];for(p=0;p<m;p++)n=r[p],c=E(n.color),d.push(n.offset*l+k+" "+c[0]),0!==p&&p!==m-1||q.push(c);2<=m&&(k=q[0][0],l=q[1][0],r=q[0][1]*b.opacity,b=q[1][1]*b.opacity,a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=k,a.color2=l,a.colors=d.join(","),a.opacity=b,a.opacity2=r);"radial"===e&&(a.focusposition=h.join(","))}else L(a,d,b.opacity)},N=function(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof g&&A(a,f),f||(f=p.createNode(b)),e?M(f,c,d):(b=f,null!=c.lineDash&&(b.dashstyle=c.lineDash.join(" ")),null==c.stroke||c.stroke instanceof g||L(b,c.stroke,c.opacity)),D(a,f)):(a[e?"filled":"stroked"]="false",A(a,f))},F=[[],[],[]];d.prototype.brushVML=function(a){var c=this.style,d=this._vmlEl;d||(d=p.createNode("shape"),y(d),this._vmlEl=d);N(d,"fill",c,this);N(d,"stroke",c,this);var e=this.transform,f=null!=e,g=d.getElementsByTagName("stroke")[0];if(g){var l=c.lineWidth;f&&!c.strokeNoScale&&(l*=t(w(e[0]*e[3]-e[1]*e[2])));g.weight=l+"px"}f=this.path||(this.path=new b);this.__dirtyPath&&(f.beginPath(),this.buildPath(f,this.shape),f.toStatic(),this.__dirtyPath=!1);var e=d,f=f.data,g=this.transform,l=k.M,m=k.C,n=k.L,q=k.A,r=k.Q,u=[],A,B,G,E,I,J;for(E=0;E<f.length;){G=f[E++];B="";A=0;switch(G){case l:B=" m ";A=1;I=f[E++];J=f[E++];F[0][0]=I;F[0][1]=J;break;case n:B=" l ";A=1;I=f[E++];J=f[E++];F[0][0]=I;F[0][1]=J;break;case r:case m:B=" c ";A=3;var H=f[E++],O=f[E++],K=f[E++],L=f[E++],M;G===r?(G=K,M=L,K=(K+2*H)/3,L=(L+2*O)/3,H=(I+2*H)/3,O=(J+2*O)/3):(G=f[E++],M=f[E++]);F[0][0]=H;F[0][1]=O;F[1][0]=K;F[1][1]=L;F[2][0]=G;F[2][1]=M;I=G;J=M;break;case q:J=I=0;L=K=1;H=0;g&&(I=g[4],J=g[5],K=t(g[0]*g[0]+g[1]*g[1]),L=t(g[2]*g[2]+g[3]*g[3]),H=Math.atan2(-g[1]/L,g[0]/K));G=f[E++];M=f[E++];var ga=f[E++],ha=f[E++],ia=f[E++]+H,ma=f[E++]+ia+H;E++;var da=f[E++],ea=G+z(ia)*ga,ka=M+v(ia)*ha,H=G+z(ma)*ga,O=M+v(ma)*ha,oa=da?" wa ":" at ";1E-4>Math.abs(ea-H)&&(.01<Math.abs(ma-ia)?da&&(ea+=.0125):1E-4>Math.abs(ka-M)?O=da&&ea<G||!da&&ea>G?O-.0125:O+.0125:H=da&&ka<M||!da&&ka>M?H+.0125:H-.0125);u.push(oa,h(21600*((G-ga)*K+I)-10800),",",h(21600*((M-ha)*L+J)-10800),",",h(21600*((G+ga)*K+I)-10800),",",h(21600*((M+ha)*L+J)-10800),",",h(21600*(ea*K+I)-10800),",",h(21600*(ka*L+J)-10800),",",h(21600*(H*K+I)-10800),",",h(21600*(O*L+J)-10800));I=H;J=O;break;case k.R:H=F[0];O=F[1];H[0]=f[E++];H[1]=f[E++];O[0]=H[0]+f[E++];O[1]=H[1]+f[E++];g&&(x(H,H,g),x(O,O,g));H[0]=h(21600*H[0]-10800);O[0]=h(21600*O[0]-10800);H[1]=h(21600*H[1]-10800);O[1]=h(21600*O[1]-10800);u.push(" m ",H[0],",",H[1]," l ",O[0],",",H[1]," l ",O[0],",",O[1]," l ",H[0],",",O[1]);break;case k.Z:u.push(" x ")}if(0<A)for(u.push(B),B=0;B<A;B++)H=F[B],g&&x(H,H,g),u.push(h(21600*H[0]-10800),",",h(21600*H[1]-10800),B<A-1?",":"")}f=u.join("");e.path=f;d.style.zIndex=C(this.zlevel,this.z,this.z2);D(a,d);null!=c.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)};d.prototype.onRemove=function(a){A(a,this._vmlEl);this.removeRectText(a)};d.prototype.onAdd=function(a){D(a,this._vmlEl);this.appendRectText(a)};c.prototype.brushVML=function(a){var b=this.style,c=b.image,d,e;if("object"===typeof c&&c.tagName&&"IMG"===c.tagName.toUpperCase()){var f=c.src;if(f===this._imageSrc)d=this._imageWidth,e=this._imageHeight;else{var g=c.runtimeStyle,k=g.width,l=g.height;g.width="auto";g.height="auto";d=c.width;e=c.height;g.width=k;g.height=l;this._imageSrc=f;this._imageWidth=d;this._imageHeight=e}c=f}else c===this._imageSrc&&(d=this._imageWidth,e=this._imageHeight);if(c){var m=b.x||0,n=b.y||0,q=b.width,r=b.height,v=b.sWidth,w=b.sHeight,g=b.sx||0,k=b.sy||0,l=v&&w,f=this._vmlEl;f||(f=p.doc.createElement("div"),y(f),this._vmlEl=f);var z=f.style,A=!1,B,E=1,F=1;this.transform&&(B=this.transform,E=t(B[0]*B[0]+B[1]*B[1]),F=t(B[2]*B[2]+B[3]*B[3]),A=B[1]||B[2]);if(A){var G=[m,n],H=[m+q,n],I=[m,n+r],J=[m+q,n+r];x(G,G,B);x(H,H,B);x(I,I,B);x(J,J,B);A=u(G[0],H[0],I[0],J[0]);G=u(G[1],H[1],I[1],J[1]);H=[];H.push("M11\x3d",B[0]/E,",","M12\x3d",B[2]/F,",","M21\x3d",B[1]/E,",","M22\x3d",B[3]/F,",","Dx\x3d",h(m*E+B[4]),",","Dy\x3d",h(n*F+B[5]));z.padding="0 "+h(A)+"px "+h(G)+"px 0";z.filter="progid:DXImageTransform.Microsoft.Matrix("+H.join("")+", SizingMethod\x3dclip)"}else B&&(m=m*E+B[4],n=n*F+B[5]),z.filter="",z.left=h(m)+"px",z.top=h(n)+"px";B=this._imageEl;m=this._cropEl;B||(this._imageEl=B=p.doc.createElement("div"));var O=B.style;if(l){if(d&&e)O.width=h(E*d*q/v)+"px",O.height=h(F*e*r/w)+"px";else{var K=new Image,L=this;K.onload=function(){K.onload=null;d=K.width;e=K.height;O.width=h(E*d*q/v)+"px";O.height=h(F*e*r/w)+"px";L._imageWidth=d;L._imageHeight=e;L._imageSrc=c};K.src=c}m||(m=p.doc.createElement("div"),m.style.overflow="hidden",this._cropEl=m);l=m.style;l.width=h((q+g*q/v)*E);l.height=h((r+k*r/w)*F);l.filter="progid:DXImageTransform.Microsoft.Matrix(Dx\x3d"+-g*q/v*E+",Dy\x3d"+-k*r/w*F+")";m.parentNode||f.appendChild(m);B.parentNode!=m&&m.appendChild(B)}else O.width=h(E*q)+"px",O.height=h(F*r)+"px",f.appendChild(B),m&&m.parentNode&&(f.removeChild(m),this._cropEl=null);B="";g=b.opacity;1>g&&(B+=".Alpha(opacity\x3d"+h(100*g)+") ");O.filter=B+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"+c+", SizingMethod\x3dscale)");f.style.zIndex=C(this.zlevel,this.z,this.z2);D(a,f);null!=b.text&&this.drawRectText(a,this.getBoundingRect())}};c.prototype.onRemove=function(a){A(a,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(a)};c.prototype.onAdd=function(a){D(a,this._vmlEl);this.appendRectText(a)};var J={},H=0,K=document.createElement("div"),I;f.measureText=function(a,b){var c=p.doc;I||(I=c.createElement("div"),I.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",p.doc.body.appendChild(I));try{I.style.font=b}catch(P){}I.innerHTML="";I.appendChild(c.createTextNode(a));return{width:I.offsetWidth}};var G=new q;a=function(a,b,c,d){var e=this.style,g=e.text;null!=g&&(g+="");if(g){var k,l=e.textAlign,m,n=e.textFont;k=J[n];if(!k){100<H&&(H=0,J={});k=K.style;var q;try{k.font=n,q=k.fontFamily.split(",")[0]}catch(ja){}k={style:k.fontStyle||"normal",variant:k.fontVariant||"normal",weight:k.fontWeight||"normal",size:parseFloat(k.fontSize||12)|0,family:q||"Microsoft YaHei"};J[n]=k;H++}m=k;var n=m.style+" "+m.variant+" "+m.weight+" "+m.size+'px "'+m.family+'"',r=e.textBaseline,t=e.textVerticalAlign;c=c||f.getBoundingRect(g,n,l,r);(q=this.transform)&&!d&&(G.copy(b),G.applyTransform(q),b=G);if(d)k=b.x,b=b.y;else{var u=e.textPosition;k=e.textDistance;u instanceof Array?(k=b.x+B(u[0],b.width),b=b.y+B(u[1],b.height),l=l||"left",r=r||"top"):(u=f.adjustTextPositionOnRect(u,b,c,k),k=u.x,b=u.y,l=l||u.textAlign,r=r||u.textBaseline)}if(t){switch(t){case "middle":b-=c.height/2;break;case "bottom":b-=c.height}r="top"}m=m.size;switch(r){case "hanging":case "top":b+=m/1.75;break;case "middle":break;default:b-=m/2.25}switch(l){case "center":k-=c.width/2;break;case "right":k-=c.width}r=p.createNode;(c=this._textVmlEl)?(r=c.firstChild,m=r.nextSibling,l=m.nextSibling):(c=r("line"),m=r("path"),l=r("textpath"),r=r("skew"),l.style["v-text-align"]="left",y(c),m.textpathok=!0,l.on=!0,c.from="0 0",c.to="1000 0.05",D(c,r),D(c,m),D(c,l),this._textVmlEl=c);m=[k,b];t=c.style;q&&d?(x(m,m,q),r.on=!0,r.matrix=q[0].toFixed(3)+","+q[2].toFixed(3)+","+q[1].toFixed(3)+","+q[3].toFixed(3)+",0,0",r.offset=(h(m[0])||0)+","+(h(m[1])||0),r.origin="0 0",t.left="0px",t.top="0px"):(r.on=!1,t.left=h(k)+"px",t.top=h(b)+"px");l.string=String(g).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");try{l.style.font=n}catch(ja){}N(c,"fill",{fill:d?e.fill:e.textFill,opacity:e.opacity},this);N(c,"stroke",{stroke:d?e.stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this);c.style.zIndex=C(this.zlevel,this.z,this.z2);D(a,c)}};m=function(a){A(a,this._textVmlEl);this._textVmlEl=null};q=function(a){D(a,this._textVmlEl)};n=[n,e,c,d,r];for(e=0;e<n.length;e++)c=n[e].prototype,c.drawRectText=a,c.removeRectText=m,c.appendRectText=q;r.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)};r.prototype.onRemove=function(a){this.removeRectText(a)};r.prototype.onAdd=function(a){this.appendRectText(a)}}},function(r,n,a){if(!a(2).canvasSupported){var m,q=window.document,k=!1;try{!q.namespaces.zrvml&&q.namespaces.add("zrvml","urn:schemas-microsoft-com:vml"),m=function(a){return q.createElement("\x3czrvml:"+a+' class\x3d"zrvml"\x3e')}}catch(l){m=function(a){return q.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft-com:vml" class\x3d"zrvml"\x3e')}}r.exports={doc:q,initVML:function(){if(!k){k=!0;var a=q.styleSheets;31>a.length?q.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}},createNode:m}}},function(r,n,a){function m(a,c){l.initVML();this.root=a;this.storage=c;var d=document.createElement("div"),b=document.createElement("div");d.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";b.style.cssText="position:absolute;left:0;top:0;";a.appendChild(d);this._vmlRoot=b;this._vmlViewport=d;this.resize();var e=c.delFromStorage,f=c.addToStorage;c.delFromStorage=function(a){e.call(c,a);a&&a.onRemove&&a.onRemove(b)};c.addToStorage=function(a){a.onAdd&&a.onAdd(b);f.call(c,a)};this._firstPaint=!0}function q(a){return function(){k('In IE8.0 VML mode painter not support method "'+a+'"')}}var k=a(33),l=a(426);m.prototype={constructor:m,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var c=this._vmlRoot,d=0;d<a.length;d++){var b=a[d];if(b.invisible||b.ignore){if(!b.__alreadyNotVisible)b.onRemove(c);b.__alreadyNotVisible=!0}else{if(b.__alreadyNotVisible)b.onAdd(c);b.__alreadyNotVisible=!1;b.__dirty&&(b.beforeBrush&&b.beforeBrush(),(b.brushVML||b.brush).call(b,c),b.afterBrush&&b.afterBrush())}b.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(c),this._firstPaint=!1)},resize:function(a,c){a=null==a?this._getWidth():a;c=null==c?this._getHeight():c;if(this._width!=a||this._height!=c){this._width=a;this._height=c;var d=this._vmlViewport.style;d.width=a+"px";d.height=c+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,c=a.currentStyle;return(a.clientWidth||parseInt(c.width,10))-parseInt(c.paddingLeft,10)-parseInt(c.paddingRight,10)|0},_getHeight:function(){var a=this.root,c=a.currentStyle;return(a.clientHeight||parseInt(c.height,10))-parseInt(c.paddingTop,10)-parseInt(c.paddingBottom,10)|0}};n="getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" ");for(a=0;a<n.length;a++){var f=n[a];m.prototype[f]=q(f)}r.exports=m}])});